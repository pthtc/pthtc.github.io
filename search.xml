<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[【附源码】小程序初窥之简单查单词]]></title>
      <url>http://pengtianhao.com/2018/02/17/%E3%80%90%E9%99%84%E6%BA%90%E7%A0%81%E3%80%91%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%88%9D%E7%AA%A5%E4%B9%8B%E7%AE%80%E5%8D%95%E6%9F%A5%E5%8D%95%E8%AF%8D/</url>
      <content type="html"><![CDATA[<blockquote>
<p>新年假期百无聊赖，于是就看了一下微信小程序的开发方法，花了两天时间入了个门，这里记录一下。</p>
</blockquote>
<p>阅读之前，先确定你知道基本的<code>html+css+js</code>语法，这样就能更好地和我一样，以一个新手的视角来理解小程序。</p>
<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>目标是编写一个查单词的小程序，很明显需要一个输入框（如果有一个placehoder就更好了），然后再加上一个按钮，点击之后如果成功就显示结果，如果失败就提示失败。查词api使用<a href="https://www.shanbay.com/help/developer/api_v1/" target="_blank" rel="external">扇贝api</a>。</p>
<p>所以最后为了简单起见，界面的最终形态就是这样：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/17/161a2fdc552a5ffe?w=640&amp;h=1136&amp;f=jpeg&amp;s=147261" alt=""></p>
<h2 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h2><p>小程序里的最主要的文件有四种：<code>.js</code> <code>.json</code> <code>.wxml</code> <code>.wxss</code></p>
<p>简单理解就是：</p>
<ul>
<li><code>.js</code> 用于控制页面逻辑。</li>
<li><code>.json</code> 用于页面配置，不必须，也可以全局配置，但是页面配置权重高于全局配置。</li>
<li><code>.wxml</code> 类似于<code>.html</code>,用于设置页面内容</li>
<li><code>.wxss</code> 类似于<code>.css</code>，用于设置页面样式，不必须，代码也可以直接写在<code>.wxml</code>内</li>
</ul>
<p>由此，这个迷你项目的项目结构就如下图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/17/161a309b31455970?w=590&amp;h=430&amp;f=jpeg&amp;s=29690" alt=""></p>
<p>唯一的页面是<code>index</code>，<code>app.js</code> <code>app.json</code> <code>project.config.json</code> 应用于全局。</p>
<h2 id="开始编码"><a href="#开始编码" class="headerlink" title="开始编码"></a>开始编码</h2><h3 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h3><p>首先，我们要告诉小程序有哪些页面。<br>其次，需要设置小程序的导航栏标题，因为只有一页，所以只需要设置这一页的内容就可以了，所以统一写在<code>app.json</code>里，当然，你也可以新建一个<code>index.json</code>。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// app.json</span></div><div class="line"></div><div class="line">&#123;</div><div class="line">  <span class="string">"pages"</span>: [</div><div class="line">    <span class="string">"src/pages/index/index"</span></div><div class="line">  ],</div><div class="line">  <span class="string">"window"</span>: &#123;</div><div class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#ffffff"</span>,</div><div class="line">    <span class="string">"navigationBarTextStyle"</span>: <span class="string">"black"</span>,</div><div class="line">    <span class="string">"navigationBarTitleText"</span>: <span class="string">"简单查单词"</span>,</div><div class="line">    <span class="string">"backgroundColor"</span>: <span class="string">"#eeeeee"</span>,</div><div class="line">    <span class="string">"backgroundTextStyle"</span>: <span class="string">"light"</span>,</div><div class="line">    <span class="string">"enablePullDownRefresh"</span>: <span class="literal">false</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="页面内容"><a href="#页面内容" class="headerlink" title="页面内容"></a>页面内容</h3><ol>
<li>首先我们需要一个输入框，从<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/component/input.html" target="_blank" rel="external">微信文档</a>可以看到，我们需要一个<code>input</code>控件。通过<code>placeholder</code>属性添加占位符，然后通过<code>bindinput</code>与输入事件绑定，每当有输入事件的时候，就调用<code>wordInput</code>函数。这里的<code>focus</code> 与 <code>confirm-type</code> 含义你可以<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/component/input.html" target="_blank" rel="external">查看文档</a>来了解。</li>
<li>第二步我们需要一个按钮，点击调用处理函数。所以这里我们用<code>bindtap</code>绑定一个<code>btnClick</code>函数。</li>
<li>最后我们需要显示翻译和例句，使用<code>&#123;&#123;&#125;&#125;</code>来绑定变量，此处的控件为<code>text</code>，它的具体的使用可以<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/component/text.html" target="_blank" rel="external">看这里</a></li>
</ol>
<p>由此，我们得到了如下代码</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="comment">&lt;!-- index.wxml --&gt;</span></span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"请输入英文单词"</span> <span class="attr">bindinput</span>=<span class="string">'wordInput'</span> <span class="attr">focus</span>=<span class="string">"true"</span> <span class="attr">confirm-type</span>=<span class="string">"done"</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'primary'</span> <span class="attr">bindtap</span>=<span class="string">'btnClick'</span>&gt;</span>查询<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"textView"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span><span class="template-variable">&#123;&#123;text&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"senView"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">text</span> &gt;</span><span class="template-variable">&#123;&#123;sentext&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">code</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="页面样式"><a href="#页面样式" class="headerlink" title="页面样式"></a>页面样式</h3><p>这个不多说了，大家都能看懂</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* index.wxss */</span></div><div class="line"></div><div class="line"><span class="selector-tag">input</span>&#123;</div><div class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid grey;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">5%</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">5px</span>;</div><div class="line">  <span class="attribute">border-radius</span>:<span class="number">3px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">button</span>&#123;</div><div class="line">  <span class="comment">/* width: 80%; */</span></div><div class="line">  <span class="attribute">margin</span>: <span class="number">5%</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.textView</span>&#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">5%</span>;</div><div class="line">&#125;<span class="selector-class">.senView</span>&#123;</div><div class="line"> <span class="attribute">margin</span>: <span class="number">5%</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="编写函数"><a href="#编写函数" class="headerlink" title="编写函数"></a>编写函数</h3><h4 id="获取输入框内容"><a href="#获取输入框内容" class="headerlink" title="获取输入框内容"></a>获取输入框内容</h4><p>之前我们已经为<code>bindinput</code>这个输入事件绑定了<code>wordInput</code>函数，现在就来实现它。这个函数的目标是捕捉输入的内容，并保存下来。</p>
<p>在<code>index.js</code>里，我们写下第一个函数，先注册一个变量，然后通过函数赋值。</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// index.js</span></div><div class="line"></div><div class="line"><span class="selector-tag">Page</span>(&#123;</div><div class="line">  <span class="comment">/**</span></div><div class="line">   * 页面的初始数据</div><div class="line">   */</div><div class="line">  <span class="attribute">data</span>: &#123;</div><div class="line">    <span class="attribute">text</span>:<span class="string">""</span>,</div><div class="line">    <span class="attribute">sentext</span>:<span class="string">""</span>,</div><div class="line">    <span class="attribute">checkWord</span>:null</div><div class="line">  &#125;,</div><div class="line">  <span class="attribute">wordInput</span>: function(e)&#123;</div><div class="line">    console.log(e);</div><div class="line">    <span class="selector-tag">this</span><span class="selector-class">.setData</span>(&#123;<span class="attribute">checkWord</span>:e.detail.value&#125;);</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>由此，我们将每一次输入结果实时地保存了起来。</p>
<h4 id="网络请求"><a href="#网络请求" class="headerlink" title="网络请求"></a>网络请求</h4><p>根据<a href="https://www.shanbay.com/help/developer/api_v1/" target="_blank" rel="external">api文档</a>，我们要先写两个网络请求函数，发送待翻译的信息，接收结果。这次在<code>app.js</code>里写这个函数，这样未来如果有需要可以复用。这里的参数<code>cb</code>是一个函数，用于接收返回值。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// app.js</span></div><div class="line"></div><div class="line">App(&#123;</div><div class="line">  getInfo: <span class="function"><span class="keyword">function</span> <span class="params">(words,cb)</span></span>&#123;</div><div class="line">    <span class="keyword">const</span> requestTask = wx.request(&#123;</div><div class="line">      url: <span class="string">'https://api.shanbay.com/bdc/search/'</span>,</div><div class="line">      data: &#123;</div><div class="line">        word: words</div><div class="line">      &#125;,</div><div class="line">      header: &#123;</div><div class="line">        <span class="string">'content-type'</span>: <span class="string">'application/json'</span></div><div class="line">      &#125;,</div><div class="line">      success: <span class="function"><span class="keyword">function</span> <span class="params">(res)</span> </span>&#123;</div><div class="line">        cb(res.data);</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  &#125;,</div><div class="line">  getSen: <span class="function"><span class="keyword">function</span> <span class="params">(wordsid,cb)</span></span>&#123;</div><div class="line">    <span class="keyword">const</span> requestTask = wx.request(&#123;</div><div class="line">      url: <span class="string">'https://api.shanbay.com/bdc/example/'</span>,</div><div class="line">      data: &#123;</div><div class="line">        vocabulary_id: wordsid,</div><div class="line">        <span class="string">"type"</span>: <span class="string">"sys"</span></div><div class="line">      &#125;,</div><div class="line">      header: &#123;</div><div class="line">        <span class="string">'content-type'</span>: <span class="string">'application/json'</span></div><div class="line">      &#125;,</div><div class="line">      success: <span class="function"><span class="keyword">function</span> <span class="params">(res)</span> </span>&#123;</div><div class="line">        cb(res.data);</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h4 id="按钮点击事件"><a href="#按钮点击事件" class="headerlink" title="按钮点击事件"></a>按钮点击事件</h4><p>上面我们已经说过，我们为按钮点击事件绑定了一个<code>btnClick</code>函数，这个函数将负责调用<code>app.js</code>里的两个请求函数，获取返回值，在页面上显示内容。这里要注意的是，因为请求函数位置问题，所以要写<code>var app= getApp()</code> 和 <code>var thispage = this</code>。</p>
<p>通过<a href="https://www.shanbay.com/help/developer/api_v1/#query_word" target="_blank" rel="external">api返回示例</a>，我们看到：在查询单词意思时，需要发送英文翻译<code>word</code>，得到返回值中的 <code>data-&gt;cn_definition-&gt;defn</code> 和 <code>data-&gt;id</code>；在查询例句时，需要发送上面获得的 <code>id</code>，得到返回值中的 <code>data-&gt;annotation</code> 和 <code>data-&gt;translation</code>。在这里值得注意的是，例句部分，扇贝在对应单词处加了<code>&lt;vocab&gt;&lt;/vocab&gt;</code>标签，这里可以用正则去掉。</p>
<p>于是我们的<code>index.js</code>就变成了：</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// index.js</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> app= getApp();</div><div class="line"></div><div class="line">Page(&#123;</div><div class="line">  <span class="keyword">data</span>: &#123;</div><div class="line">    text:<span class="string">""</span>,</div><div class="line">    sentext:<span class="string">""</span>,</div><div class="line">    checkWord:<span class="literal">null</span></div><div class="line">  &#125;,</div><div class="line">  wordInput: function(e)&#123;</div><div class="line">    console.log(e);</div><div class="line">    <span class="keyword">this</span>.setData(&#123;checkWord:e.detail.value&#125;);</div><div class="line">  &#125;,</div><div class="line">  btnClick: function ()&#123;</div><div class="line">    <span class="keyword">var</span> thispage = <span class="keyword">this</span>;</div><div class="line">    app.getInfo(<span class="keyword">this</span>.<span class="keyword">data</span>.checkWord,function (<span class="keyword">data</span>)&#123;</div><div class="line">      <span class="keyword">if</span> (<span class="keyword">data</span>.<span class="keyword">data</span>.cn_definition)&#123;</div><div class="line">        console.log(<span class="keyword">data</span>.<span class="keyword">data</span>.id);</div><div class="line">        thispage.setData(&#123; text: <span class="keyword">data</span>.<span class="keyword">data</span>.cn_definition.defn &#125;);</div><div class="line">        app.getSen(<span class="keyword">data</span>.<span class="keyword">data</span>.id,function (<span class="keyword">data</span>)&#123;</div><div class="line">          <span class="keyword">var</span> sen = (<span class="keyword">data</span>.<span class="keyword">data</span>)[<span class="number">0</span>].<span class="keyword">annotation</span>;</div><div class="line">          sen = sen.replace(/&lt;[^&gt;]+&gt;/g, <span class="string">""</span>);</div><div class="line">          <span class="keyword">var</span> tran = (<span class="keyword">data</span>.<span class="keyword">data</span>)[<span class="number">0</span>].translation;</div><div class="line">          <span class="keyword">var</span> showText = <span class="string">"例句:"</span>+<span class="string">"\n"</span>+sen+<span class="string">"\n"</span>+tran;</div><div class="line">          thispage.setData(&#123; sentext: showText&#125;);</div><div class="line">          console.log(sen);</div><div class="line">        &#125;)</div><div class="line">      &#125;<span class="keyword">else</span>&#123;</div><div class="line">        thispage.setData(&#123; text: <span class="string">"查询不到这个单词"</span> &#125;);</div><div class="line">        thispage.setData(&#123; sentext: <span class="string">""</span> &#125;);</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>这样，我们就完成了整个小程序的编码工作。</p>
<h2 id="体验"><a href="#体验" class="headerlink" title="体验"></a>体验</h2><p>小程序已经上架，欢迎体验。</p>
<p><img src="https://github.com/pthtc/EasyDictionary-Mini-Program/blob/master/image/qr.jpg?raw=true" alt="小程序码"></p>
<h2 id="源码及使用指南"><a href="#源码及使用指南" class="headerlink" title="源码及使用指南"></a>源码及使用指南</h2><p>源码地址（喜欢的话请点赞）：<a href="https://github.com/pthtc/EasyDictionary-Mini-Program/tree/master" target="_blank" rel="external">EasyDictionary-Mini-Program</a></p>
<ul>
<li>下载<a href="https://github.com/pthtc/EasyDictionary-Mini-Program/tree/master" target="_blank" rel="external">源码</a></li>
<li>打开<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html" target="_blank" rel="external">微信开发者工具</a>，新建项目</li>
</ul>
<p><img src="https://github.com/pthtc/EasyDictionary-Mini-Program/blob/master/image/1.jpg?raw=true" alt="1"></p>
<ul>
<li>选择项目地址为下载的文件夹</li>
</ul>
<p><img src="https://github.com/pthtc/EasyDictionary-Mini-Program/blob/master/image/2.png?raw=true" alt="2"></p>
<ul>
<li>编译、扫码预览</li>
</ul>
<p><img src="https://github.com/pthtc/EasyDictionary-Mini-Program/blob/master/image/3.png?raw=true" alt="3"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【翻译】想帮助用户做决定？你的APP可以这样设计！]]></title>
      <url>http://pengtianhao.com/2018/02/02/%E3%80%90%E7%BF%BB%E8%AF%91%E3%80%91%E6%83%B3%E5%B8%AE%E5%8A%A9%E7%94%A8%E6%88%B7%E5%81%9A%E5%86%B3%E5%AE%9A%EF%BC%9F%E4%BD%A0%E7%9A%84APP%E5%8F%AF%E4%BB%A5%E8%BF%99%E6%A0%B7%E8%AE%BE%E8%AE%A1%EF%BC%81/</url>
      <content type="html"><![CDATA[<blockquote>
<ul>
<li>原文地址：<a href="https://medium.com/googleplaydev/design-your-app-for-decision-making-e9e5745508e4" target="_blank" rel="external">Design your app for decision-making</a><a id="more"></a></li>
<li>原文作者：<a href="https://medium.com/@_jeniwren?source=post_header_lockup" target="_blank" rel="external">Jeni</a></li>
<li>译文出自：<a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a></li>
<li>本文永久链接：<a href="https://github.com/xitu/gold-miner/blob/master/TODO/design-your-app-for-decision-making.md" target="_blank" rel="external">https://github.com/xitu/gold-miner/blob/master/TODO/design-your-app-for-decision-making.md</a></li>
<li>译者：<a href="https://github.com/pthtc" target="_blank" rel="external">PTHFLY</a></li>
<li>校对者：<a href="https://github.com/ryouaki" target="_blank" rel="external">ryouaki</a></li>
</ul>
</blockquote>
<h1 id="想帮助用户做决定？你的APP可以这样设计！"><a href="#想帮助用户做决定？你的APP可以这样设计！" class="headerlink" title="想帮助用户做决定？你的APP可以这样设计！"></a>想帮助用户做决定？你的APP可以这样设计！</h1><h2 id="简单化，触发器，激励-—-一个优化用户行为的三步走方法-1"><a href="#简单化，触发器，激励-—-一个优化用户行为的三步走方法-1" class="headerlink" title="简单化，触发器，激励 — 一个优化用户行为的三步走方法[1]"></a><em>简单化，触发器，激励 — 一个优化用户行为的三步走方法</em><sup><a href="#note1">[1]</a></sup></h2><p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac5beae7b27?w=800&amp;h=421&amp;f=jpeg&amp;s=32383" alt=""></p>
<p>如果你从事移动APP行业，每一天你都有潜在机会影响几百万人的行动。无论是参与使用一个新功能，每天访问你的应用，或是订阅你的增值服务， 你往往很可能在心里有一个希望更多用户会做的关键行为。但是你如何才能增加用户行动的机会呢？</p>
<p>无论你希望的行为是什么， 这篇博文将会把一个优化用户行为结果的三步走方法介绍给你，分别是简化、触发器、积极性（其中的第一部分借鉴了来自于行为经济学、心理学和游戏化的理念）。特别地，在这篇博文中我们将覆盖前两步，也就是简化和触发器。</p>
<p>当考虑鼓励某个特定的用户行为策略的时候，你应该从哪里开始？斯坦福 <a href="http://captology.stanford.edu/" target="_blank" rel="external">Persuasive Tech Lab</a> 的院长，BJ Fogg博士创建了 Fogg 行为模型，来评估三个因素（能力、触发器、积极性）对于给定行为发生可能性的影响：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac5bae13fab?w=484&amp;h=471&amp;f=png&amp;s=36933" alt=""></p>
<p>Fogg 行为模型</p>
<p>模型指出三个影响用户行为的原因，并由此导出三个驱动行为改变的关键步骤</p>
<ul>
<li>步骤一：<strong>简化</strong>所需的行为。通过降低（最好是移除）不利于行为发生的阻碍来鼓励有参与感、有积极性的用户发生行为。</li>
<li>步骤二：<strong>触发</strong>来自于积极用户<sup><a href="#note2">[2]</a></sup>的行为。『触发器』（提示、提示音、行为召唤）的出现甚至可以在积极性水平略低的情况下驱动行为。</li>
<li>步骤三：激发用户的<strong>积极性</strong>。积极性很难被影响，但是如果所需的行为相当『容易』去做，通过吸引人的信息或者加入游戏因素来提升积极性水平可以激励用户按你的想法行动。</li>
</ul>
<p>到此为止还不错。但是你如何执行这些步骤呢？以下我们将会深入探讨前两项步骤。（我会在未来的博文中讨论第三步，激发用户积极性）</p>
<h3 id="步骤一，简化所需行为"><a href="#步骤一，简化所需行为" class="headerlink" title="步骤一，简化所需行为"></a>步骤一，简化所需行为</h3><p>你希望用户去做的行为必须非常容易做到（做起来很少或者没有阻碍）并且容易作出决定（有清晰易懂的好处）。我们做出的每个行为都需要付出代价（比如时间、金钱和认知负担）。这些代价是一种阻碍，每个决定都在代价和收获的好处之间权衡的结果。比如，我们中许多人在年初都会有变得健康的强烈冲动，但是当真需要付出必要锻炼的时候又会导致许多决心的破产。</p>
<p>什么阻碍或者『要求』会降低你的用户进行行动的机会呢？通常用户会付出代价的阻碍包括繁琐的手动输入，冗余的界面，过量的选择，以及因为没有清晰告诉用户要干什么从而引起困惑的信息。这些阻碍可以通过分析用户在应用内的行为数据来定量辨别，也可以通过用户搜索等方式定性识别。一旦你已经识别了用户行动的阻碍，就到了降低或者移除它们的时候了。</p>
<h4 id="降低行动所需时间"><a href="#降低行动所需时间" class="headerlink" title="降低行动所需时间"></a><strong>降低行动所需时间</strong></h4><p>从应用被发现到下载需要有几次点击，更不用说等待下载完成的时间。然而 <a href="https://developer.android.com/topic/instant-apps/index.html" target="_blank" rel="external">Android Instant Apps</a> 是一个通过立即进行本地体验无需下载门槛，让用户快速完成许多任务的选择（例如看一个视频或者支付）。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac5bcd4dd2e?w=440&amp;h=449&amp;f=png&amp;s=24523" alt=""></p>
<p>一旦你的用户打开了你的应用，注册过程是下一个繁琐、耗时的雷区。比起每次都要求用户登录，开发者们喜欢的 <a href="https://play.google.com/store/apps/details?id=com.ticketmaster.mobile.android.uk" target="_blank" rel="external">Ticketmaster</a> 和 <a href="https://play.google.com/store/apps/details?id=com.alibaba.aliexpresshd" target="_blank" rel="external">AliExpress</a> 通过整合 <a href="http://get.google.com/smartlock/#for-passwords" target="_blank" rel="external">Google Smart Lock</a> 能够有效省略手动密码这一步骤。它们随后就能看见登录失败的比例大幅下降。</p>
<p>通过进行漏斗分析，开发者能够跟踪核心流程中的用户流失情况，帮助定位所需行为的阻碍。在实行漏斗分析方面，食品配送公司 <a href="https://play.google.com/store/apps/details?id=com.deliveroo.orderapp" target="_blank" rel="external">Deliveroo</a> 识别了一个在首次结账环节的转换流失。他们注意到同样的流失情况并不会在已经将支付和配送信息的存储在应用中的老用户身上发生。意识到他们的注册流程可能是问题的一部分，团队优先考虑部署 <a href="https://developers.google.com/android-pay/" target="_blank" rel="external">Android Pay</a> 来为新用户创造一个简单的结账体验。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac5d843d04b?w=446&amp;h=457&amp;f=png&amp;s=40081" alt=""></p>
<h4 id="降低（实际存在或是可察觉的）花费"><a href="#降低（实际存在或是可察觉的）花费" class="headerlink" title="降低（实际存在或是可察觉的）花费"></a><strong>降低（实际存在或是可察觉的）花费</strong></h4><p>降低花费不是意味着你应该全盘降低价格！真实含义是每个预期的购买者有一个不同的『甜蜜点』，根据应用匹配程度、用户位置以及用户综合支付能力反映出他们认为合适的价格。</p>
<p>Tamzin Taylor，Google Play的西欧应用主管，曾经讲出了一些有关于价格优化的最佳关键实践，比如使用 <a href="http://www.economist.com/content/big-mac-index" target="_blank" rel="external">Big Mac Index</a> 进行购买力对比，从而评估每个市场的实际支付能力。</p>
<p><a href="https://www.youtube.com/embed/LQ6MsPmUa38" target="_blank" rel="external"><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac627dd9c00?w=639&amp;h=390&amp;f=png&amp;s=34324" alt="Watch the video"></a></p>
<p>另一个降低成为潜在购买者门槛花费的方法是降低初始消费要求。我们最近为应用订购做的 <a href="https://support.google.com/googleplay/android-developer/answer/140504#intro" target="_blank" rel="external">Introductory Pricing</a> 功能允许你做到这件事。</p>
<p>当我们考虑可察觉的花费的时候，价格显示的方式对价格的感知有重大的影响这件事很有必要被注意带。</p>
<p><strong>1. 锚定效应</strong></p>
<p>开发者和零售商经常通过<a href="https://hbr.org/2013/02/why-good-better-best-prices-are-so-effective" target="_blank" rel="external">堆叠『好』、『更好』、『最好』等词</a>试图『推动』用户去购买某个特定商品。这个方法会因为标志价格与更便宜或更贵的价格点一起放置而起作用。更高价格的『最好』选择扮演了一个参考点，或者说锚点，让用户认为标准价格看起来是个更便宜和超值的选择。</p>
<blockquote>
<p>在一定情境里，我们倾向于中间价格因为他们看起来『公平』。<br>— <a href="https://medium.com/@dkthomp" target="_blank" rel="external">Derek Thompson</a>, The Atlantic</p>
</blockquote>
<p>Dan Ariely 通过一个在他的书《Predictably Irrational.》中一个现在很著名的关于经济学家价格策略的例子引起了我们的注意。杂志提供了三种选择：一个 59 美金的电子版，一个 125 美金的纸质版和一个 125 美金包含纸质和电子两种版本的套餐。Ariely 指出『相对于纯纸质选择，电子+纸质的选择看起来明显超值』，这个说服我们购买第三个选择因为这个『更容易』评估某物的价值当它被放置在有另一个明显不如它的选择旁边。</p>
<p><strong>2. 框架效应</strong></p>
<p>给你两个选择：一个付 60 美金一年，一个付 5 美金每个月，你会选哪个？许多有订阅功能的应用会向潜在购买者高亮显示年付的价格，而不是月付价格。因为这会显得被察觉的价格更低，虽然在一年中他们的花费是一样的。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac5bd18a428?w=451&amp;h=446&amp;f=png&amp;s=38131" alt=""></p>
<h4 id="降低认知负担"><a href="#降低认知负担" class="headerlink" title="降低认知负担"></a><strong>降低认知负担</strong></h4><p>你给用户提供越多选择，用户在比较选择和做决定中的心理负担就越沉重。</p>
<p>作为开发者，在用户使用过程的关键节点，除了评估你提供给用户的选择本身，评估你显示选择的方式也值得，因为这将会对做决定的过程有巨大的影响。</p>
<p><strong>限制的价值</strong></p>
<p>比如，在航班应用 <a href="https://play.google.com/store/apps/details?id=net.skyscanner.android.main" target="_blank" rel="external">Skyscanner</a> 中搜索经常获得上千条结果。你可以理性地辩解说顾客们应该衡量每个单独结果的价值。但是在有限时间和认知负担的阻碍下，Skyscanner 决定以一种更好理解的方式聚合结果，从而限制选择。当同样数量的结果被返回，这个页面展示上的简单改变提升了 14% 的转化率。</p>
<p><strong>默认的重要性</strong></p>
<p>总的来说，人们跟随最少阻碍的路径行动。这意味着预先设置的选项是优化用户行为的有力工具，尤其是当这些默认选项对用户有明显好处的时候。</p>
<ul>
<li><p>例如，食谱应用 <a href="https://play.google.com/store/apps/details?id=com.simplefeast.android.app" target="_blank" rel="external">Simple Feast</a> 决定在增值服务的页面强调他们年付订阅。他们用视觉强调的方式展示，并设定为默认用户选择。结果他们发现选择年付订阅的用户增加了。</p>
</li>
<li><p>复选框一个表面上的小改变也有巨大的影响。默认的力量已经被利用并产生了巨大的影响，并在诸如器官捐献领域，很多国家的表格都有『自愿退出』的政策。<a href="http://www.dangoldstein.com/papers/JohnsonGoldstein_Defaults_Transplantation2004.pdf" target="_blank" rel="external">点击查看更高的器官捐献同意比例</a>。为什么？因为人们倾向于继续维持现状。</p>
</li>
</ul>
<h3 id="Step-2-触发积极用户的行为"><a href="#Step-2-触发积极用户的行为" class="headerlink" title="Step 2. 触发积极用户的行为"></a>Step 2. 触发积极用户的行为</h3><p>鼓励所需用户行为的第二步是在主动用户的相关路径中设置相关触发，从而表现出可操作性。BJ Fogg有一个一个值得纪念名言：『在积极用户的使用路径上放置热点触发器』。触发器往往对于用户来说是陌生的，因为它是一个从开发者角度给出的想要影响用户下一步行为的提示、提醒或者行为召唤。一个推送在这个意义上是一个触发器，并且当它是可操作、定制化、时间合适的时候会非常有效。</p>
<p>语言学习软件的 <a href="https://play.google.com/store/apps/dev?id=8335366955203612525" target="_blank" rel="external">Busuu</a> 的产品主管 <a href="https://medium.com/@antoinesakho" target="_blank" rel="external">Antoine Sakho</a> 在他的 <a href="https://medium.com/@antoinesakho/designing-push-notifications-that-dont-suck-af6aaa0ea85" target="_blank" rel="external">Medium 文章</a> 中介绍了他们如何在他们的推送策略中应用 <a href="https://medium.com/@nireyal" target="_blank" rel="external">Nir Eyal</a>的<a href="http://www.nirandfar.com/hooked" target="_blank" rel="external">钩子模型</a> ，从而获得推送打开率300%的增长。他写道：</p>
<blockquote>
<p><em>首先，我们通过个性化推送提示用户</em> <strong><em> (外部触发) </em></strong> <em>从而引发好奇</em> <strong><em>(内部触发)</em></strong><em>. 点击推送， 他们会经历一个测试 **</em>(行为)<em>**</em>。 在测试的最后， 他们会看到一个包含分数的恭喜页面<em> **</em>(奖励)<em>**</em>。 最后，通过训练他们已经学到的词汇，他们强化了长期记忆<em> **</em>(投入)_**.</p>
</blockquote>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac5d339dd56?w=800&amp;h=484&amp;f=gif&amp;s=116216" alt=""></p>
<p>钩子模型，应用于 Busuu 的用户召回活动</p>
<p>尽管推送对于有效召回用户有一定保证，你还是应该避开这些常见陷阱：</p>
<ol>
<li>在不合适的时间推送通知或者推送与用户环境无关的信息，只会产生巨大的反作用。</li>
<li>总是推送相同消息会很快被用户厌烦：跟随Busuu的指引，永远不要把同一条通知推送两遍。</li>
<li>不要归于依赖推送来驱动用户行为。当无需提醒用户也能主动参与应用内容的时候，应用习惯才会最终养成。<a href="https://medium.com/@nireyal" target="_blank" rel="external">Nir Eyal</a> 在他 <a href="https://medium.com/behavior-design/the-psychology-of-notifications-how-to-send-triggers-that-work-25c7be3d84d3#.e4sbkzj7l" target="_blank" rel="external">Medium 文章</a>中总结了这些：</li>
</ol>
<blockquote>
<p><em>能让人养成习惯的产品会在内部触发被感知的时候（比如不确定感或者无聊感）结合外部触发器（例如推送），让用户养成习惯。</em></p>
</blockquote>
<p>最成功的外部刺激是立即反馈。因此你如何构建清晰的时刻。所以你如何在用户应该在确定时刻采取行动的思想下构建这种反馈？根据 <a href="https://en.wikipedia.org/wiki/Prospect_theory" target="_blank" rel="external">Prospect 理论</a>，人们行动会倾向于避免损失，因为同样数量下损失的痛苦会大于获得。这意味着比起有维护的已得的事物，我们更倾向于避免错过一些事情。</p>
<p>限时限量促销是核心工具，许多开发者用它来驱动用户立即购买而不是之后再说。这些手段被我们对失去的厌恶驱动。毕竟，不行动很快导致一种可能性 —— 『错过』交易或者物品。这个点子也可以被用作构建更具说服力的信息。例如，你可以选择聚焦在你用户在不行动可能失去，行动了才会获得的东西。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bac6aac2a7fe?w=412&amp;h=729&amp;f=png&amp;s=126270" alt=""></p>
<p>健康和生活方式 app <a href="https://play.google.com/store/apps/details?id=com.sillens.shapeupclub" target="_blank" rel="external">Lifesum</a> 在加入为新用户准备的限时『新手套装』的第一天就看到了 15% 的增长。 『仅在今天』的信息形成了一种防止错过的紧迫感，驱使用户立即行动。</p>
<p><strong>关键结论总结:</strong></p>
<ul>
<li>在代价和必要资源没有清晰地与最终价值挂钩的时候，用户将不会行动。</li>
<li>如果在可选项之间很难进行评估和选择，用户也不倾向于行动。</li>
<li>如果你在内容中给用户提供相关、可操作的触发，用户更倾向于进行按开发者意愿行动。</li>
</ul>
<p>在 <strong>3月19日周五**</strong>8:30 am (PST)** 加入或者访问 <a href="https://events.google.com/io/schedule/?sid=b187c653-5143-4b2d-addc-103e1f04fbc2#may-19" target="_blank" rel="external">Google I/O talk, “Boost User Retention with Behavioral Insights”</a> ，你可以获得更多的信息<br>。我将会和 <a href="https://play.google.com/store/apps/details?id=co.thefabulous.app" target="_blank" rel="external">The Fabulous</a> 的 CEO Sami Ben Hassine 一起，讨论开发者如何才能应用行为观点来构建更多有吸引力的应用体验。</p>
<hr>
<h4 id="你怎么想"><a href="#你怎么想" class="headerlink" title="你怎么想?"></a>你怎么想?</h4><p>你有关于在优化用户决定方面的问题或者想法吗？在下面评论区继续讨论或者通过井号标签 #AskPlayDev 通知我们，我们会在 <a href="http://twitter.com/googleplaydev" target="_blank" rel="external">@GooglePlayDev</a> （我们会定期分享在上面就如何在Google Play成功的话题分享新闻和小贴士）上回复。</p>
<hr>
<p><em>在我</em> <a href="https://medium.com/googleplaydev/the-right-app-rewards-to-boost-motivation-c1ec86390450" target="_blank" rel="external">第二篇博文</a><em>，我会解释一些行为改变第三步 —— 激发用户积极性的细节。我将探索积极性心理，它与游戏化的关系以及，正确的奖励方法。</em></p>
<p><em>尤其感谢</em> <a href="https://medium.com/@aaronotani" target="_blank" rel="external">Aaron Otani</a> <em>为写这篇博文草稿时提供的反馈。</em></p>
<hr>
<p>译者注：</p>
<ol>
<li><a name="note1"></a> 这篇文章是作者三部曲的第一篇，续集详见：<a href="https://medium.com/googleplaydev/the-right-app-rewards-to-boost-motivation-c1ec86390450" target="_blank" rel="external">传送门</a></li>
<li><a name="note2"></a> 原文为<code>motivated users</code>，此处翻译为积极用户，期待指正</li>
</ol>
<hr>
<blockquote>
<p><a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a> 是一个翻译优质互联网技术文章的社区，文章来源为 <a href="https://juejin.im" target="_blank" rel="external">掘金</a> 上的英文分享文章。内容覆盖 <a href="https://github.com/xitu/gold-miner#android" target="_blank" rel="external">Android</a>、<a href="https://github.com/xitu/gold-miner#ios" target="_blank" rel="external">iOS</a>、<a href="https://github.com/xitu/gold-miner#前端" target="_blank" rel="external">前端</a>、<a href="https://github.com/xitu/gold-miner#后端" target="_blank" rel="external">后端</a>、<a href="https://github.com/xitu/gold-miner#区块链" target="_blank" rel="external">区块链</a>、<a href="https://github.com/xitu/gold-miner#产品" target="_blank" rel="external">产品</a>、<a href="https://github.com/xitu/gold-miner#设计" target="_blank" rel="external">设计</a>、<a href="https://github.com/xitu/gold-miner#人工智能" target="_blank" rel="external">人工智能</a>等领域，想要查看更多优质译文请持续关注 <a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a>、<a href="http://weibo.com/juejinfanyi" target="_blank" rel="external">官方微博</a>、<a href="https://zhuanlan.zhihu.com/juejinfanyi" target="_blank" rel="external">知乎专栏</a>。</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【翻译】断点：像专家一样调试代码]]></title>
      <url>http://pengtianhao.com/2018/02/02/%E3%80%90%E7%BF%BB%E8%AF%91%E3%80%91%E6%96%AD%E7%82%B9%EF%BC%9A%E5%83%8F%E4%B8%93%E5%AE%B6%E4%B8%80%E6%A0%B7%E8%B0%83%E8%AF%95%E4%BB%A3%E7%A0%81/</url>
      <content type="html"><![CDATA[<blockquote>
<ul>
<li>原文地址：<a href="https://cheesecakelabs.com/blog/breakpoints-debugging-like-pro/" target="_blank" rel="external">Breakpoints: Debugging like a Pro</a><a id="more"></a></li>
<li>原文作者：<a href="https://cheesecakelabs.com/blog/author/alan/" target="_blank" rel="external">Alan Ostanik</a></li>
<li>译文出自：<a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a></li>
<li>本文永久链接：<a href="https://github.com/xitu/gold-miner/blob/master/TODO/breakpoints-debugging-like-pro.md" target="_blank" rel="external">https://github.com/xitu/gold-miner/blob/master/TODO/breakpoints-debugging-like-pro.md</a></li>
<li>译者：<a href="https://github.com/pthtc" target="_blank" rel="external">PTHFLY</a></li>
<li>校对者：<a href="https://github.com/ryouaki" target="_blank" rel="external">ryouaki</a></li>
</ul>
</blockquote>
<h1 id="断点：像专家一样调试代码"><a href="#断点：像专家一样调试代码" class="headerlink" title="断点：像专家一样调试代码"></a>断点：像专家一样调试代码</h1><p><img src="https://user-gold-cdn.xitu.io/2018/2/1/1615037100dcf8e5?w=2000&amp;h=720&amp;f=png&amp;s=12549" alt=""></p>
<p>当我刚开始成为一名iOS开发者的时候，我最大的问题是：当应用崩溃时，我真的不知道 iOS 、 Swift 、Objective-C 都是如何工作的。那时候，我写了很多烂代码，从不担心内存使用、内存访问、 ARC （译者注：Automatic Reference Counting ）。那仅仅是因为我不知道那些事情。看在上帝的份上，我是个菜鸟。</p>
<p>就像许多新手一样， <a href="http://www.stackoverflow.com" title="Stack Overflow" target="_blank" rel="external">Stack Overflow</a> 社区教会我许多关于『如何做正确的事情』的方法。我学到了许多帮助提升工作过程的窍门。在这篇文章中，我将分享在这一阶段过程中最重要的一些工具，那就是<strong>断点</strong>！</p>
<p>那么，撸起袖子干起来吧。🙂</p>
<h1 id="断点"><a href="#断点" class="headerlink" title="断点"></a>断点</h1><p>毫无疑问， Xcode 断点是一个强大的工具。其主要目的是调试代码，但是如果我说他们还要更多作用呢？ OK，那我们从一些窍门开始吧。</p>
<h2 id="Conditioning-breakpoints-条件断点"><a href="#Conditioning-breakpoints-条件断点" class="headerlink" title="Conditioning breakpoints 条件断点"></a>Conditioning breakpoints 条件断点</h2><p>也许你已经陷入了这样一种困境：你的 <em>TableView</em> 对于所有用户 model 都运行良好，可就是有那么一个引起来一些麻烦。为了调试这个实例，首先你可能会想：『 <em>Ok ， 我会在 cell 装载的地方打个断点看看什么情况</em>』。但是对于每个 cell ，甚至是暂时正常的那些，你的断点都会被激活，你不得不不停跳过直到你抵达你想要调试的那个。</p>
<p><a href="https://user-gold-cdn.xitu.io/2018/2/1/161503705af0e010?w=240&amp;h=196&amp;f=gif&amp;s=3600395" target="_blank" rel="external"><img src="https://user-gold-cdn.xitu.io/2018/2/1/161503705af0e010?w=240&amp;h=196&amp;f=gif&amp;s=3600395" alt="The Office TV show gif, saying &quot;please god, no&quot;"></a></p>
<p>为了解决这些问题，你可以继续然后给断点设置一个停止的条件，就像我对用户『 Charlinho 』做的那样。<br><img src="https://user-gold-cdn.xitu.io/2018/2/1/161503702f39fd73?w=476&amp;h=146&amp;f=png&amp;s=14899" alt="A conditional breakpoint screenshot"></p>
<h2 id="Symbolic-Breakpoints-标志断点"><a href="#Symbolic-Breakpoints-标志断点" class="headerlink" title="Symbolic Breakpoints 标志断点"></a>Symbolic Breakpoints 标志断点</h2><blockquote>
<p><em>“放轻松，我会用 pod ，那应该会给我们省点工作量。”</em></p>
</blockquote>
<p>谁都无法保证永远不会说这句话。但是使用 pod 或者一个外部库意味着你向你的工程引入了外部代码并且也许你并不知道它是怎么写出来的。比如说你发现在 pod 内部一堆方法里存在一个错误，但是你不知道这个方法在哪里。做个深呼吸，保持冷静。你有<strong><em>Symbolic Breakpoints</em></strong><em>.</em></p>
<p>当事先声明的 <em>标志</em> 被唤醒，这些断点会被激活。 <em>标志</em> 可以是任何非成员函数、实例、类方法，是否在你的类里都可以。因此在函数中加一个断点，无论谁唤醒它，你只要加一个  <em>Symbolic Breakpoint</em> 来观察你想要调试的函数。在我下面的样例中，我观察  <em>UIViewAlertForUnsatisfiableConstraints</em> 方法。每当 Xcode 发现 <em>Autolayout</em> 问题的时候，这个方法都会被唤醒。你可以看在<a href="http://nshint.io/blog/2015/08/17/autolayout-breakpoints/" target="_blank" rel="external">这篇博文</a>看一个更深入的例子。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/1/161503703cba303b?w=476&amp;h=191&amp;f=png&amp;s=18623" alt="A Symbolic breakpoint option screenshot"></p>
<h2 id="Customizing-breakpoints-自定义断点"><a href="#Customizing-breakpoints-自定义断点" class="headerlink" title="Customizing breakpoints 自定义断点"></a>Customizing breakpoints 自定义断点</h2><p>像我之前说的，断点是一个强大的工具。你知道吗？你甚至可以在端点上自定义动作。是的，你可以这么做！你可以运行 AppleScript ，捕获 CPU 框架，使用 LLDB ( Low-level Debugger ， XCode 内置的调试工具)命令，甚至 shell 命令。</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/1/161503703ed256a5?w=459&amp;h=176&amp;f=png&amp;s=31832" alt=""></p>
<p>你只需要简单地点击右边的按钮，选择 <em>edit breakpoint</em> 。</p>
<h3 id="好了，你看会想-“酷！但是为什么要这么做？”"><a href="#好了，你看会想-“酷！但是为什么要这么做？”" class="headerlink" title="好了，你看会想: “酷！但是为什么要这么做？”"></a>好了，你看会想: “酷！但是为什么要这么做？”</h3><p>我会给你一个很好的使用案例来帮助你的理解。一个 APP 中最常见的功能是登录，有时候测试它有点无聊。如果你正在同时使用管理员账号和普通账号，你需要不停地输入用户和密码，会让这个过程变得难以忍受。一般的『自动化』登录页面的方法是创建一个 <em>模拟</em> 实例，并把它应用于 <em>if debug</em> 分句。像这样：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TestCredentials</span> </span>&#123;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">let</span> username = <span class="string">"robo1"</span></div><div class="line">    <span class="keyword">static</span> <span class="keyword">let</span> password = <span class="string">"xxxxxx"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">fillDebugData</span><span class="params">()</span></span> &#123;</div><div class="line">     <span class="keyword">self</span>.userNameTxtField.text = <span class="type">TestCredentials</span>.username</div><div class="line">     <span class="keyword">self</span>.passwordTxtField.text = <span class="type">TestCredentials</span>.password</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="但是你可以用断点来让事情变得简单一点！"><a href="#但是你可以用断点来让事情变得简单一点！" class="headerlink" title="但是你可以用断点来让事情变得简单一点！"></a>但是你可以用断点来让事情变得简单一点！</h3><p>进入登录页面，加一个断点，然后加了两个填写账号密码的 LLDB 表达式。像我下面的例子一样：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/2/1/161503703dfc124e?w=485&amp;h=258&amp;f=png&amp;s=22672" alt="A Custom breakpoint executing express commands. "></p>
<p>考虑到这一点，你可以加两个不同身份的断点。你只要生效/失效你想要测试的那个，就可以在两个身份间切换了。一旦你在运行中切换用户，也不需要重新构建。</p>
<p>很酷，不是吗？</p>
<h1 id="COMBO-BREAKER"><a href="#COMBO-BREAKER" class="headerlink" title="COMBO BREAKER!"></a>COMBO BREAKER!</h1><p>在我写这篇文章的时候，WWDC 2017 正在举行。他们发布了一些例如新版 Xcode 9 这样的酷炫家伙。如果你想知道在 Xcode 9 中有哪些新的调试工具，我强烈推荐看 <a href="https://developer.apple.com/videos/play/wwdc2017/404/" target="_blank" rel="external">Session 404</a>。</p>
<p><a href="https://user-gold-cdn.xitu.io/2018/2/1/161503707b70c131" target="_blank" rel="external"><img src="https://user-gold-cdn.xitu.io/2018/2/1/161503707b70c131" alt=""></a></p>
<p>这就是全部内容了！现在你知道了一些在我还是新手的时候帮助巨大的最基础的断点窍门。还有哪些我没有提到的酷炫窍门呢？你也有好的主意？请在评论区随意讨论！</p>
<hr>
<blockquote>
<p><a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a> 是一个翻译优质互联网技术文章的社区，文章来源为 <a href="https://juejin.im" target="_blank" rel="external">掘金</a> 上的英文分享文章。内容覆盖 <a href="https://github.com/xitu/gold-miner#android" target="_blank" rel="external">Android</a>、<a href="https://github.com/xitu/gold-miner#ios" target="_blank" rel="external">iOS</a>、<a href="https://github.com/xitu/gold-miner#前端" target="_blank" rel="external">前端</a>、<a href="https://github.com/xitu/gold-miner#后端" target="_blank" rel="external">后端</a>、<a href="https://github.com/xitu/gold-miner#区块链" target="_blank" rel="external">区块链</a>、<a href="https://github.com/xitu/gold-miner#产品" target="_blank" rel="external">产品</a>、<a href="https://github.com/xitu/gold-miner#设计" target="_blank" rel="external">设计</a>、<a href="https://github.com/xitu/gold-miner#人工智能" target="_blank" rel="external">人工智能</a>等领域，想要查看更多优质译文请持续关注 <a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a>、<a href="http://weibo.com/juejinfanyi" target="_blank" rel="external">官方微博</a>、<a href="https://zhuanlan.zhihu.com/juejinfanyi" target="_blank" rel="external">知乎专栏</a>。</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【翻译】17个Xcode小技巧，每个iOS开发者都该知道]]></title>
      <url>http://pengtianhao.com/2018/02/02/%E3%80%90%E7%BF%BB%E8%AF%91%E3%80%9117%E4%B8%AAXcode%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%8C%E6%AF%8F%E4%B8%AAiOS%E5%BC%80%E5%8F%91%E8%80%85%E9%83%BD%E8%AF%A5%E7%9F%A5%E9%81%93/</url>
      <content type="html"><![CDATA[<blockquote>
<ul>
<li>原文地址：<a href="https://www.detroitlabs.com/blog/2017/04/13/17-xcode-tips-and-tricks-that-every-ios-developer-should-know/" target="_blank" rel="external">17 Xcode Tips and Tricks That Every iOS Developer Should Know</a><a id="more"></a></li>
<li>原文作者：<a href="https://www.detroitlabs.com/blog/author/elyse-turner/" target="_blank" rel="external">Elyse Turner</a></li>
<li>译文出自：<a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a></li>
<li>本文永久链接：<a href="https://github.com/xitu/gold-miner/blob/master/TODO/17-xcode-tips-and-tricks-that-every-ios-developer-should-know.md" target="_blank" rel="external">https://github.com/xitu/gold-miner/blob/master/TODO/17-xcode-tips-and-tricks-that-every-ios-developer-should-know.md</a></li>
<li>译者：<a href="https://github.com/pthtc" target="_blank" rel="external">PTHFLY</a></li>
<li>校对者：<a href="https://github.com/Danny1451" target="_blank" rel="external">Danny1451</a>、<a href="https://github.com/ryouaki" target="_blank" rel="external">ryouaki</a></li>
</ul>
</blockquote>
<h1 id="每个-iOS-开发者都该知道的-17-个-Xcode-小技巧"><a href="#每个-iOS-开发者都该知道的-17-个-Xcode-小技巧" class="headerlink" title="每个 iOS 开发者都该知道的 17 个 Xcode 小技巧"></a>每个 iOS 开发者都该知道的 17 个 Xcode 小技巧</h1><p><img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bbc57b84639e?w=1920&amp;h=1279&amp;f=png&amp;s=55685" alt=""></p>
<p>对于 iOS 开发者，尤其是新手，来说，Xcode 可谓太过复杂，但是不要害怕！我们在这里帮助你。 Xcode 可以帮助你、允许你做的事情非常多。熟悉你的 IDE 是最简单有效增进实力的方法之一。</p>
<p>在对抗越来越臃肿的 Xcode 方面，我们底特律实验室没有新手，并且想与你分享我们的对抗策略。在底特律实验室的开发者投票之后，这是 17 个我们最受欢迎的 Xcode 小技巧。</p>
<p><strong>键位参考：</strong></p>
<ul>
<li><code>⌃</code>: Control</li>
<li><code>⌘</code>: Command</li>
<li><code>⌥</code>: Option</li>
<li><code>⇧</code>: Shift</li>
<li><code>⏎</code>: Return</li>
</ul>
<hr>
<p><strong>1)</strong> 上下移动一整行或者许多行代码：使用 <code>⌘ ⌥ {</code> 上移 或者 <code>⌘ ⌥ }</code> 下移。如果你选择了一些内容, Xcode 会移动所有你选择的代码行；否则，只会移动光标所在的那一行。</p>
<p><strong>2)</strong> 使用 tabs 来保持聚焦。Tab 可以在不同使用情况下被单独配置和优化。Tab可以在<code>Behaviors</code><sup><a href="#note1">[1]</a></sup>中被命名以及使用。</p>
<p><strong>3)</strong> 使用 <code>Behaviors</code> 来根据上下文显示有用的面板。</p>
<ul>
<li><code>Behaviors</code> 在 Xcode 回应某个事项时是重要的偏好设置。当你开始构建的时候，你可以设置一个偏好来打开一个窗口来响应成功、失败、开始调试等等。</li>
<li><strong>有趣的事实:</strong> 在测试失败的时候，你可以将播放音乐作为一个 <code>behavior</code> 。一个这儿的开发者喜欢用『 The Price is Right. 』的音乐当做失败音。</li>
</ul>
<p><strong>4)</strong> 以辅助编辑窗模式打开文件。当使用『快速打开』( <code>⌘ ⇧ O</code> )时，按住 <code>⌥</code> 的同时按 <code>return</code>。</p>
<p><strong>5)</strong>  当光标处于显示『 Copy Qualified Symbol Name 』命令的方法内，使用 <code>⌘ ⇧ ⌃ ⌥ C</code> 会以一个优质、容易粘贴的格式拷贝方法名称。（译者注：例如<code>[UIColor colorWithRed:255/255.0f green:127/255.0f blue:80/255.0f alpha:1]</code>将会被拷贝为<code>+[UIColor colorWithRed:green:blue:alpha:]</code>。）</p>
<p><strong>6)</strong> 当按住 <code>⌥</code> 并点击代码或方法时，有效地使用 Xcode 解析的行内文档可以提供帮助。</p>
<p><strong>7)</strong> 在全局范围一次性更改某个变量名，可以使用 <code>⌘ ⇧ E</code><sup><a href="#note2">[2]</a></sup>。</p>
<p><strong>8)</strong> 你是否使用终端进入一个文件夹并且不确定你的工程使用的是 Xcode 的 workspaces 或者 仅仅是 project ？只需要运行 <code>open -a Xcode</code> 来打开文件夹本身 Xcode 会自动识别。专业提示：把这个加入你的 <code>.bash_profile</code> ，使用一个牛逼的名字（比如 <code>workit</code> ）来让你看起来像一个真的骇客。</p>
<p><strong>9)</strong> Xcode 中显示和隐藏的快捷键。</p>
<ul>
<li><code>⌘ ⇧ Y</code> : 显示/隐藏调试区域</li>
<li><code>⌘ ⌥ ⏎</code> : 显示辅助编辑器</li>
<li><code>⌘ ⏎</code> : 隐藏辅助编辑器</li>
</ul>
<p><strong>10)</strong> 使用 <code>⌘ A ^ I</code> 进行自动缩进代码</p>
<p><strong>11)</strong> <a href="http://www.cockos.com/licecap/" target="_blank" rel="external">LICEcap</a> 对于制作在模拟器中的 GIF 动图非常有帮助，用于项目评审非常棒。在 LICEcap 上方，你可以使用 QuickTime 在屏幕上来分享你的硬件（做一个示范或者使用 LICEcap 制作 GIF ）。 在你的 iPhone 或者 iPad 插入的情况下，打开 QuickTime Player，点击 File -&gt; New Movie Recording。然后点击记录按钮旁边的向下箭头，选择你的连接设备。这对于远程展示很有用，使用 LICEcap 来制作 GIF 或者为展示制作真机视频。<img src="https://user-gold-cdn.xitu.io/2018/1/31/1614bbc58c67f5ec?w=599&amp;h=338&amp;f=png&amp;s=161701" alt=""></p>
<p><strong>12)</strong> 按下 <code>⌥ ⇧</code> 然后点击项目导航栏中的文件打开一个选择窗口，这时你可以选择在编辑器的哪个位置显示打开的文件。 </p>
<p><strong>13)</strong> 按住 <code>⌥</code> 的同时点击一个项目导航栏中的文件，它会显示在辅助编辑器中。</p>
<p><strong>14)</strong> 把导航面板（显示在 Xcode 界面的左边）想成是『 Command 』面板。那是因为按住 <code>⌘</code> 的同时按一个数字键可以切换到导航栏内相关的『标签』。例如，<code>⌘ 1</code> 打开项目导航；<code>⌘ 7</code> 打开断点导航。相似的，把工具面板看作『 Command+Option 』窗口，<code>⌘ ⌥ 1</code> 也可以打开那个面板的第一个标签 —— 文件检查器。</p>
<p><strong>15)</strong> <code>⌥ ⌘ ↑</code> 和 <code>⌥ ⌘ ↓</code> 在相关文件中进行导航(例如 .m .h 和 .xib 文件)。</p>
<p><strong>16)</strong> 如果你在与 <code>code signing</code> 作战而 Xcode 说你没有一个有效的符合 <code>provisioning profile</code> 的签名身份，它可能会显示给你一个看起来随机、没有什么意义的码。find-identity 会很有帮助。命令 <code>Security find-identity -v</code> 会显示出一件安装的有效身份。</p>
<p><strong>17)</strong> 在你的层层叠叠的文件夹中讯中某个文件夹非常浪费时间。在 Xcode 8 中，你可以使用『 Open Quickly 』对话框或者 <code>⌘ ⇧ O</code> 来省点时间。当它打开了你可以输入你正寻找的文件的文件名的任何部分来找到它。</p>
<p>你是一个 iOS 开发者吗？看看在这里工作是怎样的体验，如果你有兴趣的话，<a href="https://detroitlabs.workable.com/j/F1D69FF0B5" target="_blank" rel="external">点此申请</a>！</p>
<p>译者注：</p>
<ol>
<li><a name="note1"></a> <code>Behaviors</code> 可以在<code>偏好设置</code>中找到</li>
<li><a name="note2"></a> 此处意思是缓存选中的变量名，此时进行 <code>Replace</code> 操作时，替换内容将会直接显示为缓存的内容，而不是空白一片。</li>
</ol>
<hr>
<blockquote>
<p><a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a> 是一个翻译优质互联网技术文章的社区，文章来源为 <a href="https://juejin.im" target="_blank" rel="external">掘金</a> 上的英文分享文章。内容覆盖 <a href="https://github.com/xitu/gold-miner#android" target="_blank" rel="external">Android</a>、<a href="https://github.com/xitu/gold-miner#ios" target="_blank" rel="external">iOS</a>、<a href="https://github.com/xitu/gold-miner#前端" target="_blank" rel="external">前端</a>、<a href="https://github.com/xitu/gold-miner#后端" target="_blank" rel="external">后端</a>、<a href="https://github.com/xitu/gold-miner#区块链" target="_blank" rel="external">区块链</a>、<a href="https://github.com/xitu/gold-miner#产品" target="_blank" rel="external">产品</a>、<a href="https://github.com/xitu/gold-miner#设计" target="_blank" rel="external">设计</a>、<a href="https://github.com/xitu/gold-miner#人工智能" target="_blank" rel="external">人工智能</a>等领域，想要查看更多优质译文请持续关注 <a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">掘金翻译计划</a>、<a href="http://weibo.com/juejinfanyi" target="_blank" rel="external">官方微博</a>、<a href="https://zhuanlan.zhihu.com/juejinfanyi" target="_blank" rel="external">知乎专栏</a>。</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【附源码】为了帮助程序员谈恋爱，我做了这个APP]]></title>
      <url>http://pengtianhao.com/2018/01/21/%E3%80%90%E9%99%84%E6%BA%90%E7%A0%81%E3%80%91%E4%B8%BA%E4%BA%86%E5%B8%AE%E5%8A%A9%E7%A8%8B%E5%BA%8F%E5%91%98%E8%B0%88%E6%81%8B%E7%88%B1%EF%BC%8C%E6%88%91%E5%81%9A%E4%BA%86%E8%BF%99%E4%B8%AAAPP/</url>
      <content type="html"><![CDATA[<blockquote>
<p>前段时间，21岁的我第一次开启了名为『恋爱』的副本，开始打名叫『女朋友』的BOSS，深感过程艰难，整个过程仿佛0级的菜鸡进入了布满世界迷雾的地图，只能小心翼翼才能平安通过。然而在打怪升级的过程中，偶然看见有人感叹：要是谈恋爱有进度条该多好！于是基于这个idea，身为iOS开发者的我决定开发一款能够像技术手册一般的app，帮助程序员以及其他恋爱初学者入门，并且更健康的恋爱。当然，女朋友也作为顾问参与了app内容的准备，对此我是感激涕零的。</p>
</blockquote>
<a id="more"></a>
<p>APP的思路是通过任务系统，让用户明白恋爱每个阶段要做的最基本的事情，并且通过做任务的过程来联动其他功能，最终达到能够推送关系深入的效果。</p>
<h1 id="APP信息"><a href="#APP信息" class="headerlink" title="APP信息"></a>APP信息</h1><ul>
<li>名称：恋爱进度条</li>
<li>iOS版下载地址：<a href="http://www.loveprogress.cn" target="_blank" rel="external">恋爱进度条</a></li>
<li>扫码下载：</li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/21/16118d52faf3c032?w=280&amp;h=280&amp;f=png&amp;s=4991" alt=""></p>
<ul>
<li>截图：</li>
</ul>
<p><img src="https://user-gold-cdn.xitu.io/2018/1/21/161180358ea35bcf?w=2606&amp;h=1160&amp;f=jpeg&amp;s=964998" alt=""></p>
<h1 id="技术背景"><a href="#技术背景" class="headerlink" title="技术背景"></a>技术背景</h1><p>首先介绍一下技术背景：</p>
<ol>
<li>某渣一本大四计算机专业</li>
<li>还算OK的iOS开发技术，做过几个商业项目，带过技术团队</li>
<li>职业方向转型为产品，拿了某大厂OFFER，有能力搞定原型&amp;UI</li>
</ol>
<h1 id="工具选择"><a href="#工具选择" class="headerlink" title="工具选择"></a>工具选择</h1><ul>
<li>前期准备:金数据、墨刀</li>
<li>开发：Leancloud、Xcode</li>
</ul>
<h1 id="主要功能模块"><a href="#主要功能模块" class="headerlink" title="主要功能模块"></a>主要功能模块</h1><ul>
<li>任务系统：主要包含关系阶段（等级）、任务清单、已完成任务记录、单个任务完成度（即用户向功能表添加的条目）</li>
<li>纪念：实现了计算纪念日已过天数与对应的下一个周年日的倒数天数</li>
<li>行动：实现了记录计划的日期和行动详情</li>
<li>记录：实现了<strong>精简版的朋友圈</strong>，包括内容、时间、tag、六宫格图片顺序存储</li>
<li>喜好：实现了根据是否喜欢和根据场景记录对方喜好，并且可以分类显示的功能</li>
</ul>
<h1 id="开发相关"><a href="#开发相关" class="headerlink" title="开发相关"></a>开发相关</h1><h2 id="后端选择"><a href="#后端选择" class="headerlink" title="后端选择"></a>后端选择</h2><p>虽然Python水平还可以，可以使用Django开发后端，但是为了上线速度，最后还是决定用BAAS服务做后端。之前一直使用Bmob，这回试了一下Leancloud，文档清晰，社区活跃，开发体验非常不错，就是免费额度比较低，商业版收费比较贵。</p>
<h2 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h2><p>开发中唯一的难点是任务不分的设计，由此我的数据库的设计如下<br><img src="https://user-gold-cdn.xitu.io/2018/1/21/1611886c8acd5a77?w=898&amp;h=1144&amp;f=png&amp;s=179105" alt=""></p>
<h2 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h2><p>开发本身比较简单，只说一下使用的第三方库</p>
<ul>
<li>MJRefresh：下拉刷新</li>
<li>WSDaePickerView：日期选择</li>
<li>MBProgressHUD：小菊花</li>
<li>SDWebImage：异步图片加载</li>
<li>ZLPhotoBrowser：图片选择器</li>
</ul>
<h1 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h1><p><a href="https://github.com/pthtc/Loveprogress" target="_blank" rel="external">github（顺便点个赞吧）</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[逆向解构：摩拜单车月卡系统]]></title>
      <url>http://pengtianhao.com/2017/10/06/%E9%80%86%E5%90%91%E8%A7%A3%E6%9E%84%EF%BC%9A%E6%91%A9%E6%8B%9C%E5%8D%95%E8%BD%A6%E6%9C%88%E5%8D%A1%E7%B3%BB%E7%BB%9F/</url>
      <content type="html"><![CDATA[<blockquote>
<p>在共享单车市场已成红海、小型创业公司不断倒下的今天，月卡成为摩拜、OFO等玩家拉新、留存的不二选择。在本文探究了摩拜单车的月卡系统运行方式，以下就是作者探究的过程和结论，其中必有疏漏，欢迎指正、讨论。</p>
</blockquote>
<h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><ol>
<li>178开头手机号、185开头手机号，均未注册摩拜单车</li>
<li>测试日期为2017年10月3日</li>
</ol>
<h2 id="探究过程、现象和结论"><a href="#探究过程、现象和结论" class="headerlink" title="探究过程、现象和结论"></a>探究过程、现象和结论</h2><h3 id="一、初次注册"><a href="#一、初次注册" class="headerlink" title="一、初次注册"></a>一、初次注册</h3><ul>
<li><strong>描述</strong></li>
</ul>
<p>无</p>
<ul>
<li><strong>过程</strong></li>
</ul>
<ol>
<li>注册新用户</li>
<li>跳过实名认证</li>
<li>跳过交纳押金</li>
</ol>
<ul>
<li><strong>数据</strong></li>
</ul>
<p><img src="https://i.loli.net/2017/10/07/59d88085146c1.png" alt="C1E913E1-3DF2-467D-8477-D9E6A0CACAE5.png"></p>
<ul>
<li><strong>结论</strong></li>
</ul>
<p>无</p>
<h3 id="二、H5页面领取月卡"><a href="#二、H5页面领取月卡" class="headerlink" title="二、H5页面领取月卡"></a>二、H5页面领取月卡</h3><ul>
<li><strong>描述</strong></li>
</ul>
<p>此时我们先不缴纳押金，寻找是否有免费的月卡可以领取。</p>
<ul>
<li><strong>过程</strong></li>
</ul>
<p><strong>1.</strong> 下图为国信证券推文，从中我们可以看到，小编很明确地告诉我们领取时间为<code>9月1日——9月30日</code>，但是扫描二维码进入页面，使用说明却显示<code>本活动领取月卡的最后期限是10月30日</code>。</p>
<p><img src="https://i.loli.net/2017/10/07/59d882c43eaa8.jpg" alt="CA5045D5B7786D4FEB74130D662712FC.jpg"></p>
<p><strong>2.</strong> 我们可以看到下图是两个不同的活动H5页面，左边为官方活动，右边为飞马旅的联名月卡，这两张月卡推文页所写的时间均为<code>10.1-10.30</code>，且页面模板也与国信证券的有所不同。观察到，两个页面除了颜色和卡名以外完全一致，但是左边月卡作为官方的发放的卡片，卡名却依然为<code>联名月卡</code>。</p>
<p><img src="https://i.loli.net/2017/10/03/59d348670795a.png" alt="0D1711E1-5025-4CCE-9269-0AF6C2FE3406.png"></p>
<p><strong>3.</strong> 作者输入<code>185手机号</code>，成功领取了第一张官方赠送的月卡。但是在尝试领取第二张同模板联名月卡的时候，页面却显示<code>您已领取过月卡 不能重复领取</code>的提示。于是作者又尝试领取国信证券的联名月卡，<code>提示成功</code>。</p>
<p><strong>4.</strong> 使用<code>178手机号</code>领取一张免费月卡</p>
<p><strong>5.</strong> 分析页面URL，发现<br><code>https://m.mobike.com/h5/partner_coupon/zh/index.html?citycode=021&amp;src=weishuba&amp;from=timeline&amp;isappinstalled=0</code><br>中页面内容随着<code>src</code>的改变而改变</p>
<p><strong>6.</strong> 分析H5页面源码，发现资源文件中存储了所有页面的文字</p>
<p><img src="https://i.loli.net/2017/10/06/59d76d6f3d571.jpg" alt="5961507290473_.pic_hd.jpg"></p>
<ul>
<li><strong>数据</strong></li>
</ul>
<p><img src="https://i.loli.net/2017/10/07/59d880c0deba2.png" alt="4A577A72-7528-4121-8995-A9586CF9D1C4.png"></p>
<ul>
<li><strong>结论</strong></li>
</ul>
<ol>
<li><strong><code>摩拜联名月卡领取页自动续期了</code></strong></li>
<li><strong><code>摩拜官方月卡与其他联名月卡使用了统一模板</code></strong></li>
<li><strong><code>所有联名卡均指向某一模板，相同模板下属的不同联名卡不得重复领取</code></strong></li>
<li><strong><code>领取月卡时并不会检测是否已缴纳押金</code></strong></li>
<li><strong><code>月卡计算时间只到30天后的24点，而非精确到秒的标准30天时长</code></strong></li>
</ol>
<h3 id="三、缴纳押金"><a href="#三、缴纳押金" class="headerlink" title="三、缴纳押金"></a>三、缴纳押金</h3><ul>
<li><strong>描述</strong></li>
</ul>
<p>按照规则，缴纳押金以后应该会赠送一张月卡，事实上却没有发现增加；只有剩余天数小于30天（事实上30天也可）才被允许退款</p>
<ul>
<li><strong>过程</strong></li>
</ul>
<ol>
<li>向185账户缴纳押金，发现剩余时间并没有增加</li>
<li>向178账户缴纳押金，发现剩余时间并没有增加</li>
</ol>
<ul>
<li><strong>数据</strong></li>
</ul>
<p><img src="https://i.loli.net/2017/10/07/59d880f2f3563.png" alt="64DC6E00-49A5-419F-8BFF-B0F45EE77C7F.png"></p>
<ul>
<li><strong>结论</strong></li>
</ul>
<ol>
<li><strong><code>赠送的月卡会立即生效，几张有效期重叠的免费月卡允许同时存在，月卡剩余时间以最晚为准</code></strong></li>
<li><strong><code>首充赠送的月卡与H5页面赠送的联名月卡应属同种</code></strong></li>
</ol>
<h3 id="四、续费"><a href="#四、续费" class="headerlink" title="四、续费"></a>四、续费</h3><ul>
<li><strong>描述</strong></li>
</ul>
<p>按照规则，与领取的月卡不同，续费之后时间应该在原有基础上增加，事实上也确实如此</p>
<ul>
<li><strong>过程</strong></li>
</ul>
<ol>
<li>向<code>178手机号</code>续费一张<code>一个月月卡</code>，续费之后月卡剩余天数变为<code>60天</code>，在原有基础上增加了30天，与规则符合。</li>
<li>使用<code>185手机号</code>续费，提示失败，与规则符合</li>
</ol>
<ul>
<li><strong>数据</strong></li>
</ul>
<p><strong>178</strong></p>
<p><img src="https://i.loli.net/2017/10/07/59d88115e7247.png" alt="50C10166-DC15-4A23-B5FC-DC5C3D6A5DA4.png"></p>
<ul>
<li><strong>结论</strong></li>
</ul>
<p>无</p>
<h3 id="五、退押金"><a href="#五、退押金" class="headerlink" title="五、退押金"></a>五、退押金</h3><ul>
<li><strong>描述</strong></li>
</ul>
<p>按照规则，退款之后，免费月卡将消失，只剩下收费月卡</p>
<ul>
<li><strong>过程</strong></li>
</ul>
<ol>
<li>使用<code>178手机号</code>退款，剩余天数归零，与规则符合</li>
<li>使用<code>185手机号</code>退款，剩余天数为31天，比想象中多1天</li>
<li>此时点击退款退款时，在摩拜的iOS端可以看到这段文字：</li>
</ol>
<p><img src="https://i.loli.net/2017/10/03/59d345460bcf3.jpg" alt="退款文字"></p>
<ul>
<li><strong>数据</strong></li>
</ul>
<p><img src="https://i.loli.net/2017/10/07/59d8813ed76e8.png" alt="D3605992-A8C7-41FB-ADBB-CA690107878C.png"></p>
<ul>
<li><strong>结论</strong></li>
</ul>
<ol>
<li><strong><code>摩拜的月卡分为免费月卡和购买的月卡</code></strong></li>
<li><strong><code>在有付费卡的情况下，退款仍然会改变到期日</code></strong></li>
</ol>
<h3 id="六、再次续费"><a href="#六、再次续费" class="headerlink" title="六、再次续费"></a>六、再次续费</h3><ul>
<li><strong>描述</strong></li>
</ul>
<ul>
<li><strong>过程</strong></li>
</ul>
<ol>
<li>使用<code>178手机号</code>充值3个月，剩余天数变为91天，比想象中多1天</li>
<li>使用<code>185手机号</code>充值，提示失败，与规则符合</li>
</ol>
<ul>
<li><strong>数据</strong></li>
</ul>
<p><img src="https://i.loli.net/2017/10/07/59d88193228be.png" alt="12B14862-4F35-49D4-B571-0D4F96A34F37.png"></p>
<ul>
<li><strong>结论</strong></li>
</ul>
<p>无</p>
<h3 id="七、再次领取H5页面月卡"><a href="#七、再次领取H5页面月卡" class="headerlink" title="七、再次领取H5页面月卡"></a>七、再次领取H5页面月卡</h3><ul>
<li><strong>描述</strong></li>
</ul>
<p>按照规则，每张月卡只能领取一次，但是规则又写，如果已领用且仍在有效期内，则不能再次领取，目前的情况是账号因为退款失去了全部免费额度，那么是否可以再次领取呢？</p>
<ul>
<li><strong>过程</strong></li>
</ul>
<ol>
<li>使用<code>185手机号</code>领取H5页面月卡，提示<code>您已领取过月卡 不能重复领取</code></li>
</ol>
<ul>
<li><strong>结论</strong></li>
</ul>
<ol>
<li><strong><code>免费月卡在失效之后，并未删除，而是设置为失效状态</code></strong></li>
</ol>
<h3 id="八、联系官方客服"><a href="#八、联系官方客服" class="headerlink" title="八、联系官方客服"></a>八、联系官方客服</h3><ul>
<li><strong>描述</strong></li>
</ul>
<p>打电话过去，客服的态度非常不耐烦，但还是拿到了想要的信息</p>
<ul>
<li><strong>结论</strong></li>
</ul>
<ol>
<li><strong><code>月卡只按照月卡创建的先后顺序使用，不考虑免费/收费</code></strong></li>
</ol>
<h2 id="疑惑和推测解决方案"><a href="#疑惑和推测解决方案" class="headerlink" title="疑惑和推测解决方案"></a>疑惑和推测解决方案</h2><p>到这里，还有两个问题没有解决</p>
<ol>
<li>为什么3个月月卡购买后为91天（31+30+30），而1个月月卡购买只有30天</li>
<li>一个月免费月卡+一个月购买月卡的账户，退款前为60天，退款后余额为31天而不是30天</li>
</ol>
<ul>
<li><p>针对第一个疑惑，如果<strong><code>摩拜计算日期，仅仅是简单地改变年份和月份而不是真实计算90天以后的日期</code></strong>（这样做只需处理2月29日这一种特殊情况），那么2017年10月3日到2018年1月3日相差92天，2017年10月3日到2017年11月3日相差31天，两个天数均减去1天（即购买瞬间已默认消耗一天），就可以解释91天和30天的现象了</p>
</li>
<li><p>针对第二个疑惑，按前一算法，2017年10月3日到2017年12月3日相差61天，减去当天为60天，60天可以解释；按照客服说法，依据月卡获得顺序使用，那么消耗的首先是免费月卡，购买的月卡未被使用，要得出31天这个数据，必须有两个前提：</p>
</li>
</ul>
<ol>
<li><strong><code>摩拜购买的月卡未被使用前，并不直接写死到期天数，而是以未使用状态的卡片存在</code></strong></li>
<li><strong><code>退押金当日的消费仍然算在上一张卡上,天数计算无需减扣当天使用</code></strong></li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>总结一下现在所有的推测：</p>
<ol>
<li><strong><code>摩拜联名月卡领取页自动续期了</code></strong></li>
<li><strong><code>摩拜官方月卡与其他联名月卡使用了统一模板</code></strong></li>
<li><strong><code>所有联名卡均指向某一模板，相同模板下属的不同联名卡不得重复领取</code></strong></li>
<li><strong><code>领取月卡时并不会检测是否已缴纳押金</code></strong></li>
<li><strong><code>月卡计算时间只到30天后的24点，而非精确到秒的标准30天时长</code></strong></li>
<li><strong><code>赠送的月卡会立即生效，几张有效期重叠的免费月卡允许同时存在，月卡剩余时间以最晚为准</code></strong></li>
<li><strong><code>首充赠送的月卡与H5页面赠送的联名月卡应属同种</code></strong></li>
<li><strong><code>月卡分为免费月卡和购买的月卡</code></strong></li>
<li><strong><code>在有付费卡的情况下，退款仍然会改变到期日</code></strong></li>
<li><strong><code>免费月卡在失效之后，并未删除，而是设置为失效状态</code></strong></li>
<li><strong><code>月卡只按照月卡创建的先后顺序使用，不考虑免费/收费</code></strong></li>
<li><strong><code>摩拜在计算日期时，仅仅是简单地改变年份和月份而不是真实计算90天以后的日期</code></strong></li>
<li><strong><code>购买的月卡未被使用前，并不直接写死到期天数，而是以未使用状态的卡片存在</code></strong></li>
<li><strong><code>退押金当日的消费仍然算在上一张卡上,天数计算无需减扣当天使用</code></strong></li>
</ol>
<p>根据以上结论，可以设计一个最简版本月卡，满足当前需求：</p>
<p><img src="https://i.loli.net/2017/10/06/59d7725b2156d.png" alt="25AC0297-A4CC-43D3-8127-FE8ACD8DB95B.png"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[腾讯家的移动医疗：丁香医生、微医、好大夫产品分析]]></title>
      <url>http://pengtianhao.com/2017/09/25/%E8%85%BE%E8%AE%AF%E5%AE%B6%E7%9A%84%E7%A7%BB%E5%8A%A8%E5%8C%BB%E7%96%97%EF%BC%9A%E4%B8%81%E9%A6%99%E5%8C%BB%E7%94%9F%E3%80%81%E5%BE%AE%E5%8C%BB%E3%80%81%E5%A5%BD%E5%A4%A7%E5%A4%AB%E4%BA%A7%E5%93%81%E5%88%86%E6%9E%90/</url>
      <content type="html"><![CDATA[<blockquote>
<p>腾讯作为中国互联网的龙头大哥之一，并没有像阿里一般成立阿里健康，下海贴身肉搏，而是选择通过投资布局互联网医疗行业。现在作者抱着学习的态度，分析了三家由腾讯投资的互联网医疗公司，观点浅薄，欢迎讨论</p>
</blockquote>
<h2 id="总体情况和用户分析"><a href="#总体情况和用户分析" class="headerlink" title="总体情况和用户分析"></a>总体情况和用户分析</h2><h3 id="应用排名"><a href="#应用排名" class="headerlink" title="应用排名"></a>应用排名</h3><p><img src="https://i.loli.net/2017/09/22/59c4d9b264ccf.png" alt="应用排名"></p>
<p>从这里我们可以看出，丁香医生的排名三者垫底，好大夫和微医则处于纠缠状态</p>
<h3 id="用户活跃"><a href="#用户活跃" class="headerlink" title="用户活跃"></a>用户活跃</h3><p><img src="https://i.loli.net/2017/09/22/59c4da5c1378b.png" alt="用户活跃"></p>
<p>微医&gt;好大夫&gt;丁香医生，但是微医活跃度有所下降</p>
<h3 id="人群分布"><a href="#人群分布" class="headerlink" title="人群分布"></a>人群分布</h3><p><img src="https://i.loli.net/2017/09/22/59c4db338704c.png" alt="653BDA29-DAF1-4782-967B-793C661633C5.png"></p>
<ul>
<li><p>丁香医生遍布全国，用户比较平均</p>
</li>
<li><p>好大夫和微医的用户区域比较重合，但微医拥有三者中拥有最多的深色区域，可能与它接入了更多的线下互联网医院、医联体有关</p>
</li>
</ul>
<h3 id="使用场景辨析"><a href="#使用场景辨析" class="headerlink" title="使用场景辨析"></a>使用场景辨析</h3><h4 id="丁香医生"><a href="#丁香医生" class="headerlink" title="丁香医生"></a>丁香医生</h4><p><strong>使用场景：</strong></p>
<ol>
<li><p>身体有恙，使用app进行问诊，得到医生建议之后前往医院进行诊治</p>
</li>
<li><p>小病时查询用药方法和禁忌</p>
</li>
<li><p>查找附近药房医院（极少）</p>
</li>
<li><p>通过检索疾病名，查看可能情况的病例及医生的回答</p>
</li>
</ol>
<p><strong>解决痛点：</strong></p>
<ol>
<li><p>家庭用药快查</p>
</li>
<li><p>轻问诊，方便用户解决小病慢病</p>
</li>
<li><p>阅读靠谱的医疗科普文章的需求</p>
</li>
</ol>
<h4 id="微医"><a href="#微医" class="headerlink" title="微医"></a>微医</h4><p><strong>使用场景：</strong></p>
<ol>
<li><p>不想排队，直接在线挂号，节省时间</p>
</li>
<li><p>生病时与医生交流，依据确诊情况开出的处方</p>
</li>
<li><p>在线购买药品器械</p>
</li>
<li><p>在医言堂与病友、医生交流，并按照疾病获取最新资讯</p>
</li>
<li><p>目前微医还在做医疗百科等项目，希望占据权威医疗知识高地</p>
</li>
</ol>
<p><strong>解决痛点：</strong></p>
<ol>
<li><p>挂号难</p>
</li>
<li><p>小病去医院、药店浪费时间</p>
</li>
<li><p>专家问诊</p>
</li>
</ol>
<h4 id="好大夫"><a href="#好大夫" class="headerlink" title="好大夫"></a>好大夫</h4><p><strong>使用场景：</strong></p>
<ol>
<li><p>生病了想要在线看个病，顺便开个处方/检查，之后通过其他途径购药/检查</p>
</li>
<li><p>急病时想要立刻与医生通话</p>
</li>
<li><p>有慢病，和家庭医生随时联系</p>
</li>
</ol>
<p><strong>解决痛点：</strong></p>
<ol>
<li><p>紧急联系医生需求</p>
</li>
<li><p>可以在线获得处方药许可</p>
</li>
<li><p>慢病管理</p>
</li>
</ol>
<h2 id="功能和页面"><a href="#功能和页面" class="headerlink" title="功能和页面"></a>功能和页面</h2><h3 id="功能详图"><a href="#功能详图" class="headerlink" title="功能详图"></a>功能详图</h3><h4 id="丁香医生-1"><a href="#丁香医生-1" class="headerlink" title="丁香医生"></a>丁香医生</h4><p><img src="https://i.loli.net/2017/09/22/59c4ddb169cd4.png" alt="丁香园功能"></p>
<h4 id="微医-1"><a href="#微医-1" class="headerlink" title="微医"></a>微医</h4><p><img src="https://i.loli.net/2017/09/22/59c4dd87990ef.png" alt="微医功能"></p>
<h4 id="好大夫-1"><a href="#好大夫-1" class="headerlink" title="好大夫"></a>好大夫</h4><p><img src="https://i.loli.net/2017/09/22/59c4dd5fc1b70.png" alt="好大夫功能"></p>
<h3 id="核心功能对比"><a href="#核心功能对比" class="headerlink" title="核心功能对比"></a>核心功能对比</h3><p><img src="https://i.loli.net/2017/09/22/59c4de186cb28.png" alt="1730E13A-BF7B-4E2A-A8E5-3C24CB3D94DE.png"></p>
<p><strong>由此可以看出：</strong></p>
<ul>
<li><p>丁香医生偏<strong>工具属性</strong></p>
</li>
<li><p>微医是<strong>综合医疗平台</strong></p>
</li>
<li><p>好大夫更像是<strong>网上医院</strong></p>
</li>
</ul>
<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><h4 id="丁香园"><a href="#丁香园" class="headerlink" title="丁香园"></a>丁香园</h4><p><img src="https://i.loli.net/2017/09/22/59c4df3e67f81.png" alt="B7B59E9E-D8B8-4161-87AC-2D07FFA04B90.png"></p>
<h4 id="微医-2"><a href="#微医-2" class="headerlink" title="微医"></a>微医</h4><p><img src="https://i.loli.net/2017/09/22/59c4df0e51a83.png" alt="6CD1FD9E-AF38-489F-93E9-A3595ECCE0E9.png"></p>
<p><img src="https://i.loli.net/2017/09/22/59c4ded312315.png" alt="32FAA5CE-5E56-4120-9F06-F595CA21A5F4.png"></p>
<h4 id="好大夫-2"><a href="#好大夫-2" class="headerlink" title="好大夫"></a>好大夫</h4><p><img src="https://i.loli.net/2017/09/22/59c4df81d949c.png" alt="F5433C40-B6EA-4E55-9D32-89C5A77454E9.png"></p>
<h4 id="布局总结"><a href="#布局总结" class="headerlink" title="布局总结"></a>布局总结</h4><p><img src="https://i.loli.net/2017/09/22/59c4dfc076240.png" alt="BE045CE1-22D0-45A0-8F6E-5659AD6C9ABA.png"></p>
<h2 id="优劣势"><a href="#优劣势" class="headerlink" title="优劣势"></a>优劣势</h2><h3 id="丁香医生-2"><a href="#丁香医生-2" class="headerlink" title="丁香医生"></a>丁香医生</h3><p><strong>优势</strong></p>
<ol>
<li><p>全平台营销（知乎、微信公众号）带来巨大流量</p>
</li>
<li><p>依托丁香园平台，拥有庞大的医生资源</p>
</li>
<li><p>工具属性让用户能够很方便地使用特定功能</p>
</li>
<li><p>类似分答的功能可以查看已有回答，容易找到与自身相同的病例和解决方法</p>
</li>
<li><p>简洁美观的UI让使用变得非常简单，用户体验较好</p>
</li>
</ol>
<p><strong>劣势</strong></p>
<ol>
<li><p>流量没有转化为下载和活跃</p>
</li>
<li><p>功能太过简单的情况下，功能各不相关，很难让用户在特定场景下想起</p>
</li>
<li><p>核心功能和市场上几乎所有产品重合，没有特色</p>
</li>
<li><p>问诊非实时聊天，用户体验不是很好，经常需要长时间等待</p>
</li>
<li><p>工具箱为鸡肋功能，使用地图应用用户体验更好</p>
</li>
<li><p>没有处方权，用户使用完毕依然需要前往医院</p>
</li>
<li><p>数据零散，用户分析困难</p>
</li>
</ol>
<h3 id="微医-3"><a href="#微医-3" class="headerlink" title="微医"></a>微医</h3><p><strong>优势</strong></p>
<ol>
<li><p>曝光主要来自各大主流媒体（央视报道、各大报纸），且被习大大提及，产品最为落地</p>
</li>
<li><p>咨询—问诊—商城形成闭环，可以提供全流程服务</p>
</li>
<li><p>拳头功能挂号引流强大，用户粘性很强，复用率有保证</p>
</li>
<li><p>大量功能使得用户能够在任何场景想起并且重复使用</p>
</li>
<li><p>问诊采用实时聊天和视频语音，响应迅速，用户习惯从微信迁移，体验高成本低</p>
</li>
</ol>
<p><strong>劣势</strong></p>
<ol>
<li><p>布局复杂，高低频入口无法区分，很难找到想要的功能</p>
</li>
<li><p>品牌调性较差，UI无法给人留下深刻印象</p>
</li>
</ol>
<h3 id="好大夫-3"><a href="#好大夫-3" class="headerlink" title="好大夫"></a>好大夫</h3><p><strong>优势</strong></p>
<ol>
<li><p>以互联网医院为服务核心，用户目标感强，容易在特定场景记起并使用</p>
</li>
<li><p>有特色功能，能够直接联系到医生</p>
</li>
<li><p>慢病管理功能在一定程度上可以提高用户粘性和活跃</p>
</li>
</ol>
<p><strong>劣势</strong></p>
<ol>
<li><p>UI粗糙，用户体验一般</p>
</li>
<li><p>开处方的同时没有提供购买渠道，未形成闭环</p>
</li>
<li><p>聚焦于某几个场景导致其他场景无法覆盖，并且由于地域情况不同导致有些地区甚至无法提供服务</p>
</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>现今几乎所有的移动医疗产品都接入了问诊功能，并且都基于银川互联网医院拥有开处方能力，然而因为医疗行业的特殊性，『带着镣铐跳舞』，导致某些业务高度重合，竞争极其激烈。</p>
<p>三大产品如今虽然上线时间相差较多，且倾向各有不同，但都有不同的核心打法。丁香医生背靠丁香园近200万医生资源和最为强大的医疗新媒体，拥有良好的口碑和优秀的内容；微医前身为挂号网，有刚需拳头产品，并且与政府关系紧密，基于保险和医联体平台使得其拥有三者中最强的变现能力；好大夫则是三者中历史最悠久的互联网问答产品，积攒了足够的用户，并且有三者中最为明确的定位。 由此可见，腾讯投资的三家公司各有所长，在政策逐渐松绑的互联网医疗领域，未来大有可为。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[在南极旅行是怎样的体验？]]></title>
      <url>http://pengtianhao.com/2017/04/06/%E5%9C%A8%E5%8D%97%E6%9E%81%E6%97%85%E8%A1%8C%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E4%BD%93%E9%AA%8C/</url>
      <content type="html"><![CDATA[<p>话不多说，先上图</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-b3a6c06f60b3d2e2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>接下来我会以我的行程为主线，然后穿插一些图和感受，图片直接来自我的iPhoneSE，大家要是有耐心看完的话，非常感谢！</p>
<h2 id="总行程"><a href="#总行程" class="headerlink" title="总行程"></a>总行程</h2><p><strong>上海—布宜诺斯艾利斯—乌斯怀亚—南设得兰群岛—南极大陆—乌斯怀亚—布宜—回国</strong></p>
<p>今年1月31号出发，2月15号回国，半个月时间有十天在船上，行程比较短，和上面专业的旅行家比起来行程更短更轻松，比较适合我这种生活不能自理只会写码的胖子~~</p>
<p>下面直接从乌斯怀亚开始说，如果大家对我那不怎么完整的阿根廷体验感兴趣的话，后面再补。</p>
<h2 id="起点——世界的尽头乌斯怀亚"><a href="#起点——世界的尽头乌斯怀亚" class="headerlink" title="起点——世界的尽头乌斯怀亚"></a>起点——世界的尽头乌斯怀亚</h2><p>乌斯怀亚位于南美大陆最南端，所以有很多所谓的『世界最南边的邮局』『世界最南边的银行』等，事实上这个看起来很美好的小镇以前是被用作犯人的流放之地。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-a7ad00a9b5eeccb5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-edd50b4b3f08482b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>在乌斯怀亚前后待了一天，最让人印象深刻的是在海边餐厅吃到的帝王蟹，毕竟中国沿海并不生产这种张牙舞爪的生物。外壳非常坚硬，吃的时候需要拿剪刀剪开，味道很鲜，但是并没有惊艳的感觉，这么好的食材交给南美人真是可惜。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-522af205bc06af7e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="帝王蟹"></p>
<p>乌斯怀亚白天看起来是个风光不错的小镇，不过一到晚上，主街道变得非常繁忙，作为外国人不是很能分清究竟多少人是游客，多少人是本地人。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-f7c88b0c86ecfb12.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="出发——庞洛星辉号"><a href="#出发——庞洛星辉号" class="headerlink" title="出发——庞洛星辉号"></a>出发——庞洛星辉号</h2><p>因为旅程一大半时间都在船上度过，这里不得不介绍一下这艘很有意思的船。按照向导的说法，这是在南极海域活动最好的游轮之一，长这样（在冲锋舟上拍的，雾很大）：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-632c94837f2b517d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="庞洛星辉号"></p>
<p>整条船有7层，这次一共有190名乘客，170名船员，稳定性和那些动辄上千人的大游轮没得比，但是如果没有大浪的情况下舒适度还是不错的。船上的设施大概有: <strong>舱房，自助餐厅，主餐厅，小剧院，酒吧，图书馆，SPA，健身房和游泳池</strong>（当然在南极并没有什么卵用），除了酒吧卖的酒以外所有吃的都是免费的，因为是包船，所以船上大多数地方都有临时的中文提示。下面只说一下舱房、自助餐厅和上网的问题，如果朋友们还有问题可以再问。</p>
<h3 id="舱房"><a href="#舱房" class="headerlink" title="舱房"></a>舱房</h3><p>房间不是很大，但是足够整齐，船员每天打扫两次，更换小冰箱里的免费饮料，房间里的依云水和爱马仕的日用品，再加上24小时的送餐服务，体验不错。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-415d61e40c28ea68.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="舒适的舱房"></p>
<h3 id="自助餐厅"><a href="#自助餐厅" class="headerlink" title="自助餐厅"></a>自助餐厅</h3><p>自助餐厅不多说，正常酒店的配置，每天为了满足中国乘客的口味会有一道不中不洋的special，比如用酸辣酱炒的酸辣土豆丝。值得一提的是，其中一个来自菲律宾的服务生小哥给我留下了深刻印象。仅仅是我问他要了一个橙子，告诉他我想多吃一些维生素，于是直到我们下船，每顿饭他都会亲自给我削几个橙子，非常感动。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-c37ee04f1a166c52.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="永远笑容灿烂的小哥"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-f7538f1c7c7368be.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="小哥削的橙子"></p>
<h3 id="上网"><a href="#上网" class="headerlink" title="上网"></a>上网</h3><p>在船上这几天，深刻体会到网络一家和水电煤一样变成了基础设施，因为是卫星网路，所以网络不仅慢，而且极其昂贵，发一条朋友圈的代价大约是15分钟再加上4.5欧，全天在线绝对是奢望。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-7cce8daf30970c2d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="上网超贵"></p>
<h2 id="最艰难的航行——德雷克海峡"><a href="#最艰难的航行——德雷克海峡" class="headerlink" title="最艰难的航行——德雷克海峡"></a>最艰难的航行——德雷克海峡</h2><p>穿越德雷克海峡大概是2天左右，去程风平浪静，只有一些轻微的摇晃，但是回程路上，这个海峡掀起6~8米的大浪，即使是躺在床上会感觉身体被抛起再落下，非常难受</p>
<p>这边就放一个风平浪静的图，至于惊涛骇浪的时候呢？好吧我没力气拍照了~~</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-dbb8d482763c9519.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="风平浪静的德雷克海峡"></p>
<h2 id="企鹅和长城站——南设得兰群岛"><a href="#企鹅和长城站——南设得兰群岛" class="headerlink" title="企鹅和长城站——南设得兰群岛"></a>企鹅和长城站——南设得兰群岛</h2><p>第一次遇到企鹅就在航行一天半以后，事实上南设得兰群岛距离真正意义上的南极还有不近的距离，但是也足够激动了，这里碰到的企鹅主要是金图企鹅和帽带企鹅，企鹅的密度实在太高导致距离五米的原则完全不可能实现，因此在这里我也是第一次与企鹅零距离接触，准确地说，是被一些好奇的企鹅啄得到处跑~~下面这张图里就同时出现了两种企鹅的身影</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-574dffe943d28469.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="金图企鹅和带帽企鹅"></p>
<p>事实上，南设得兰群岛并没有南极的感觉，因为并没有什么雪。不过企鹅的数量依然让我们吃惊，可以说，要不是企鹅生活在南极，它们根本不能算是保护动物。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-0305dadece0054cf.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="到处都是企鹅"></p>
<p>南设得兰群岛对于中国人有独特的情节，因为第一个南极科考站长城站就在上面，并且我们有幸被允许一探究竟。就上一张全景图，因为全图太大，可以在这里看<a href="https://cl.ly/2o2Q2P1T3W25" target="_blank" rel="external">原图</a></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-cad8700ead339104.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="长城站全景图"></p>
<p>其实还有长城站站长和一些室内的图，不知道能不能上传，就先不放了，不过长城站站wifi可以正常上朋友圈让同来的朋友们非常满意。这里还有一个很有意思的事情，在长城站那里有联通的信号，如果是联通手机的话就可以直接打电话给国内，而且按上海的费率收费，业界良心！</p>
<h2 id="一些日常——航行、登陆、巡航"><a href="#一些日常——航行、登陆、巡航" class="headerlink" title="一些日常——航行、登陆、巡航"></a>一些日常——航行、登陆、巡航</h2><p>说是南极游，其实大多数时间都在船上，只是每天会有两次登陆或者冲锋舟巡航活动。下面就直接上图了</p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-50ffa6c9336a445e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="排队跳上冰面的企鹅"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-d4fa8ffba1cf8aa7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-0a675cb41acf5c6d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-ca3cbfdf3b718063.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-3ac9b0b798437821.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="如果天气好的话随便拍一张，不加滤镜，就是一张明信片封面"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-9956a44722ee20cc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="趴在雪上休息的企鹅，他们可能为了积攒能量，换毛需要巨大的能量"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-0b26f43c1879a362.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="碰到过好几种鲸鱼，鲸鱼在船舷边喷水的场面非常震撼"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-708012ada759aca4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="遇到了庞洛公司同一型号的另一艘船，对方围绕我们两周，互相鸣笛致意"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-ea9fa827a0b56146.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="英国售卖纪念品的地方，明信片加邮递服务只要2美元"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-fe231251d031d9cc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="船上舞蹈队的演出"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-451cd0c1943b7bdc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="在雪地上拉琴的小姐姐"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-3975f418c6d604d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="冰面上的酒会"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-59e26c5ecc7733bc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="船上探险队员的讲座，哈利波特电影里的猫头鹰全部由他训练"></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>这次旅行有巨大冰山，有各种海洋生物，有各种有意思的人，用我在朋友圈里说的一句话作为结束吧</p>
<p><strong>长城站、企鹅、冰川、海豹，满足了我对南极的所有期待</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/3078475-d2528693c5c50bdc.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[python抓取教务网成绩]]></title>
      <url>http://pengtianhao.com/2017/01/31/python%E6%8A%93%E5%8F%96%E6%95%99%E5%8A%A1%E7%BD%91%E6%88%90%E7%BB%A9/</url>
      <content type="html"><![CDATA[<blockquote>
<p>最近想抓取一下教务网成绩，刚好学习了python，就用它来实现</p>
</blockquote>
<a id="more"></a>
<h1 id="前置条件"><a href="#前置条件" class="headerlink" title="前置条件"></a>前置条件</h1><ol>
<li>基本的JavaScript、html知识，用于分析网站和网络请求</li>
<li>python</li>
<li>chrome 或者其他浏览器的开发者工具</li>
<li>浙江工商大学学生账号密码</li>
</ol>
<h1 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h1><h2 id="发起请求并获取信息"><a href="#发起请求并获取信息" class="headerlink" title="发起请求并获取信息"></a>发起请求并获取信息</h2><p>最后打印的html就是网页的源代码或是接口返回的信息</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">import urllib</div><div class="line">import urllib2</div><div class="line">import cookielib</div><div class="line">import re</div><div class="line">import sys</div><div class="line">import zlib</div><div class="line"></div><div class="line">self<span class="selector-class">.loginUrl</span> = <span class="string">'http://124.160.64.163/jwglxt/xtgl/login_login.html'</span></div><div class="line">self<span class="selector-class">.cookies</span> = cookielib.CookieJar()</div><div class="line">self<span class="selector-class">.postdata</span> = urllib.urlencode(&#123;</div><div class="line">    <span class="string">'yhm'</span>:self<span class="selector-class">.username</span>,</div><div class="line">    <span class="string">'mm'</span>:self<span class="selector-class">.mypassword</span>,</div><div class="line">    <span class="string">'yzm'</span>:<span class="string">''</span></div><div class="line">&#125;)</div><div class="line">self<span class="selector-class">.opener</span> = urllib2.build_opener(urllib2.HTTPCookieProcessor(self.cookies))</div><div class="line">request  = urllib2.Request(</div><div class="line">    url = self<span class="selector-class">.loginUrl</span>,</div><div class="line">    data = self.postdata)</div><div class="line">request.add_header(<span class="string">'Accept-encoding'</span>, <span class="string">'gzip'</span>)</div><div class="line">response = self<span class="selector-class">.opener</span><span class="selector-class">.open</span>(request)</div><div class="line"><span class="selector-tag">html</span> = response.read()</div><div class="line">print html</div></pre></td></tr></table></figure>
<h2 id="分析请求"><a href="#分析请求" class="headerlink" title="分析请求"></a>分析请求</h2><h3 id="第一步-——-登录"><a href="#第一步-——-登录" class="headerlink" title="第一步 —— 登录"></a>第一步 —— 登录</h3><p>教务网的入口网址是</p>
<p><code>http://124.160.64.163/jwglxt/xtgl/login_login.html</code></p>
<ul>
<li><p>打开chorme的<code>developer tools</code></p>
</li>
<li><p>在登录页面输入账号密码，点击登录<img src="https://cl.ly/2e3Q1b362I2K" alt=""></p>
</li>
<li><p>此时查看developer tools里面的<code>network</code>选项,<code>hearder</code>里的<code>form data</code>告诉我们登录请求的参数是<code>yhm/mm/yzm</code>,其中yzm传空<img src="https://d17oy1vhnax1f7.cloudfront.net/items/25421L3U051j2W0c2702/A4E301AF-3684-4547-8BB9-94319AD78C6A.png?v=405cebbf" alt=""></p>
</li>
</ul>
<h3 id="第二步-——-通知页面"><a href="#第二步-——-通知页面" class="headerlink" title="第二步 —— 通知页面"></a>第二步 —— 通知页面</h3><p>成功登录以后就要跳转到通知页面，这时候我们需要知道点击『已阅读』按钮以后发生了什么，那就继续观察，发现请求网址是<code>http://124.160.64.163/jwglxt/xtgl/login_loginIndex.html</code>，没有参数，这时候点击『知道了』按钮，跳转到主页。这时候地址栏显示为<code>http://124.160.64.163/jwglxt/xtgl/index_initMenu.html?t=</code>，但是事实上如果通过这个网址发送参数也会失败，再次分析请求，发现实际上点击按钮之后，登录的是<code>http://124.160.64.163/jwglxt/xtgl/login_loginIndex.html</code>,没有参数。通过这个地址，我们就可以得到主页面的内容。</p>
<h3 id="第三步-——-主页面"><a href="#第三步-——-主页面" class="headerlink" title="第三步 —— 主页面"></a>第三步 —— 主页面</h3><p>加载到主页面以后，就开始比较复杂了，这时候我们需要跳转到成绩查询页面，因为新开了一个页面，所以看似是直接跳转新页面的网址<code>http://124.160.64.163/jwglxt/xtgl/init_cxGnPage.html</code>就可以，但是实际操作发现，会报<code>HTTP请求参数gnmkdm不能为空!</code>的错误。因此我们需要分析主页的源代码, 发现了这么一段<code>，于是发现这其实是需要向接口发送特定参数来获得不同的页面。这时候我的请求其实是</code>, 这个操作可以写死。</p>
<h3 id="第四步-——-请求成绩"><a href="#第四步-——-请求成绩" class="headerlink" title="第四步 —— 请求成绩"></a>第四步 —— 请求成绩</h3><p>加载好成绩页面之后，我们就需要告诉服务器我们需要的请求的学年和学期，那么至少有两个参数<code>学期</code>和<code>学年</code>，但是通过分析发现，除了这些还需要的参数包括每一页显示几张，当前多少页已经一些排序相关的参数，这些对我们不重要，只需要依样画葫芦就可以了。这其中有一个叫做<code>nd</code>的参数让我非常头疼，不过好在后来发现直接抄录也没有问题，惊险过关。</p>
<h2 id="获取成绩"><a href="#获取成绩" class="headerlink" title="获取成绩"></a>获取成绩</h2><p>这时候已经分析完毕，只欠代码实现了，但是首先我们需要知道，学校服务器是通过cookie来记录登录状态的，所以我们只需要保存一份cookie就可以保持登录。</p>
<h3 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">self<span class="selector-class">.username</span> = username</div><div class="line">self<span class="selector-class">.mypassword</span> = password</div><div class="line">self<span class="selector-class">.loginUrl</span> = <span class="string">'http://124.160.64.163/jwglxt/xtgl/login_login.html'</span></div><div class="line">self<span class="selector-class">.cookies</span> = cookielib.CookieJar()</div><div class="line">self<span class="selector-class">.postdata</span> = urllib.urlencode(&#123;</div><div class="line">	<span class="string">'yhm'</span>:self<span class="selector-class">.username</span>,</div><div class="line">	<span class="string">'mm'</span>:self<span class="selector-class">.mypassword</span>,</div><div class="line">	<span class="string">'yzm'</span>:<span class="string">''</span></div><div class="line">&#125;)</div><div class="line">self<span class="selector-class">.opener</span> = urllib2.build_opener(urllib2.HTTPCookieProcessor(self.cookies))</div><div class="line">request  = urllib2.Request(</div><div class="line">url = self<span class="selector-class">.loginUrl</span>,</div><div class="line">data = self.postdata)</div><div class="line">request.add_header(<span class="string">'Accept-encoding'</span>, <span class="string">'gzip'</span>)</div><div class="line">response = self<span class="selector-class">.opener</span><span class="selector-class">.open</span>(request)</div></pre></td></tr></table></figure>
<p>只有在登录这一步的时候需要新建一个cookie，其他步骤直接调用就可以了</p>
<h3 id="通知页面"><a href="#通知页面" class="headerlink" title="通知页面"></a>通知页面</h3><p>从这里开始直接写url和参数</p>
<p><code>http://124.160.64.163/jwglxt/xtgl/login_loginIndex.html</code></p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">self</span>.postdata = <span class="literal">None</span></div></pre></td></tr></table></figure>
<h3 id="主页面"><a href="#主页面" class="headerlink" title="主页面"></a>主页面</h3><p><code>http://124.160.64.163/jwglxt/xtgl/init_cxGnPage.html</code></p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mkName = <span class="string">'学生成绩查询'</span></div><div class="line"><span class="keyword">self</span>.postdata = urllib.urlencode(&#123;</div><div class="line">    <span class="string">'gnmkdm'</span><span class="symbol">:<span class="string">'N305005'</span></span>,</div><div class="line">    <span class="string">'dyym'</span><span class="symbol">:<span class="string">'/cjcx/cjcx_cxDgXscj.html'</span></span>,</div><div class="line">    <span class="string">'gnmkmc'</span><span class="symbol">:urllib2</span>.<span class="keyword">quote</span>(mkName.encode(<span class="string">"utf-8"</span>)),</div><div class="line">    <span class="string">'sfgnym'</span><span class="symbol">:<span class="string">'null'</span></span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="成绩查询页"><a href="#成绩查询页" class="headerlink" title="成绩查询页"></a>成绩查询页</h3><p><code>http://124.160.64.163/jwglxt/cjcx/cjcx_cxDgXscj.html?doType=query&amp;gnmkdmKey=N305005&amp;sessionUserKey=&#39;+self.username</code></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> semester == <span class="string">'1'</span>:</div><div class="line">    semester = <span class="string">'3'</span></div><div class="line">elif semester == <span class="string">'2'</span>:</div><div class="line">    semester = <span class="string">'12'</span></div><div class="line"><span class="keyword">self</span>.postdata = urllib.urlencode(&#123;</div><div class="line">    <span class="string">'xnm'</span><span class="symbol">:year</span>,</div><div class="line">    <span class="string">'xqm'</span><span class="symbol">:semester</span>,</div><div class="line">    <span class="string">'nd'</span><span class="symbol">:<span class="string">'1485587502806'</span></span>,</div><div class="line">    <span class="string">'queryModel.showCount'</span><span class="symbol">:<span class="string">'1000'</span></span>,</div><div class="line">    <span class="string">'queryModel.currentPage'</span><span class="symbol">:<span class="string">'1'</span></span>,</div><div class="line">    <span class="string">'queryModel.sortName'</span><span class="symbol">:<span class="string">''</span></span>,</div><div class="line">    <span class="string">'queryModel.sortOrder'</span><span class="symbol">:<span class="string">'asc'</span></span>,</div><div class="line">    <span class="string">'time'</span><span class="symbol">:<span class="string">'1'</span></span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>由此就拿到了成绩的json串</p>
<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><p>拿到json串之后就需要解析并且处理显示想要的结果,非常简单，只是考虑到学生有重修的情况，需要记得相同科目取最大值列入计算。</p>
<figure class="highlight zephir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">data = json.loads(html)</div><div class="line">countAll = <span class="number">0</span></div><div class="line">countGpaAll = <span class="number">0</span></div><div class="line">countAllDefualt = <span class="number">0</span></div><div class="line">mydic = &#123;&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> len(data[<span class="string">'items'</span>]) == <span class="number">0</span>:</div><div class="line"><span class="keyword">print</span> <span class="string">'No data'</span></div><div class="line"><span class="keyword">exit</span>(<span class="number">0</span>)</div><div class="line"></div><div class="line"><span class="keyword">for</span> x in data[<span class="string">'items'</span>]:</div><div class="line">    <span class="keyword">if</span> mydic.has_key(x[<span class="string">'kcmc'</span>]):</div><div class="line">        <span class="keyword">if</span> <span class="keyword">float</span>(mydic[x[<span class="string">'kcmc'</span>]])&lt;<span class="keyword">float</span>(x[<span class="string">'cj'</span>]):</div><div class="line">            countAllDefualt-=<span class="keyword">float</span>(<span class="keyword">self</span>.gpaCounterDefault(mydic[x[<span class="string">'kcmc'</span>]]))*<span class="keyword">float</span>(x[<span class="string">'xf'</span>])</div><div class="line">            countAllDefualt+=<span class="keyword">float</span>(<span class="keyword">self</span>.gpaCounterDefault(x[<span class="string">'cj'</span>]))*<span class="keyword">float</span>(x[<span class="string">'xf'</span>])</div><div class="line">            countAll-=<span class="keyword">float</span>(<span class="keyword">self</span>.gpaCounter(mydic[x[<span class="string">'kcmc'</span>]]))*<span class="keyword">float</span>(x[<span class="string">'xf'</span>])</div><div class="line">            countAll+=<span class="keyword">float</span>(<span class="keyword">self</span>.gpaCounter(x[<span class="string">'cj'</span>]))*<span class="keyword">float</span>(x[<span class="string">'xf'</span>])</div><div class="line">            mydic[x[<span class="string">'kcmc'</span>]] = x[<span class="string">'cj'</span>]</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        mydic[x[<span class="string">'kcmc'</span>]] = x[<span class="string">'cj'</span>]</div><div class="line">        countAll+= <span class="keyword">float</span>(<span class="keyword">self</span>.gpaCounter(x[<span class="string">'cj'</span>]))*<span class="keyword">float</span>(x[<span class="string">'xf'</span>])</div><div class="line">        countAllDefualt+= <span class="keyword">float</span>(<span class="keyword">self</span>.gpaCounterDefault(x[<span class="string">'cj'</span>]))*<span class="keyword">float</span>(x[<span class="string">'xf'</span>])</div><div class="line">        countGpaAll += <span class="keyword">float</span>(x[<span class="string">'xf'</span>])</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">for</span> z in mydic:</div><div class="line">    <span class="keyword">print</span> <span class="string">' '</span>+z+<span class="string">' '</span>+mydic[z]</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">'\n学分(基于wes算法): '</span>+ str(countAll/countGpaAll)</div><div class="line"><span class="keyword">print</span> <span class="string">'\n学分(基于标准算法): '</span>+ str(countAllDefualt/countGpaAll)</div></pre></td></tr></table></figure>
<p>由此就实现了从教务网查询成绩并且打印学分</p>
<h1 id="命令行参数"><a href="#命令行参数" class="headerlink" title="命令行参数"></a>命令行参数</h1><p>现在这个程序还差灵活性，最好是通过命令行参数来录入账号密码和学期学年，并且学期学年可以缺省，这时候就需要<code>argparse</code>这个库来帮助了,使用也非常简单。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">parser = argparse.ArgumentParser(description='')</div><div class="line">parser.add_argument('-u', dest='username', type=str, <span class="keyword">help</span>=<span class="string">'Your username'</span>,<span class="keyword">required</span> = <span class="literal">True</span>)</div><div class="line">parser.add_argument(<span class="string">'-p'</span>, dest=<span class="string">'password'</span>, <span class="keyword">type</span>=<span class="keyword">str</span>, <span class="keyword">help</span>=<span class="string">'Your password'</span>,<span class="keyword">required</span> = <span class="literal">True</span>)</div><div class="line">parser.add_argument(<span class="string">'-y'</span>, dest=<span class="string">'year'</span>, <span class="keyword">type</span>=<span class="keyword">str</span>, <span class="keyword">help</span>=<span class="string">'Your school year,like [2016]'</span>,<span class="keyword">required</span> = <span class="literal">False</span>,<span class="keyword">default</span>=<span class="string">''</span>)</div><div class="line">parser.add_argument(<span class="string">'-s'</span>, dest=<span class="string">'semester'</span>, <span class="keyword">type</span> =<span class="keyword">str</span>, <span class="keyword">help</span>=<span class="string">'Your semester [1]or[2]'</span>,<span class="keyword">required</span> = <span class="literal">False</span>,<span class="keyword">default</span>=<span class="string">''</span>)</div><div class="line"></div><div class="line">myUserName = <span class="keyword">None</span></div><div class="line">myPassword = <span class="keyword">None</span></div><div class="line">myYear = <span class="keyword">None</span></div><div class="line">mySemester = <span class="keyword">None</span></div><div class="line"></div><div class="line">try:</div><div class="line">    options = parser.parse_args()</div><div class="line">    myUserName = options.username</div><div class="line">    myPassword = options.password</div><div class="line">    myYear = options.year</div><div class="line">    mySemester = options.semester</div><div class="line"><span class="keyword">except</span>:</div><div class="line">    print(parser.parse_args([<span class="string">'-h'</span>]))</div><div class="line">    <span class="keyword">exit</span>(<span class="number">0</span>)</div></pre></td></tr></table></figure>
<h1 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h1><p><img src="https://d3uepj124s5rcx.cloudfront.net/items/2I0Z3A2c1g1K3I2E3e2O/IMG_1688.JPG?v=d3d0dfd8" alt=""></p>
<h1 id="完整代码（含bug修复"><a href="#完整代码（含bug修复" class="headerlink" title="完整代码（含bug修复)"></a>完整代码（含bug修复)</h1><p><a href="https://github.com/pthtc/ZJGSU-GPACounter" target="_blank" rel="external">ZJGSU-GPACounter</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[快速实现基于Python的微信聊天机器人]]></title>
      <url>http://pengtianhao.com/2017/01/23/%E5%BF%AB%E9%80%9F%E5%AE%9E%E7%8E%B0%E5%9F%BA%E4%BA%8EPython%E7%9A%84%E5%BE%AE%E4%BF%A1%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA/</url>
      <content type="html"><![CDATA[<blockquote>
<p>最近听说一个很好玩的图灵机器人api，正好可以用它做一个微信聊天机器人，下面是实现</p>
</blockquote>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># test.py</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">import</span> itchat <span class="comment">#这是一个用于微信回复的库</span></div><div class="line"></div><div class="line">KEY = <span class="string">'8edce3ce905a4c1dbb965e6b35c3834d'</span> <span class="comment">#这个key可以直接拿来用</span></div><div class="line"></div><div class="line"><span class="comment"># 向api发送请求</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_response</span><span class="params">(msg)</span>:</span></div><div class="line">    apiUrl = <span class="string">'http://www.tuling123.com/openapi/api'</span></div><div class="line">    data = &#123;</div><div class="line">        <span class="string">'key'</span>    : KEY,</div><div class="line">        <span class="string">'info'</span>   : msg,</div><div class="line">        <span class="string">'userid'</span> : <span class="string">'pth-robot'</span>,</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        r = requests.post(apiUrl, data=data).json()</div><div class="line">        <span class="keyword">return</span> r.get(<span class="string">'text'</span>)</div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line"><span class="comment"># 注册方法</span></div><div class="line">\@itchat.msg_register(itchat.content.TEXT)</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">tuling_reply</span><span class="params">(msg)</span>:</span></div><div class="line">    <span class="comment"># 为了保证在图灵Key出现问题的时候仍旧可以回复，这里设置一个默认回复</span></div><div class="line">    defaultReply = <span class="string">'I received: '</span> + msg[<span class="string">'Text'</span>]</div><div class="line">    <span class="comment"># 如果图灵Key出现问题，那么reply将会是None</span></div><div class="line">    reply = get_response(msg[<span class="string">'Text'</span>])</div><div class="line">    <span class="comment"># a or b的意思是，如果a有内容，那么返回a，否则返回b</span></div><div class="line">    <span class="keyword">return</span> reply <span class="keyword">or</span> defaultReply</div><div class="line"></div><div class="line"><span class="comment"># 为了让修改程序不用多次扫码,使用热启动</span></div><div class="line">itchat.auto_login(hotReload=<span class="keyword">True</span>)</div><div class="line">itchat.run()</div></pre></td></tr></table></figure>
<p>如果要让这个机器人永远运行，就需要上传到服务器，用<code>screen</code>指令新开一个窗口，运行<code>python3 test.py</code>,这时候就会在同一个目录下生成一个<code>QR.jpg</code>文件，但是因为一般我们是用ssh连接服务器,没有图像，所以需要用<code>scp</code>指令，下载到本地之后，用手机扫码，这样工作就完成了</p>
<p>效果如下:</p>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0s1B152M3H45092S0v3q/IMG_0591.PNG?v=380fe5c0" alt=""></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[计算机网络笔记]]></title>
      <url>http://pengtianhao.com/2016/11/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/</url>
      <content type="html"><![CDATA[<blockquote>
<p>计算机网络的课堂笔记</p>
</blockquote>
<a id="more"></a>
<h2 id="协议图"><a href="#协议图" class="headerlink" title="协议图"></a>协议图</h2><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/463z3S3E1A3o04323l0K/1366100130_5972.jpg?v=34777df0" alt=""></p>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/1T0H2M0I1d2F0i36063O/0_1325744597WM32.gif?v=e4566c46" alt=""></p>
<h2 id="公式"><a href="#公式" class="headerlink" title="公式"></a>公式</h2><h3 id="最小帧长计算"><a href="#最小帧长计算" class="headerlink" title="最小帧长计算"></a>最小帧长计算</h3><p><code>最小帧长 = 2*总传播时间*传播速率 = 2*(网络跨距/传播速率+ 处理延迟)*传输速率</code></p>
<h3 id="香农定理"><a href="#香农定理" class="headerlink" title="香农定理"></a>香农定理</h3><ul>
<li>信噪比 <code>db = 10*lg(S/N)</code></li>
<li>最大传输速率 <code>C = Wlog2(1+S/N)</code> W——信道带宽</li>
</ul>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><ul>
<li><p><strong>网络</strong> 由节点和链路组成 <strong>点和线都很重要</strong></p>
</li>
<li><p><strong>计算机网络</strong> 一个互相连接、自治的计算机集合</p>
</li>
<li><p><strong>互联网（internet）</strong> 网络的网络，使用任意协议</p>
</li>
<li><p><strong>英特网（Internet）</strong> 一种互联网，使用TCP/IP协议，世界上最大的计算机网络</p>
</li>
<li><p><strong>以太网</strong> 采用CSMA/CD协议的局域网</p>
</li>
<li><p><strong>上网</strong> 通过ISP获得IP地址</p>
</li>
<li><p><strong>协议</strong> 为网络数据交换而建立的规则</p>
</li>
<li><p><strong>交换机</strong> 为接入交换机的任意两个网络节点提供独享的电信号通路，其实就是<strong>分配信号的东西</strong></p>
</li>
<li><p><strong>路由</strong> 分组从源到目的地时，决定端到端路径的网络范围的进程，<strong>家里的那种其实是交换机和路由器的集合</strong></p>
</li>
<li><p><strong>路由器</strong> 节点交换机</p>
</li>
<li><p><strong>WAN</strong> 广域网</p>
</li>
<li><p><strong>LAN</strong> 局域网</p>
</li>
<li><p><strong>ISP</strong> 因特网服务供应商，有申请IP地址的能力，比如<strong>电信、移动、联通</strong></p>
</li>
<li><p><strong>IP</strong> 网络协议</p>
</li>
<li><p><strong>IXP</strong> 互联网交换点，为了低级ISP之间转发方便设置</p>
</li>
<li><p><strong>TCP</strong> 传输控制协议，保证信息传达完整，比较慢</p>
</li>
<li><p><strong>UDP</strong> 用户数据报协议，不保证信息转达完整，比较快</p>
</li>
<li><p><strong>ICP</strong> 网络内容服务商</p>
</li>
<li><p><strong>时延（延迟）</strong> 数据从网络一端到另一端所需的时间，转发中要排队造成<br><code>总时延 = 发送时延（主机发送数据帧的时间）+传播时延（电磁波在信道中传播一定距离的时间）+处理时延+排队时延</code></p>
</li>
</ul>
<h3 id="英特网的组成"><a href="#英特网的组成" class="headerlink" title="英特网的组成"></a>英特网的组成</h3><h4 id="互联网边缘部分"><a href="#互联网边缘部分" class="headerlink" title="互联网边缘部分"></a>互联网边缘部分</h4><p>进行由各种终端组成（PC/某个ISP/互联网摄像头等）</p>
<ul>
<li><p><strong>客户-服务器通信(C/S)</strong> 客户（Client）和服务器（Server）都指进程</p>
</li>
<li><p><strong>对等通信（P2P）</strong> </p>
</li>
</ul>
<h5 id="服务器软件"><a href="#服务器软件" class="headerlink" title="服务器软件"></a>服务器软件</h5><p>一种同时处理多个远程和本地客户的请求的程序</p>
<ul>
<li><strong>一直运行</strong></li>
<li><strong>被动等待</strong></li>
</ul>
<h4 id="互联网核心部分"><a href="#互联网核心部分" class="headerlink" title="互联网核心部分"></a>互联网核心部分</h4><p>由网络和路由器等组成，起特殊作用的是<strong>路由器</strong>，用于转发收到的分组</p>
<h5 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h5><p><strong>路由器的输入输出端口间没有直接连线</strong></p>
<p>路由器处理分组的过程：</p>
<ul>
<li><p>收到的分组放入缓存</p>
</li>
<li><p>查找转发表</p>
</li>
<li><p>把分组送到合适的端口转发出去</p>
</li>
</ul>
<h5 id="各种交换"><a href="#各种交换" class="headerlink" title="各种交换"></a>各种交换</h5><ul>
<li><p><strong>交换</strong> 建立连接——通信——释放连接</p>
</li>
<li><p><strong>分组</strong> 将数据打包分块，也就是<strong>包</strong>，分组的头部叫做<strong>包头</strong></p>
</li>
</ul>
<hr>
<ul>
<li><p><strong>分组交换</strong> 单个分组传送到节点，储存下来后查找转发表，转发下一个节点</p>
</li>
<li><p><strong>报文交换</strong> 整个报文先传送到相邻节点，全部储存下来后查找转发表，转发下一个节点</p>
</li>
<li><p><strong>电路交换</strong> 持续地连续从源点直达终点，一直占用资源</p>
</li>
</ul>
<h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><h4 id="协议的组成"><a href="#协议的组成" class="headerlink" title="协议的组成"></a>协议的组成</h4><ul>
<li><strong>语法</strong> 格式结构</li>
<li><strong>语义</strong> 定义发出的信息和应该做出的响应</li>
<li><strong>同步</strong> 事件实现顺序</li>
</ul>
<h4 id="五级体系结构"><a href="#五级体系结构" class="headerlink" title="五级体系结构"></a>五级体系结构</h4><ul>
<li><p><strong>物理层</strong> 网线等，与链路层组成<code>局域网</code></p>
</li>
<li><p><strong>链路层</strong> 交换机、路由器等发挥作用的地方</p>
</li>
<li><p><strong>网络层</strong> IP</p>
</li>
<li><p><strong>运输层</strong> TCP/UDP</p>
</li>
<li><p><strong>应用层</strong> DNS/FTP/HTTP/URL/SMTP/POP3/IMAP等，交换的数据单元叫<strong>报文</strong></p>
</li>
</ul>
<h4 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h4><p><strong>体系结构</strong> 将五级结构的物理层和链路层合并</p>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0W3I081S0r1m3Y3C0c2h/020009362228293.png" alt=""></p>
<p><strong>沙漏型</strong> 应用层和网络接口层都有很多协议，IP层很小，所以各种协议都向下汇聚到IP协议中</p>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0V0k0k3M440i3Y0O0F2K/d6ca7bcb0a46f21fd656b015f7246b600c33ae12.jpg" alt=""></p>
<h2 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h2><p>物理层考虑的是</p>
<ul>
<li><strong>如何在链接各种计算机的传输媒体上传输数据bit流</strong></li>
<li><strong>如何使数据链层无法感受到传输媒体和通信手段的差异</strong></li>
</ul>
<p>通过<strong>串行传输</strong>传输数据（成本考虑）</p>
<h3 id="数据通信"><a href="#数据通信" class="headerlink" title="数据通信"></a>数据通信</h3><h4 id="组成成分"><a href="#组成成分" class="headerlink" title="组成成分"></a>组成成分</h4><ul>
<li><strong>源系统：</strong> 源点、发送器</li>
<li><strong>传输系统</strong></li>
<li><strong>目的系统：</strong> 接收器、终点</li>
</ul>
<h4 id="一些概念"><a href="#一些概念" class="headerlink" title="一些概念"></a>一些概念</h4><ul>
<li><strong>消息</strong> 数据的本来面目（语音、图像）</li>
<li><strong>数据</strong> 有意义的符号序列（01010？）</li>
<li><strong>信号</strong> 电磁表现（1.<strong>模拟信号：</strong> 取值连续 2. <strong>数字信号：</strong>取值离散）</li>
<li><strong>信道</strong> 单向数据通路，通信电路包含两条信道（接收、发送）</li>
<li><strong>单向通信</strong> 没有方向的通信，不期望回复(广播、电视)</li>
<li><strong>双向交替通信</strong> 字面意思，同一时间一方只能接收或者发送，需要两条信道</li>
<li><strong>双向同时通信</strong> 字面意思，两条信道</li>
<li><strong>调幅AM</strong> 振幅</li>
<li><strong>调频FM</strong> 频率</li>
<li><strong>调相</strong> 初始相位</li>
<li><strong>码间串扰</strong> 码元传输速率太高导致接收到的信号失去了清晰的界限</li>
<li><strong>信噪比（S/N）</strong> 信号平均功率和噪声平均功率之比，单位是分贝<br>  <code>信噪比(db) = 10*lg(S/N)</code> </li>
<li><strong>极限传输速率(香浓定力)</strong> <code>C = Wlog2(1+S/N)</code> W-信道带宽</li>
</ul>
<h4 id="传输媒体"><a href="#传输媒体" class="headerlink" title="传输媒体"></a>传输媒体</h4><h5 id="引导型"><a href="#引导型" class="headerlink" title="引导型"></a>引导型</h5><ul>
<li><strong>双绞线</strong></li>
<li><strong>同轴电缆</strong></li>
<li><strong>光缆</strong></li>
</ul>
<h5 id="非引导型"><a href="#非引导型" class="headerlink" title="非引导型"></a>非引导型</h5><p>各种无线电波通信</p>
<h4 id="信道复用技术"><a href="#信道复用技术" class="headerlink" title="信道复用技术"></a>信道复用技术</h4><h5 id="频分复用、时分复用、统计时分复用"><a href="#频分复用、时分复用、统计时分复用" class="headerlink" title="频分复用、时分复用、统计时分复用"></a>频分复用、时分复用、统计时分复用</h5><ul>
<li><strong>频分复用FDM</strong> 所有用户占用不同的频带（频率区域）</li>
<li><strong>时分复用TDM</strong> 每个用户在TDM帧中占用固定序号的时隙</li>
<li><strong>统计时分复用STDM</strong> 低速信号充满缓存之后发送，保证利用率</li>
<li><strong>波分复用</strong> 就是光的频分复用</li>
<li><strong>码分复用</strong> </li>
<li><strong>复用器、分用器</strong> 见图</li>
</ul>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0X2G1j3I1g2d030b3r1b/003shoMnzy6NmKBEc6X2f&amp;690.png?v=3553ba49" alt=""> </p>
<h2 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h2><ul>
<li><p><strong>点对点信道</strong> </p>
</li>
<li><p><strong>广播信道</strong> </p>
</li>
<li><p><strong>链路</strong> 一个节点到相邻点的一段物理线路（有线或无线）</p>
</li>
<li><p><strong>数据链路</strong> 通过通信协议控制数据的软硬件</p>
</li>
</ul>
<h3 id="点对点信道的数据链路层"><a href="#点对点信道的数据链路层" class="headerlink" title="点对点信道的数据链路层"></a>点对点信道的数据链路层</h3><ol>
<li>节点A把网络层给的IP数据报添加首尾封装成帧</li>
<li>A把帧发送给B</li>
<li>B确认无差错，就从帧中提出IP数据报给网络层</li>
</ol>
<h3 id="封装成帧"><a href="#封装成帧" class="headerlink" title="封装成帧"></a>封装成帧</h3><p>在一段数据前后添加首部和尾部，用于<strong>帧界定</strong>（如果首尾不全，那么就是垃圾数据，应该丢弃）</p>
<p><strong>每个帧长度要小于最大传送单元MTU</strong></p>
<p>特殊：ASCII要用SOH(00000001)和EOT(00000100)界定</p>
<h3 id="透明传输"><a href="#透明传输" class="headerlink" title="透明传输"></a>透明传输</h3><ul>
<li><p><strong>定义:</strong> 保证<strong>无论哪种数据都能完好无损地传输(即使和界定符长得一样)</strong></p>
</li>
<li><p><strong>手段:</strong> 通过在字节前加转义字符(ESC) </p>
</li>
</ul>
<h3 id="差错检测"><a href="#差错检测" class="headerlink" title="差错检测"></a>差错检测</h3><p>差错检测只能做到<strong>凡是接受的帧都无差错</strong>，但无法保证<strong>帧丢失、重复、失序</strong>，因此不是<strong>可靠传输</strong></p>
<h4 id="循环冗余检测CRC"><a href="#循环冗余检测CRC" class="headerlink" title="循环冗余检测CRC"></a>循环冗余检测CRC</h4><ol>
<li>数据划分成组M，每组k位</li>
<li>在每组数据后加n位冗余码</li>
</ol>
<h5 id="冗余码得出方法"><a href="#冗余码得出方法" class="headerlink" title="冗余码得出方法"></a>冗余码得出方法</h5><ol>
<li>在M后添加n个0，得到X <code>M = 101001,n = 3</code> <code>X = 101001000</code></li>
<li>X除以事先规定的<code>n+1</code>位的P <code>P = 1101</code></li>
<li>得到商Q(没卵用)、余数R(所求的<strong>冗余码FCS</strong>)</li>
<li>得到拼接后的</li>
</ol>
<h5 id="接收端检验方法"><a href="#接收端检验方法" class="headerlink" title="接收端检验方法"></a>接收端检验方法</h5><p>把每一帧都除以P，检查得到余数R</p>
<p>如果R等于0，就通过</p>
<h3 id="点对点协议PPP"><a href="#点对点协议PPP" class="headerlink" title="点对点协议PPP"></a>点对点协议PPP</h3><p>PC和ISP进行通讯时所使用的数据链路层协议</p>
<h4 id="所需特点"><a href="#所需特点" class="headerlink" title="所需特点"></a>所需特点</h4><ol>
<li>简单</li>
<li>封装成帧</li>
<li>透明</li>
<li>多种网络层协议</li>
<li>多种类型链路</li>
<li>差错检测</li>
<li>检测连接状态</li>
<li>最大传送单元</li>
<li>网络层地址协商</li>
<li>数据压缩协商</li>
</ol>
<h4 id="PPP的帧格式"><a href="#PPP的帧格式" class="headerlink" title="PPP的帧格式"></a>PPP的帧格式</h4><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/3w2U3O411F2A221Z1r1s/%E4%B8%8B%E8%BD%BD.jpeg?v=a9245ac9" alt=""></p>
<!--待续-->
<h3 id="使用广播信道的数据链路层"><a href="#使用广播信道的数据链路层" class="headerlink" title="使用广播信道的数据链路层"></a>使用广播信道的数据链路层</h3><p>共享信道的两种方法</p>
<ol>
<li><strong>静态划分</strong> 内容见<strong>信道复用技术</strong></li>
<li><strong>动态媒体接入控制(多点接入)</strong> 随机介入、受控接入 </li>
</ol>
<p>逻辑链路两个子层</p>
<ul>
<li><strong>LLC:</strong> 逻辑链路控制</li>
<li><strong>MAC:</strong> 媒体接入控制</li>
</ul>
<p><strong>硬件地址、网卡地址、mac地址、物理地址相等</strong></p>
<ul>
<li><strong>适配器</strong> 将计算机内部并行的数据转换成适合网络传输串行数据(缓存区)</li>
</ul>
<h4 id="CSMA-CD协议"><a href="#CSMA-CD协议" class="headerlink" title="CSMA/CD协议"></a>CSMA/CD协议</h4><ul>
<li><strong>以太网使用不可靠交付</strong> 尽最大能力交付，不负责查错，要是TCP发现错误，就要求重传，重传的帧被当做新的帧</li>
<li><strong>双向交替通讯</strong> 因为不能有冲突</li>
<li><strong>发送的不确定性</strong> 发送之后不一定会发送成功，所以需要</li>
<li><strong>争用期</strong> 碰撞窗口，以太网端到端往返的时间(2t)，经过争用期还未发生碰撞，意味着不会发生碰撞</li>
<li><strong>总线占用总时间</strong> A发送数据到发现碰撞时间(2μ-t)+人为干扰信号发送时间+单程端到端时间μ</li>
<li><strong>比特时间</strong> 1bit数据发送的时间</li>
<li><strong>帧间最小间隔</strong> 9.6μs，用于接收到数据的站清理缓存</li>
<li><strong>曼彻斯特编码</strong> </li>
</ul>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0q1W1E1m0F1q2C0j2t1z/bki-20100925171759-2006568241.jpg?v=794cd182" alt=""></p>
<h5 id="多点接入"><a href="#多点接入" class="headerlink" title="多点接入"></a>多点接入</h5><p>以太网是一种总线型网络</p>
<h5 id="载波监听"><a href="#载波监听" class="headerlink" title="载波监听"></a>载波监听</h5><p>市值是检测信道是否被占用，以此判断是否拥有发送权</p>
<h5 id="碰撞检测"><a href="#碰撞检测" class="headerlink" title="碰撞检测"></a>碰撞检测</h5><p>适配器边发送边监听信道上电压变化(两个信号叠加电压会增加)</p>
<h5 id="传播时延对于载波监听的影响"><a href="#传播时延对于载波监听的影响" class="headerlink" title="传播时延对于载波监听的影响"></a>传播时延对于载波监听的影响</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/1r0K101y1N1N1u1G1W2U/2012070816390787.png?v=09baf204" alt=""></p>
<h5 id="截断二进制算法"><a href="#截断二进制算法" class="headerlink" title="截断二进制算法"></a>截断二进制算法</h5><ol>
<li>争用期t，是51.2μs，对于10Mb/s以太网，就是<code>64字节 == 512bit == 512比特时间</code></li>
<li>从[0~(2^k)-1]随机取出一个数r，重传应推后rt时间，<code>k = Min[重传次数，10]</code></li>
<li>当重传16次还没成功的话，就丢弃该帧，向高层报告</li>
</ol>
<h5 id="强化碰撞"><a href="#强化碰撞" class="headerlink" title="强化碰撞"></a>强化碰撞</h5><p>一旦数据站检测到发生碰撞，就连续发送32、48比特的人为干扰信号，以便让所有用户知道碰撞以发生。</p>
<h3 id="使用广播信道的以太网"><a href="#使用广播信道的以太网" class="headerlink" title="使用广播信道的以太网"></a>使用广播信道的以太网</h3><ul>
<li><strong>集线器</strong> 模拟线缆工作，实质上仍是总线型网络</li>
<li><strong>协议</strong> 使用CSMA/CD协议</li>
</ul>
<h4 id="信道利用率"><a href="#信道利用率" class="headerlink" title="信道利用率"></a>信道利用率</h4><ul>
<li><strong>以太网单程端到端时延</strong> τ</li>
<li><strong>帧发送时间</strong> T0</li>
<li><strong>参数a</strong> <code>a = τ/T0</code>，对于a -&gt; 0，一旦发生碰转就能立即被检出</li>
<li><strong>信道利用率</strong> 如果没有碰撞:<code>T0/(T0+τ) -&gt; 1/(1+a)</code></li>
</ul>
<h4 id="以太网MAC层"><a href="#以太网MAC层" class="headerlink" title="以太网MAC层"></a>以太网MAC层</h4><p><strong>MAC地址(硬件地址)</strong> 固化在硬件里的地址，前24位由IEEE指定，后24位由厂家指定，实质是<strong>适配器地址</strong></p>
<h5 id="MAC帧格式"><a href="#MAC帧格式" class="headerlink" title="MAC帧格式"></a>MAC帧格式</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0a1F0V0n252n2O103N3g/0_1328795116sk0V.gif.png?v=467c7e89" alt=""></p>
<h3 id="以太网的扩展"><a href="#以太网的扩展" class="headerlink" title="以太网的扩展"></a>以太网的扩展</h3><h4 id="物理层扩展"><a href="#物理层扩展" class="headerlink" title="物理层扩展"></a>物理层扩展</h4><p>通过一个主干集线器，将之前独立的以太网连接在一起</p>
<p><strong>带来的问题</strong></p>
<ol>
<li>扩大了碰撞域，但是带宽没变，大大降低了吞吐量</li>
<li>如果几个以太网使用技术不同，就不能用集线器扩展</li>
</ol>
<h4 id="数据链路层扩展"><a href="#数据链路层扩展" class="headerlink" title="数据链路层扩展"></a>数据链路层扩展</h4><ul>
<li><strong>网桥</strong> 工作在数据链路层，接到帧以后就检测目标MAC地址，查表决定接口或者丢弃</li>
</ul>
<h5 id="网桥内部结构"><a href="#网桥内部结构" class="headerlink" title="网桥内部结构"></a>网桥内部结构</h5><p>网桥通过<strong>转发表</strong>来转发帧，如果对不上就丢弃</p>
<p>网桥不改变源地址</p>
<h5 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h5><ul>
<li><p><strong>优点</strong></p>
<ol>
<li>碰撞域减小</li>
<li>扩大以太网工作站数目</li>
<li>某个网挂了不影响其它</li>
<li>不同物理层、Mac子层、不同速率的以太网可以连在一起</li>
</ol>
</li>
<li><p><strong>缺点</strong></p>
<ol>
<li>增加时延</li>
<li>网桥缓存小可能溢出，导致丢帧</li>
<li>用户量大的时候可能导致阻塞</li>
</ol>
</li>
</ul>
<h5 id="透明网桥"><a href="#透明网桥" class="headerlink" title="透明网桥"></a>透明网桥</h5><ol>
<li>通过自学习算法建立转发表(记录帧首部的源地址)，或者更新转发表</li>
<li>存储</li>
<li>CRC校验，丢弃</li>
<li>转发(根据帧首部的目的地址)</li>
</ol>
<h5 id="交换式集线器-以太网交换机"><a href="#交换式集线器-以太网交换机" class="headerlink" title="交换式集线器(以太网交换机)"></a>交换式集线器(以太网交换机)</h5><p>就是一种多接口网桥，每一对相互通信的主机都无碰撞地传递数据</p>
<h2 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h2><p>网络层提供最大交付，不提供差错检验。</p>
<h3 id="网际协议IP"><a href="#网际协议IP" class="headerlink" title="网际协议IP"></a>网际协议IP</h3><h4 id="一些概念-1"><a href="#一些概念-1" class="headerlink" title="一些概念"></a>一些概念</h4><ul>
<li><strong>ARP</strong> 地址解析协议</li>
<li><strong>ICMP</strong> 网际控制报文协议</li>
<li><strong>网际组管理协议</strong> IGMP</li>
</ul>
<h4 id="各种设备"><a href="#各种设备" class="headerlink" title="各种设备"></a>各种设备</h4><ul>
<li><strong>物理层</strong> 转发器(集线器？)</li>
<li><strong>数据链路层</strong> 网桥(以太网网桥，交换机)</li>
<li><strong>网络层</strong> 路由器</li>
<li><strong>网络层以上</strong> 网关</li>
</ul>
<h4 id="IP地址组成"><a href="#IP地址组成" class="headerlink" title="IP地址组成"></a>IP地址组成</h4><ul>
<li><p><strong>IP地址由<code>&lt;网络号&gt;:&lt;主机号&gt;</code>组成</strong> 不过现在ABC这种分类已经成为历史</p>
<p>  <img src="https://d17oy1vhnax1f7.cloudfront.net/items/0o0M261t313V2m211b08/ip-di-zhi-fen-lei_clip_image001.png?v=90d0ab8a" alt=""></p>
</li>
<li><p><strong>IP地址是32位的二进制代码</strong></p>
</li>
</ul>
<h4 id="IP地址特点"><a href="#IP地址特点" class="headerlink" title="IP地址特点"></a>IP地址特点</h4><ol>
<li>IP地址是一个分等级的地址结构，路由器转发时候只根据网络号</li>
<li>IP地址是一个主机和一条链路的接口，因此路由器至少连接两个网络，所以至少拥有两个IP地址</li>
<li>IP地址中，所有网络号都是平等的</li>
</ol>
<h4 id="IP地址与硬件地址"><a href="#IP地址与硬件地址" class="headerlink" title="IP地址与硬件地址"></a>IP地址与硬件地址</h4><p>硬件地址在<strong>数据链路层和物理层</strong>使用<br>IP地址在<strong>网络层和和以上各层</strong>使用</p>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/1n3u223M3F0c0N1Q0P1T/082256050466766.png?v=06a62735" alt=""></p>
<ol>
<li>IP层只能见到IP层，数据链路层只看到数据链路层的帧</li>
<li>路由器只根据目的IP进行转发</li>
</ol>
<h4 id="地址解析协议ARP"><a href="#地址解析协议ARP" class="headerlink" title="地址解析协议ARP"></a>地址解析协议ARP</h4><ul>
<li><p><strong>目的</strong> ARP用于<strong>通过IP找到对应的MAC地址</strong>(ARP攻击)</p>
</li>
<li><p><strong>方法</strong> </p>
</li>
</ul>
<ol>
<li>在主机ARP高速缓存中存放一个<strong>动态更新的IP-MAC地址映射表</strong></li>
<li>发送数据时，如果未记录某IP的地址，就广播(内容为<strong>自己的IP+自己的MAC+对方IP</strong>)</li>
<li>对应IP的主机接到广播回复MAC地址，顺便记下IP地址</li>
</ol>
<ul>
<li><strong>生存时间</strong> 10~20min之后删除映射关系</li>
</ul>
<h4 id="IP数据报格式"><a href="#IP数据报格式" class="headerlink" title="IP数据报格式"></a>IP数据报格式</h4><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/2g201G2K270U3o2E2U1L/1358164183_8713.png?v=c4463809" alt=""></p>
<p>TTL 就是生存时间，每次转发-1，变0就扔掉</p>
<h4 id="IP转发分组的流程"><a href="#IP转发分组的流程" class="headerlink" title="IP转发分组的流程"></a>IP转发分组的流程</h4><ul>
<li><strong>路由表只记录网络地址</strong></li>
<li><strong>路由表是下一跳地址、目的网络地址</strong></li>
<li><strong>特定主机路由</strong> 为特定目的主机指明路由</li>
<li><strong>默认路由</strong> 只要目的网络不是特定网络，全部交付给默认路由</li>
</ul>
<h5 id="分组转发算法"><a href="#分组转发算法" class="headerlink" title="分组转发算法"></a>分组转发算法</h5><ol>
<li>从数据报的首部提取目的主机的 IP 地址 D, 得出目的网络地址为 N。</li>
<li>若网络 N 与此路由器直接相连，则把数据报直接交付目的主机 D；否则是间接交付，执行(3)。</li>
<li>若路由表中有目的地址为 D 的特定主机路由，则把数据报传送给路由表中所指明的下一跳路由器；否则，执行(4)。</li>
<li>若路由表中有到达网络 N 的路由，则把数据报传送给路由表指明的下一跳路由器；否则，执行(5)。</li>
<li>若路由表中有一个默认路由，则把数据报传送给路由表中所指明的默认路由器；否则，执行(6)。</li>
<li>报告转发分组出错。 </li>
</ol>
<h3 id="划分子网"><a href="#划分子网" class="headerlink" title="划分子网"></a>划分子网</h3><p><code>IP地址 ::= {&lt;网络号&gt;, &lt;子网号&gt;, &lt;主机号&gt;}</code></p>
<ul>
<li>子网对外仍是一个网络</li>
</ul>
<h3 id="子网掩码"><a href="#子网掩码" class="headerlink" title="子网掩码"></a>子网掩码</h3><ul>
<li><p>子网掩码与IP进行与运算，1的部分为网络号，由此算出网络地址</p>
</li>
<li><p>路由器交换和记录信息，都要使用子网掩码</p>
</li>
</ul>
<h4 id="划分子网情况下转发算法"><a href="#划分子网情况下转发算法" class="headerlink" title="划分子网情况下转发算法"></a>划分子网情况下转发算法</h4><ol>
<li>从收到的分组的首部提取目的 IP 地址 D。</li>
<li>先用各网络的子网掩码和 D 逐位相“与”，看是否和<br>  相应的网络地址匹配。若匹配，则将分组直接交付。<br>  否则就是间接交付，执行(3)。</li>
<li>若路由表中有目的地址为 D 的特定主机路由，则将<br>  分组传送给指明的下一跳路由器；否则，执行(4)。</li>
<li>对路由表中的每一行的子网掩码和 D 逐位相“与”，<br>  若其结果与该行的目的网络地址匹配，则将分组传送<br>  给该行指明的下一跳路由器；否则，执行(5)。</li>
<li>若路由表中有一个默认路由，则将分组传送给路由表<br>  中所指明的默认路由器；否则，执行(6)。</li>
<li>报告转发分组出错。</li>
</ol>
<h3 id="CIDR无分类地址"><a href="#CIDR无分类地址" class="headerlink" title="CIDR无分类地址"></a>CIDR无分类地址</h3><p><code>IP地址 ::= {&lt;网络前缀&gt;, &lt;主机号&gt;}</code></p>
<p><code>128.14.32.0/20</code> 地址块的最小地址：<code>128.14.32.0</code><br><code>128.14.32.0/20</code> 地址块的最大地址：<code>128.14.47.255</code></p>
<p>转发时候，使用最长前缀匹配</p>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/1t0X2q360A0B1g2k3x2T/屏幕快照%202016-11-28%20下午2.52.43.png?v=a59e9db2" alt=""></p>
<h3 id="ICMP-网际控制报文协议"><a href="#ICMP-网际控制报文协议" class="headerlink" title="ICMP 网际控制报文协议"></a>ICMP 网际控制报文协议</h3><ul>
<li>ICMP 报文作为IP层数据报的数据，加上数据报的首部，组成IP数据报发送出去</li>
</ul>
<h4 id="ICMP的协议"><a href="#ICMP的协议" class="headerlink" title="ICMP的协议"></a>ICMP的协议</h4><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0q1J1n2s3g2V0a0H3J0Y/屏幕快照%202016-11-28%20下午3.09.51.png?v=576c013c" alt=""></p>
<h4 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h4><ul>
<li>PING 测试连通性</li>
</ul>
<h4 id="ICMP报文种类"><a href="#ICMP报文种类" class="headerlink" title="ICMP报文种类"></a>ICMP报文种类</h4><ul>
<li>ICMP差错报告报文</li>
<li>ICMP询问报文 </li>
</ul>
<h5 id="差错报告"><a href="#差错报告" class="headerlink" title="差错报告"></a>差错报告</h5><h6 id="种类"><a href="#种类" class="headerlink" title="种类"></a>种类</h6><ul>
<li>终点不可达 </li>
<li>源点抑制(Source quench)  </li>
<li>时间超过 </li>
<li>参数问题 </li>
<li>改变路由（重定向）(Redirect)  </li>
</ul>
<h6 id="ICMP格式"><a href="#ICMP格式" class="headerlink" title="ICMP格式"></a>ICMP格式</h6><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/2U1P1K2r1x3p1g1G3J3K/屏幕快照%202016-11-28%20下午3.17.35.png?v=9a38c40d" alt=""></p>
<h6 id="不发送的情况"><a href="#不发送的情况" class="headerlink" title="不发送的情况"></a>不发送的情况</h6><ul>
<li>对 ICMP 差错报告报文不再发送 ICMP 差错报告报文。</li>
<li>对第一个分片的数据报片的所有后续数据报片都不发送 ICMP 差错报告报文。</li>
<li>对具有多播地址的数据报都不发送 ICMP 差错报告报文。</li>
<li>对具有特殊地址（如127.0.0.0 或 0.0.0.0）的数据报不发送 ICMP 差错报告报文。</li>
</ul>
<h5 id="询问报文"><a href="#询问报文" class="headerlink" title="询问报文"></a>询问报文</h5><h6 id="种类-1"><a href="#种类-1" class="headerlink" title="种类"></a>种类</h6><p>回送请求和回答报文<br>时间戳请求和回答报文</p>
<h6 id="不再使用的情况"><a href="#不再使用的情况" class="headerlink" title="不再使用的情况"></a>不再使用的情况</h6><p>信息请求与回答报文<br>掩码地址请求和回答报文<br>路由器询问和通告报文 </p>
<h3 id="因特网路由选择协议"><a href="#因特网路由选择协议" class="headerlink" title="因特网路由选择协议"></a>因特网路由选择协议</h3><h4 id="内部网关协议RIP"><a href="#内部网关协议RIP" class="headerlink" title="内部网关协议RIP"></a>内部网关协议RIP</h4><ul>
<li><strong>距离</strong> 到达该网络的经历的最少路由器数量，最多15个</li>
</ul>
<p>每个路由器维护自己到每一个目的网络的距离记录</p>
<h5 id="要点"><a href="#要点" class="headerlink" title="要点"></a>要点</h5><ol>
<li>仅和相邻路由器交换信息。 </li>
<li>交换的信息是当前本路由器所知道的全部信息，即自己的路由表。 </li>
<li>按固定的时间间隔交换路由信息，例如每隔30秒。 </li>
<li>多级交换以后每个路由器都获得了到达所有网络的最短距离和下一条路由器地址</li>
</ol>
<h5 id="距离相邻算法"><a href="#距离相邻算法" class="headerlink" title="距离相邻算法"></a>距离相邻算法</h5><p>收到相邻路由器（其地址为 X）的一个 RIP 报文：</p>
<ol>
<li>将此RIP报文中的项目下一跳地址都改为X，距离+1</li>
<li><p>对修改后的RIP报文中的每一个项目，重复以下步骤：</p>
<p> 若项目中的目的网络不在路由表中，则把该项目加到路由表中。</p>
<p> 否则</p>
<p> 若下一跳字段给出的路由器地址是同样的，则把收到的项目替换原路由表中的项目。</p>
<p> 否则 </p>
<p> 若收到项目中的距离小于路由表中的距离，则进行更新，</p>
<p> 否则，什么也不做。</p>
</li>
<li><p>若 3 分钟还没有收到相邻路由器的更新路由表，则把此相邻路由器记为不可达路由器，即将距离置为16（距离为16表示不可达）。</p>
</li>
<li>返回。</li>
</ol>
<h5 id="报文格式"><a href="#报文格式" class="headerlink" title="报文格式"></a>报文格式</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0q1R0v0k2d1x3O3P0w03/屏幕快照%202016-11-28%20下午3.17.35.png?v=9b0935e1" alt=""></p>
<h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><ul>
<li>故障反馈慢，好消息传播快</li>
<li>开销小，随着网络增大二增大</li>
<li>最大距离15</li>
</ul>
<h4 id="内部网关协议OSPF"><a href="#内部网关协议OSPF" class="headerlink" title="内部网关协议OSPF"></a>内部网关协议OSPF</h4><p>使用Dijkstra算法(最短路径)</p>
<h5 id="要点-1"><a href="#要点-1" class="headerlink" title="要点"></a>要点</h5><ul>
<li>向所有路由器发送信息，通过洪泛法(每一个接到包的节点，如果不是给自己的，就直接丢给所有相邻节点)</li>
<li>每个路由器都能建立一个链路状态数据库，内容等于全网的拓扑结构图</li>
<li>通过IP数据报传输，数据很短</li>
<li></li>
</ul>
<h5 id="区域"><a href="#区域" class="headerlink" title="区域"></a>区域</h5><ul>
<li>划分区域是为了洪泛法局限于每个区域而不是整个网络</li>
<li>路由器只知道自己区域的拓扑图</li>
<li>主干区域，用于连通不同区域</li>
</ul>
<h5 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h5><ol>
<li>问候分组</li>
<li>数据库描述分组</li>
<li>链路状态分组</li>
<li>链路状态更新分组</li>
<li>链路状态确认分组</li>
</ol>
<h4 id="外部网关协议BGP"><a href="#外部网关协议BGP" class="headerlink" title="外部网关协议BGP"></a>外部网关协议BGP</h4><p>BGP 是不同自治系统的路由器之间交换路由信息的协议</p>
<h5 id="BGP发言人"><a href="#BGP发言人" class="headerlink" title="BGP发言人"></a>BGP发言人</h5><ul>
<li><strong>BGP发言人</strong> 两个BGP发言人都是通过一个共享网络连接在一起的，而BGP发言人往往就是 BGP 边界路由器，但也可以不是BGP边界路由器</li>
<li><strong>BGP交换路由信息</strong> 通过发言人之间的建立TCP连接交换</li>
</ul>
<h5 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h5><ol>
<li>打开报文</li>
<li>更新报文</li>
<li>保活报文</li>
<li>通知报文</li>
</ol>
<h4 id="路由器结构"><a href="#路由器结构" class="headerlink" title="路由器结构"></a>路由器结构</h4><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/292B0e021L2E1g113J3t/QQ20161219-134848@2x.png?v=f4513b7b" alt=""></p>
<h4 id="多播"><a href="#多播" class="headerlink" title="多播"></a>多播</h4><p>IP多播流量发送到单个目标IP地址，但是由多个IP主机接收和处理，而不管这些主机在IP互联网络上所处的位置。一个主机侦听一个特定的IP多播地址，并接收发送到该IP地址的所有数据包。</p>
<h2 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h2><p>网络服务最高层，用户功能最底层，路由器用不着</p>
<h3 id="应用间通讯"><a href="#应用间通讯" class="headerlink" title="应用间通讯"></a>应用间通讯</h3><ul>
<li><strong>IP</strong> 提供主机间通讯</li>
<li><strong>TCP/UDP</strong> 提供进程间通讯</li>
</ul>
<h3 id="UDP和TCP区别"><a href="#UDP和TCP区别" class="headerlink" title="UDP和TCP区别"></a>UDP和TCP区别</h3><ul>
<li>UDP传输数据前不需要建立连接，TCP需要先三次握手</li>
<li>UDP传输UDP报文+用户数据报，TCP传输TCP报文</li>
</ul>
<h3 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h3><p>对外代表进程，是通信的终点，剩下的事情由TCP完成</p>
<h3 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h3><p>不可靠交付，在IP数据报服务上增加了<strong>端口和差错</strong>检测功能</p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><ul>
<li>传输数据前不需要建立连接</li>
<li>尽最大努力交付</li>
<li>面向报文，没有拥塞控制(应用层给什么就传什么，一次就一个发送报文)</li>
<li>内部开销8字节</li>
<li>拥有<strong>伪首部</strong>，作用是计算检验和</li>
</ul>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><h4 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h4><ul>
<li>面向连接</li>
<li>只能点对点</li>
<li>可靠交付</li>
<li>全双工</li>
<li>是一种虚连接</li>
<li>可以根据情况划分报文段长短</li>
</ul>
<h4 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h4><ul>
<li>TCP的端点叫做<strong>套接字:socket</strong><br><code>TCP = {socket1,sockt2} = {(IP1:port1),(IP2,port2)}</code></li>
</ul>
<h4 id="报文段格式"><a href="#报文段格式" class="headerlink" title="报文段格式"></a>报文段格式</h4><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0F2y131E3U3D3Z0w0c1D/QQ20161219-201439@2x.png?v=1b50d1e0" alt=""></p>
<h3 id="可靠传输的原理"><a href="#可靠传输的原理" class="headerlink" title="可靠传输的原理"></a>可靠传输的原理</h3><h4 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h4><ul>
<li>分组和确认分组要<strong>编号</strong></li>
<li>发送完分组需要保存副本</li>
<li>这种可靠传输协议被称为<strong>自动重传请求ARQ</strong></li>
</ul>
<h5 id="无差错情况"><a href="#无差错情况" class="headerlink" title="无差错情况"></a>无差错情况</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/0t2p3r3i172x2u0U3n0a/QQ20161219-193030@2x.png?v=ad616a92" alt=""></p>
<h5 id="超时重传"><a href="#超时重传" class="headerlink" title="超时重传"></a>超时重传</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/2A0n3c3Q2G1y2A1F3h37/QQ20161219-193045@2x.png?v=3e827cfb" alt=""></p>
<h5 id="确认丢失"><a href="#确认丢失" class="headerlink" title="确认丢失"></a>确认丢失</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/1W3B0U2D2U2G0S1g0b2W/QQ20161219-193401@2x.png?v=1bc6b101" alt=""></p>
<h5 id="确认迟到"><a href="#确认迟到" class="headerlink" title="确认迟到"></a>确认迟到</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/3d0k0A0W1x0w2E3K0W0V/QQ20161219-193430@2x.png?v=14828d31" alt=""></p>
<h4 id="流水线传输"><a href="#流水线传输" class="headerlink" title="流水线传输"></a>流水线传输</h4><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/3R3U3K1p1u0L2U3l1T2o/QQ20161219-194233@2x.png?v=8a7bbfe6" alt=""></p>
<h5 id="连续ARQ协议"><a href="#连续ARQ协议" class="headerlink" title="连续ARQ协议"></a>连续ARQ协议</h5><p>每次一口气发N组数据(例如0~5)，如果收到一个确认之后就移动一格(1~6)</p>
<p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/3D2w2S1P2u1A091Y3M2u/QQ20161219-195411@2x.png?v=c0d53922" alt=""></p>
<h5 id="累计确认"><a href="#累计确认" class="headerlink" title="累计确认"></a>累计确认</h5><p>每次回复表示，这个分组之前都确认收到了，确认之后，发送窗口后沿前移到回复位置</p>
<p><strong>缺点</strong> 不能向发送方反映出接收方已经正确收到的所有分组的信息</p>
<p><strong>Go-back-N</strong> 如果发送方发送了前5个分组，而中间的第3个分组丢失了。这时接收方只能对前两个分组发出确认。发送方无法知道后面三个分组的下落，而只好把后面的三个分组都再重传一次。</p>
<h4 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h4><h5 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h5><ul>
<li>TCP连接的每一端都必须设有两个窗口——一个发送窗口和一个接收窗口</li>
<li>TCP的可靠传输机制用字节的序号进行控制。TCP所有的确认都是基于序号而不是基于报文段</li>
<li>TCP两端的四个窗口经常处于动态变化之中</li>
<li>TCP连接的往返时间<em>RTT</em>也不是固定不变的。需要使用特定的算法估算较为合理的重传时间</li>
<li>接收窗口和发送窗口同步滑动</li>
</ul>
<h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><p>对资源需求的总和 &gt; 可用资源时出现<strong>拥塞</strong></p>
<p>无拥塞控制会导致<strong>死锁</strong></p>
<h4 id="慢开始和拥塞避免"><a href="#慢开始和拥塞避免" class="headerlink" title="慢开始和拥塞避免"></a>慢开始和拥塞避免</h4><p>发送方维持一个叫做<strong>拥塞窗口</strong>的状态变量。拥塞窗口的大小取决于网络的拥塞程度，并且动态地在变化。发送方让自己的发送窗口等于拥塞窗口。如再考虑到接收方的接收能力，则发送窗口还可能小于拥塞窗口</p>
<ul>
<li><strong>原则</strong> 只要网络没有出现拥塞，拥塞窗口就再增大一些，以便把更多的分组发送出去。但只要网络出现拥塞，拥塞窗口就减小一些，以减少注入到网络中的分组数</li>
</ul>
<h5 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h5><p><strong>拥塞避免算法</strong></p>
<ol>
<li>在主机刚刚开始发送报文段时可先设置拥塞窗口 cwnd = 1，即设置为一个最大报文段 MSS 的数值。</li>
<li>在每收到一个对新的报文段的确认后，将拥塞窗口加 1，即增加一个 MSS 的数值。</li>
<li>用这样的方法逐步增大发送端的拥塞窗口 cwnd，可以使分组注入到网络的速率更加合理。 </li>
</ol>
<p><strong>慢开始算法</strong></p>
<p>每个轮次，cwnd翻倍</p>
<p><strong>事实上</strong></p>
<p>有一个ssthresh上限</p>
<ul>
<li>当 cwnd &lt; ssthresh 时，使用慢开始算法。</li>
<li>当 cwnd &gt; ssthresh 时，停止使用慢开始算法而改用拥塞避免算法。</li>
<li>当 cwnd = ssthresh 时，既可使用慢开始算法，也可使用拥塞避免算法</li>
<li>一旦拥塞，ssthresh/2</li>
<li>一旦受到所有报文段确认，cwnd+1</li>
</ul>
<h4 id="快重传和快恢复"><a href="#快重传和快恢复" class="headerlink" title="快重传和快恢复"></a>快重传和快恢复</h4><p>快重传算法首先要求接收方每收到一个失序的报文段后就立即发出重复确认。这样做可以让发送方及早知道有报文段没有到达接收方。 </p>
<p>发送方只要一连收到三个重复确认就应当立即重传对方尚未收到的报文段</p>
<h5 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h5><ol>
<li>当发送端收到连续三个重复的确认时，就执行“乘法减小”算法，把慢开始门限 ssthresh 减半。但接下去不执行慢开始算法</li>
<li>由于发送方现在认为网络很可能没有发生拥塞，因此现在不执行慢开始算法，即拥塞窗口 cwnd 现在不设置为 1，而是设置为慢开始门限 ssthresh 减半后的数值，然后开始执行拥塞避免算法（“加法增大”），使拥塞窗口缓慢地线性增大</li>
</ol>
<h3 id="TCP运输管理"><a href="#TCP运输管理" class="headerlink" title="TCP运输管理"></a>TCP运输管理</h3><h4 id="运输三个阶段"><a href="#运输三个阶段" class="headerlink" title="运输三个阶段"></a>运输三个阶段</h4><ol>
<li>建立连接</li>
<li>数据传送</li>
<li>释放链接</li>
</ol>
<p>主动建立连接的进程叫『客户』，被动等待连接建立的叫『服务器』</p>
<h4 id="连接过程"><a href="#连接过程" class="headerlink" title="连接过程"></a>连接过程</h4><ol>
<li>客户发送请求(<code>SYN = 1,seq = x</code>)</li>
<li>服务器曲儿请求(<code>SYN = 1, ACK = 1, seq = y, ack= x + 1</code>)</li>
<li>客户机回复确认(<code>ACK = 1, seq = x + 1, ack = y + 1</code>)</li>
<li>数据传送</li>
<li>A发送释放请求(<code>FIN = 1, seq = u</code>)</li>
<li>B确认A的释放请求(<code>ACK = 1, seq = v, ack= u + 1</code>)，此时B还可以发送数据，A不可以发送数据</li>
<li>如果B也没有数据，通知TCP释放链接(<code>FIN = 1, ACK = 1, seq = w, ack= u + 1</code>)</li>
<li>A确认B的释放请求(<code>ACK = 1, seq = u + 1, ack = w + 1</code>)</li>
<li>B收到A的请求后彻底关闭，A等待2MSL后关闭</li>
</ol>
<h3 id="TCP状态机"><a href="#TCP状态机" class="headerlink" title="TCP状态机"></a>TCP状态机</h3><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/2s0A0f2U0A0t2J2c3M1G/QQ20161221-081208@2x.png?v=e0e177f2" alt=""></p>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><h3 id="域名系统"><a href="#域名系统" class="headerlink" title="域名系统"></a>域名系统</h3><h4 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h4><ul>
<li>一个服务器所负责管辖的（或有权限的）范围叫做区(zone)。</li>
<li>各单位根据具体情况来划分自己管辖范围的区。但在一个区中的所有节点必须是能够连通的。</li>
<li>每一个区设置相应的权限域名服务器，用来保存该区中的所有主机的域名到IP地址的映射。</li>
<li>DNS 服务器的管辖范围不是以“域”为单位，而是以“区”为单位。  </li>
</ul>
<h5 id="根服务器"><a href="#根服务器" class="headerlink" title="根服务器"></a>根服务器</h5><p>根域名服务器并不直接把域名直接转换成 IP 地址,在使用迭代查询时，根域名服务器把下一步应当找的顶级域名服务器的 IP 地址告诉本地域名服务器</p>
<h5 id="顶级域名服务器-TLD-服务器"><a href="#顶级域名服务器-TLD-服务器" class="headerlink" title="顶级域名服务器(TLD 服务器)"></a>顶级域名服务器(TLD 服务器)</h5><p>负责一个区的域名服务器,当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的DNS客户，下一步应当找哪一个权限域名服务器</p>
<h5 id="本地域名服务器"><a href="#本地域名服务器" class="headerlink" title="本地域名服务器"></a>本地域名服务器</h5><p>当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给本地域名服务器</p>
<h4 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h4><h5 id="迭代查询"><a href="#迭代查询" class="headerlink" title="迭代查询"></a>迭代查询</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/1Q1t2x1a1u1R1K3i371Y/QQ20161221-090518@2x.png?v=27712a19" alt=""></p>
<h5 id="递归查询"><a href="#递归查询" class="headerlink" title="递归查询"></a>递归查询</h5><p><img src="https://d17oy1vhnax1f7.cloudfront.net/items/2j3H0X2h3o1B1o2H1m0A/QQ20161221-085458@2x.png?v=d9647859" alt=""></p>
<h3 id="文件传送协议"><a href="#文件传送协议" class="headerlink" title="文件传送协议"></a>文件传送协议</h3><h4 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h4><h5 id="端口-1"><a href="#端口-1" class="headerlink" title="端口"></a>端口</h5><ul>
<li>21端口用于建立连接</li>
<li>20端口用于数据传输</li>
</ul>
<p><strong>不同端口是的协议更加简单，传输文件时还可以进行控制</strong></p>
<h4 id="TFTP"><a href="#TFTP" class="headerlink" title="TFTP"></a>TFTP</h4><h5 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h5><ol>
<li>使用UDP</li>
<li>只支持传输</li>
<li>每次传&lt;512字节</li>
<li>可对文件读写</li>
<li>支持ASCII 码或二进制传送</li>
</ol>
<h5 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h5><ol>
<li>发送完一个文件块后就等待对方的确认，确认时应指明所确认的块编号</li>
<li>发完数据后在规定时间内收不到确认就要重发数据PDU</li>
<li>发送确认 PDU 的一方若在规定时间内收不到下一个文件块，也要重发确认 PDU。这样就可保证文件的传送不致因某一个数据报的丢失而告失败</li>
</ol>
<h3 id="TELNET"><a href="#TELNET" class="headerlink" title="TELNET"></a>TELNET</h3><p>通过 TCP 连接注册（即登录）到远地的另一个主机上</p>
<h3 id="万维网www"><a href="#万维网www" class="headerlink" title="万维网www"></a>万维网www</h3><p>万维网用链接的方法能非常方便地从因特网上的一个站点访问另一个站点，从而主动地按需获取丰富的信息——这种访问方式称为<strong>链接</strong></p>
<p>在万维网客户程序与万维网服务器程序之间进行交互所使用的协议，是<strong>超文本传送协议HTTP</strong></p>
<p><strong>超文本标记语言 HTML</strong>使得万维网页面的设计者可以很方便地用一个超链从本页面的某处链接到因特网上的任何一个万维网页面，并且能够在自己的计算机屏幕上将这些页面显示出来</p>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><p><code>&lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</code></p>
<p>例如:<code>ftp://192.168.0.1:21/12334</code></p>
<h3 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h3><h4 id="操作过程"><a href="#操作过程" class="headerlink" title="操作过程"></a>操作过程</h4><ol>
<li>建立TCP连接</li>
<li>http请求</li>
<li>http相应报文</li>
<li>释放TCP</li>
</ol>
<h4 id="点击鼠标后发生的事"><a href="#点击鼠标后发生的事" class="headerlink" title="点击鼠标后发生的事"></a>点击鼠标后发生的事</h4><ol>
<li>浏览器分析超链接指向页面的url</li>
<li>浏览器向DNS请求url的IP地址</li>
<li>DNS返回解析出来的IP地址</li>
<li>服务器与客户机建立TCP连接</li>
<li>浏览器发出取文件命令 <code>GET xxx/index.htm</code></li>
<li>服务器给出响应，把index.htm发给浏览器</li>
<li>TCP释放</li>
<li>浏览器显示</li>
</ol>
<h4 id="代理服务器"><a href="#代理服务器" class="headerlink" title="代理服务器"></a>代理服务器</h4><p>万维网高速缓存,代表服务器发出http请求</p>
<h4 id="http报文"><a href="#http报文" class="headerlink" title="http报文"></a>http报文</h4><ol>
<li>请求报文 开始行(<code>方法+空格+URL+空格+版本</code>)</li>
<li>响应报文 开始行(<code>版本+空格+状态码+空格+短语</code>)</li>
</ol>
<ul>
<li>状态码 1开头: 通知信息 2开头: 成功 3开头: 重定向 4开头: 客户差错 5开头: 服务器差错</li>
</ul>
<h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><p>cookie 被用于跟踪用户，状态信息</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[【翻译】Unity，Source 2，Unreal Engine4或者CryENGINE，我应该挑选哪种游戏引擎]]></title>
      <url>http://pengtianhao.com/2016/09/13/%E3%80%90%E7%BF%BB%E8%AF%91%E3%80%91Unity,%20Source%202,Unreal%20Engine%204%E6%88%96%E8%80%85CryENGINE%E6%88%91%E5%BA%94%E8%AF%A5%E6%8C%91%E9%80%89%E5%93%AA%E7%A7%8D%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/</url>
      <content type="html"><![CDATA[<blockquote>
<p>翻译自<a href="http://blog.digitaltutors.com/unity-udk-cryengine-game-engine-choose/" target="_blank" rel="external">digitaltutors.com</a>，版权归作者所有</p>
</blockquote>
<a id="more"></a>
<p>如果你想在全世界开发和发行你自己的游戏，在开始这次旅程之前有几个非常重要的事情需要考虑。你眼前有许多免费的游戏引擎适合你开发自己的游戏，但问题是你应该选择哪个？为了帮助你决定，我们这有四个极其强大的引擎，因此你可以比较和发现哪个适合你的需求。</p>
<p>在过去的几年洞中，有许多超棒的游戏引擎公开发布，给饥渴的独立开发者以开发那款萦绕于心游戏的机会。最著名的游戏引擎是<a href="http://unity3d.com/" target="_blank" rel="external">Unity</a>， <a href="https://www.unrealengine.com/products/unreal-engine-4" target="_blank" rel="external">Unreal Engine 4</a>和<a href="http://www.crytek.com/cryengine" target="_blank" rel="external">CryENGINE</a>。这所有三个引擎都极其强大并且每个都有自己的强项。为了帮助确定哪个能为我们的项目更好地服务，你需要问你自己：你计划制作哪种游戏？这是一个第一人称射击（FPS）？一个移动游戏？将要做成2D还是3D？</p>
<p>如果你计划发行这个游戏并获得大量的收入，你需要衡量每个引擎不同的授权费用来确定哪个符合你的预算。因为这四个引擎都相对便宜，在你准备售卖游戏的时候，就需要支付授权费、专利费用或者全部的两者。</p>
<h2 id="Source-2引擎"><a href="#Source-2引擎" class="headerlink" title="Source 2引擎"></a>Source 2引擎</h2><p>在GDC 2015（游戏开发者大会）<a href="http://www.valvesoftware.com/" target="_blank" rel="external">Valve公司</a> 有几个重大发布并且也许在游戏圈最重大的一个是<a href="http://blog.digitaltutors.com/valve-enters-game-engine-race-source-2/" target="_blank" rel="external">Source2游戏引擎的发布</a>。Source2游戏引擎是曾用于Valves公司最受欢迎的诸如<a href="http://blog.counter-strike.net/" target="_blank" rel="external">Counter-Strike: Source</a>和<a href="http://orange.half-life2.com/" target="_blank" rel="external">Half-Life 2</a> 上游戏和其他大量游戏引擎的继承者。在Valves的开发工具包中，Source2引擎作为次世代游戏引擎在过去的几年间被游戏开发者所热切期盼。在记者招待会中，Valve公司的Jay Stelly(Valve高级工程师，译者注)说『我们将让Source2引擎对内容开发者免费。它伴随着最近发布的Epic和Unity将会帮助PC平台维持作为内容程序首发平台的统治地位』。很明显Valve已经做好准备加入与Epic和Unity的游戏引擎竞赛，并且为游戏开发者提供更多选项。然而『对于内容开发者免费』这一说法依然模糊不清。是否仅仅对于正式开发团队亦或者所有人都属于『内容开发者』？</p>
<p>对于发布新引擎的确切日期，Valve还没有发出任何信息，只能确定的是Source引擎将在不久的将来发布。Jay Stelly也声称『通过Source2，我们专注于提升开发者的生产力。意识到用户产生内容的重要性，Source2引擎被设计为不仅仅供专业开发者使用，更使得玩家自己可以参与创建和开发他们最新换的游戏』。这个评论暗示Source2引擎不仅仅是一个为专业开发工作室设计的引擎，还会帮助那些使得Valve游戏如此受欢迎的业余爱好者和模组制作者。</p>
<p>我们已经向Valve索取更多关于Source2的信息，并且一旦得知更多关于这款即将到来的引擎的信息，我们将会在第一时间更新这篇文章。一件事情是已经确定的，Source2引擎将对于例如Unity和Unreal Engine等已有影响力的玩家来说会是一个强力的竞争者，并且就像 Jay Stelly 所暗示的那样，Source2引擎将会免费。</p>
<h2 id="Unity"><a href="#Unity" class="headerlink" title="Unity"></a>Unity</h2><p><a href="http://unity3d.com/" target="_blank" rel="external">Unity</a>游戏引擎提供了大量的功能和理解相对简单的界面。它的生存之道是跨平台整合能力，意味着游戏能够被快速和简单地部署在Android，iOS，Windows Phone 8和BlackBerry上，使得它成为了一个超棒的移动游戏开发引擎。它也有为终端开发的能力。然而如果你是一个新的开发者，有更多方法能够加入终端开发，因为你被要求获得终端SDK的权限，而这正是新的开发者倾向于不去做的。</p>
<p>Unity游戏引擎支持主流3D应用中的许多特性，例如<br><a href="http://www.digitaltutors.com/software/3ds-Max-tutorials" target="_blank" rel="external">3ds Max</a>，<a href="http://www.digitaltutors.com/software/Maya-tutorials" target="_blank" rel="external">Maya</a>，<a href="http://www.digitaltutors.com/software/Softimage-tutorials" target="_blank" rel="external">Softimage</a>，<a href="http://www.digitaltutors.com/software/CINEMA-4D-tutorials" target="_blank" rel="external">CINEMA 4D</a>，<a href="http://www.blender.org/" target="_blank" rel="external">Blender</a>以及更多，意味着它所支持的文件样例没有真正的约束。在最近的发行的Unity4.3中，也有原生2D支持，支持精灵和2D物理效果，使得它成为一个能够用于2D游戏开发的强力引擎。</p>
<p>然而，当引擎支持任何3D应用的集合的时候，它确实会遭受在引擎编辑器中许多编辑能力。<a href="http://www.digitaltutors.com/software/Unity-tutorials" target="_blank" rel="external">Unity</a>除了一些基础模块以外，没有真正的建模和建造功能，因此所有东西将需要在第三方3D应用中创建。然而它确实拥有一个巨大的<a href="https://www.assetstore.unity3d.com/" target="_blank" rel="external">资源库</a> 。其中有许多种资源可被下载或者购买（价格由资源作者决定）。</p>
<p>Unity有几种不同的授权费用。第一种是<a href="http://unity3d.com/get-unity" target="_blank" rel="external">专业版本</a>，售价1500美金或者75美金一个月，每平台/每销售位。Unity5免费个人版包含了和专业版本中的功能，包括分析器，物理阴影，反射探测以及更多。然而，为了拥有Unity5的使用资格，你必须是一个年入低于十万美金、资金低于十万美金的小工作室。要获取更多关于授权计划的信息，请访问<a href="http://unity3d.com/get-unity" target="_blank" rel="external">the Unity pricing</a> 页面。作为一个有追求的开发者这个警告不会对你构成任何问题，因为免费的Unity5个人版本更像是你需要的。</p>
<p>Unity是一个经常与移动游戏联系起来的游戏引擎，但是随着Unity5的发布，包含类似物理阴影、实时全球照明和HDR反射探测等新改进的新渲染系统已经在图形表达上有了巨大的进步。</p>
<p>很明显，他们已经参与到了与UE4和CryENGINE的次世代游戏引擎竞争当中，并且随着64位和WebGL的支持，Unity5提供了一些超棒的功能，使得它在游戏引擎中成为一个有力的竞争者。</p>
<h2 id="Unreal-Engine-4"><a href="#Unreal-Engine-4" class="headerlink" title="Unreal Engine 4"></a>Unreal Engine 4</h2><p><a href="https://www.unrealengine.com/products/unreal-engine-4" target="_blank" rel="external">Unreal Engine 4</a>(UE4，虚幻引擎)是Epic Game发布的全新游戏引擎，是UDK的继承者。UE4有一些难以想象的图形能力，包括先进的动态照明技术和能够在同一时间控制百万粒子的新粒子系统。作为一个3D和游戏艺术家，你看会对这个能力流口水。</p>
<p>因为UE4是UDK的继承者，重要的是需要记住引擎上有许多巨大的变化。如果你有任何UDK的开发经验，当你切换到这个新引擎的时候确实会有一些学习上的困难。这些改变虽然不坏，UE4高可用性让它对于新游戏开发者有更高的吸引力。</p>
<p>UE4的脚本语言有一个重大的变化。也许你已经知道了，UE已经不运行自己的脚本了。事实上，UE脚本已经完全被C++替代，并且Kismet（UE的可视化脚本系统）也被更加直观的Blueprint系统替代。</p>
<p>一个需要记住的重大事项是如果你想做为上一代终端做游戏，你可能没办法用UE4开发。现在为止，UE4游戏能够在PC，Mac，iOS，Android，Xbox One和PlayStation4上发布。能够在手机以及下一代终端开发，让你有能力制作拥有惊人物理效果或者简单的横版游戏，这是你的自由。就像之前提到的那样，决定引擎是否发布在下一代终端不是很重要，尤其对于有抱负的开发者，因为在每一个平台发布游戏都需要一个单独的授权和SDK，并且必须有认证记录来获取一个开发工具包。因此对于新开发者来说，移动和PC平台将更是一条更加普遍的路。</p>
<p>UE4最近售价从无论哪里发售都是19美金每月并且有5%的版税分成到现在<a href="http://blog.digitaltutors.com/unreal-engine-4-now-free-everyone/" target="_blank" rel="external">完全免费</a>，不收订购费用。</p>
<p>这很明显对于任何想要开始制作游戏的人来说是个重大利好。当然，5%的版税分成依然存在，但对于这样一个价格结构，对于有抱负的开发者来说真是开了一扇门。如果你在每个季度每个游戏赚3000美金以上，你将被要求交纳5%的版税费用。因此如果你有四个游戏，每个游戏每季度只赚2500美金，你将不必支付版税。</p>
<p>查询更多UE4的信息，请阅读我们的<a href="http://blog.digitaltutors.com/unreal-engine-4-powering-next-generation-games/" target="_blank" rel="external">in-depth post</a>。现在就开始浏览<a href="http://www.digitaltutors.com/tutorial/1609-Introduction-to-Unreal-Engine-4#overview" target="_blank" rel="external">Introduction to Unreal Engine 4</a>，并且开始开发游戏吧！</p>
<h2 id="CryENGINE"><a href="#CryENGINE" class="headerlink" title="CryENGINE"></a>CryENGINE</h2><p><a href="http://cryengine.com/features" target="_blank" rel="external">CryENGINE</a>是一个极其强大的引擎，第一次被用于<a href="http://en.wikipedia.org/wiki/Far_Cry" target="_blank" rel="external">Far Cry</a>（孤岛惊魂）的开发，由开发公司<a href="http://www.crytek.com/" target="_blank" rel="external">Crytek</a>设计。它被设计用于PC和终端的开发，包括PS4和Xbox One。拥有使用最先进技术的光照、逼真物理效果、先进动画技术和更多功能的CryENGINE，它的图形性能胜过Unity和UDK，但是和UE4平分秋色。最近用CryENGINE开发的游戏是<a href="http://cryengine.com/showcases/showcase?id=16" target="_blank" rel="external">Ryse: Son of Rome</a>(崛起：罗马之子)。与UDK、UE4相同的是，CryENGINE内部有直观和强大的等级设计功能。</p>
<p>然而因为CryENGINE是一个极其强大的游戏引擎，它确实需要克服一些困难才能进行高效地开发，并且如果你没有任何游戏开发经验的话，CryENGINE更难掌握。如果你不需要游戏拥有像<a href="http://cryengine.com/showcases/showcase?id=17" target="_blank" rel="external">Crysis 3</a>或者Ryse:Son of Rome那样的物理效果，最好选用其他用户体验更好地引擎。</p>
<p>CryENGINE和其他游戏引擎有略微不同的定价策略。为了获得使用权，你需要支付一个月10美金。因为它不像UE4或者Unity5那样完全免费，它不要求任何版权费用，所以你所有需要付出的就是9.9美金。取决于你的工作室或者队伍的规模，不需要支付版税会是一个巨大的好处。想要知道更多关于CryENGINE的信息和他们的收费计划，请访问<a href="http://cryengine.com/get-cryengine" target="_blank" rel="external">他们的网页</a>。</p>
<h2 id="因此我适合什么？"><a href="#因此我适合什么？" class="headerlink" title="因此我适合什么？"></a>因此我适合什么？</h2><p>所有这些游戏引擎对于你的游戏开发过程来说都是极好的。Unity是对于移动、2D、3D游戏来说很棒。UE4通过合理的5%收费，让你能够开发照片般真实的图形效果或者简单的2D横版游戏。CryENGINE也拥有惊人的图形能力和次世代平台功能，对于你的工作室来说收费比UE4更加有吸引力。</p>
<p>最终决定取决于你，哪个引擎和你的项目最相配。有一件事是已经确定的，你不缺引擎用。这个博文有助于帮助你决定和让你专注于最有意思的部分：创造你的游戏。如果你依然没法确定，把每个都尝试一遍，发现你用起来最舒服的那个。看下面的链接，获得每个游戏引擎强大的框架，并探索更多。</p>
<p><a href="http://www.digitaltutors.com/software/Unity-tutorials" target="_blank" rel="external">Unity tutorials</a></p>
<p><a href="http://www.digitaltutors.com/software/Unreal-Engine-tutorials" target="_blank" rel="external">Unreal Engine 4 tutorials</a> </p>
<p><a href="http://www.digitaltutors.com/software/CryENGINE-tutorials" target="_blank" rel="external">CryENGINE tutorials</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[远离百度，我们有更好的]]></title>
      <url>http://pengtianhao.com/2016/01/11/%E8%BF%9C%E7%A6%BB%E7%99%BE%E5%BA%A6%EF%BC%8C%E6%88%91%E4%BB%AC%E6%9C%89%E6%9B%B4%E5%A5%BD%E7%9A%84/</url>
      <content type="html"><![CDATA[<blockquote>
<p>前言：俗话说得好『no zuo no die why you try』，然而作为人见人删的互联网界的阿三哥，百度最近又干出了一件丧心病狂的事情——把血友病吧卖了！好吧，既然你这么没节操，那么作为弱势群体的互联网众们，惹不起还躲不起吗？现在就奉上躲开『度三哥』的终极法宝，让百度全家桶吃*去吧！！</p>
</blockquote>
<p><img src="https://s3.amazonaws.com/f.cl.ly/items/3p3X2i1h3I3w0S0Y3632/images.jpg?v=12e1e7ac" alt=""></p>
<p><strong>本文提及的百度产品根据<a href="http://www.zhihu.com/question/29816213" target="_blank" rel="external">百度全家桶都包含哪些产品？</a>中『ytytytyt』的回答列举，侵删</strong></p>
<a id="more"></a>
<h2 id="百度搜索"><a href="#百度搜索" class="headerlink" title="百度搜索"></a>百度搜索</h2><p>作为百度赖以生存的拳头产品，如果不把它的核心功能干死，那么其他功夫也是白费。据说GooglePlay快要回归中国了，那么也许Google入华也会在未来几年实现。然而，难道不太会翻墙的同学们就真不能看谷歌了？拿衣服！现在就推荐几个谷歌镜像，让大家爽个够~</p>
<p><a href="https://www.guge.link/" target="_blank" rel="external">guge.link</a></p>
<p><a href="https://www.psea.in/" target="_blank" rel="external">psea.in</a></p>
<p><a href="https://www.guge.click/" target="_blank" rel="external">guge.click</a></p>
<p><a href="https://www.souguge.com/" target="_blank" rel="external">souguge.com</a></p>
<p>没有一大堆恶心的某田系医院和留学IT挖掘机按摩抠脚培训广告，干干净净的谷歌才是真爱好嘛！</p>
<p><img src="https://s3.amazonaws.com/f.cl.ly/items/1x0l3D250x011j2y2604/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-01-11%20%E4%B8%8B%E5%8D%8812.57.21.png?v=9920dae7" alt="谷歌搜索"></p>
<h2 id="百度卫士-百度杀毒"><a href="#百度卫士-百度杀毒" class="headerlink" title="百度卫士+百度杀毒"></a>百度卫士+百度杀毒</h2><p>这个替代方案就多了，国内有鹅厂的『<a href="http://guanjia.qq.com/" target="_blank" rel="external">腾讯电脑管家</a>』，360的『<a href="http://www.360.com/" target="_blank" rel="external">360安全卫士</a>』，猎豹的『<a href="http://cn.cmcm.com/cm-security/?f=cmcn" target="_blank" rel="external">猎豹安全大师</a>』等，国外的『<a href="http://www.avg.com/us-en/free-antivirus-protection" target="_blank" rel="external">AVG</a>』，『<a href="https://www.avast.com/free-mobile-security" target="_blank" rel="external">Avast</a>』等，都能很好地替代百度安全卫士。</p>
<p>即使是360这种把不要脸写在脸上（话说这是怎么办到的~）的公司，也比百度的道貌岸然要好上不少。</p>
<p>您说是吧，雷总~</p>
<p><img src="https://s3.amazonaws.com/f.cl.ly/items/2T053Y1W1W1m0L0F2J1R/81733965.jpg?v=7af8b9b4" alt=""></p>
<p>但是，怎么卸载呢？</p>
<p>请看<a href="https://www.zhihu.com/question/30796689/answer/49517439" target="_blank" rel="external">如何彻底删除百度相关插件？</a></p>
<h2 id="hao123"><a href="#hao123" class="headerlink" title="hao123"></a>hao123</h2><p>您说导航类网站一定得有？这个我就无奈了 ╮(╯_╰)╭</p>
<p>好吧，其实还是有不少的，为了不用百度全家桶，拼了！</p>
<p><a href="http://hao.360.cn/" target="_blank" rel="external">360网址导航</a></p>
<p><a href="http://www.114la.com/" target="_blank" rel="external">114啦</a></p>
<p><a href="http://www.2345.com/" target="_blank" rel="external">2345</a></p>
<h2 id="橘子浏览器"><a href="#橘子浏览器" class="headerlink" title="橘子浏览器"></a>橘子浏览器</h2><p>众所周知，hao123简直是流氓中的流氓，那么由hao123搞出来的橘子浏览器会青出于蓝也是不奇怪的。</p>
<p><a href="http://www.pingwest.com/juzi-browser/" target="_blank" rel="external">“流氓软件”桔子浏览器，原来是百度造？</a></p>
<p>替代品就不说了，大家一定有最心爱的几款，比如作者就最喜欢Chrome和Safari。</p>
<p>那么怎么才能干掉这款软件呢？</p>
<p>看这位兄弟的血泪控诉——<a href="http://blog.ifeng.com/article/33138785.html" target="_blank" rel="external">花大半天时间硬搞掉桔子浏览器</a></p>
<h2 id="百度影音"><a href="#百度影音" class="headerlink" title="百度影音"></a>百度影音</h2><p><img src="https://s3.amazonaws.com/f.cl.ly/items/1539080o1G3N1F2t2p13/屏幕快照%202016-01-11%20下午1.42.25.png?v=b0bf0612" alt=""></p>
<p>咳咳，最近快播又搞出了个大新闻，但是百度好像也有那么一款产品在做同样的事情，怎么就没人查呢?</p>
<p><img src="https://s3.amazonaws.com/f.cl.ly/items/0I3W3O290g2f262b3Y1s/屏幕快照%202016-01-11%20下午2.38.05.png?v=9fbbf124" alt=""></p>
<p>然而作为一个有文化有素质的互联网众，纯洁的我们怎么能放任这等龌龊事不管，而让某公司产品继续发扬光大呢？</p>
<p>看片不求人，更不求某度，现在就提供两大绝招，原理全家桶，珍爱生命：</p>
<p>1.BT搜索引擎：<a href="http://www.btbook.com" target="_blank" rel="external">BTBOOK</a></p>
<p>2.以『影片名+ed2k』格式搜索</p>
<p>恩，你懂的~</p>
<p><img src="https://s3.amazonaws.com/f.cl.ly/items/1z2s0n1c0A3a1n3q2F3S/b219ebc4b74543a926969bd618178a82b901141e.jpg?v=aebc35c1" alt=""></p>
<h2 id="最后的话"><a href="#最后的话" class="headerlink" title="最后的话"></a>最后的话</h2><p>互联网的精神应该是开放，共享的，然而百度作为中国目前第三大互联网公司，众多无下限的行为已经令人反感。以上虽然列举这么多，但是到目前为止百度依然会出现在大多数人的生活中。也许这小小的挣扎并不会被人所接受，然而，我们努力了，就够了。</p>
<p>中国互联网的明天，是属于谁的呢？</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIsAAABFCAMAAABNJeUJAAABklBMVEX////mAAAAAADnAADwIiAfGN/tIyP2vLznCQj6pKbsIiToJSTzn5n98fHrUlL62tWVlpX4+PjmIir5w8PxkJDf3d+qqKrqREH75eLoIijzpJ7Sz9KIhogaGRrjIS0AANz2fH7v7+/sNTb8z9DxGRX93t9lY2W4uLjxjon4jpD/+PjvAACCf+3x8f33ycnyW13a2doyGNM9HM34rKxQT1DyTlGsrKw8OzwxMDENDA35+f8eIx6Miu7r6v4mHd9lY+j1s61KRui8r+nm2O92c+xvY96YlO3GwOueHXbNH0jVIkTwY2acHIcoC9VRTORhWOXZ0/bdJTXpbGzftbbsfoFaGbv2fHe5DFTfj6qHDYtvDassMuatWpy8FmNSKtKxH26mKoWnneh8IaFpGrCyQJVPAACXYGG9q6oVAACfAAB3dXdaWFozNzNFR0WLiIvokpbZmp6WNTI/AwLKHSd+AAC9kZQwRUczBwWtXl7eVl9yISHe3frjorm3puu7uvJTL8zSQmDcPEvgeJHFhribgdGQSrqy694PAAANFElEQVRogd1Zi1vb1hWXJVm2JGxj2SApGMuWZR52wBhHPBIwkNKQRIEAMclSmra067pCaLa16x6sbN3j/9455+pl3mT7vnzbIbIe9+re3z3ndx5X4bj/Fzk5PT1d/tAgmJyuWZb1cQBm+eDg5INBWU5a3WTSeh4ASyb3Dz4UljWr2012u9Yp3jy0CNijDwPlBIC0k8n25hbeWHCVhOO/aKZMIVWo36zrAU0O0p3iuBULL+DB0g3ebGSMzPVIZNe2bd0r3gTOIwIyCxBOuO1ust3FW2tl6prXjE6l5bqefA2aelbSJEVxnLTTmr4W+RKggPm7iAVxdel+60ojZQqerTiSIoqKZ1w5ekuRRFNRNEk1xbJXaFyNBeZHXbQ3AcsS2asLRnp+ebzJ1AZgBkWSTNGUVGXyytF1gCBKkkq4RX3yakv9NIs6wT/UUZdxx1q/FEnnpW1KomIqcEiSprSuGrxhi5oimqaoaGAqTdT04oWGmjpY2rgPp/1o+kdkn1kAdEmEadzJwogSrpUOAOVdicUD3CCoG9ALKEdyC+fRQCSxrDWgxZLFsMDlRnKTrttbF45spFxUiQQKp0MRy4qdugoLV4A3wJjIGRFtCme1d9ZQ22sIwdra5qae49UmhbeVTSKvtX1+1My03ILRYFhJAZ3TIYm2fA0dU2AlUAzYtCxpyBkQV74f73IftDELTLXWp7iT9U0reUDNy5CaklbyIXQ4PY27Uk3e1TXUtanAkGUR3QIUpHeugQKa8VxbKyMEsquplkE5bidmqBOfpN0zKpg6XV85WAao2LgVtGWKLq5OA0VI9E9EFmjZib71XSKZXKEz6SqiSobCIZDNXkSbDYvF+qR1YYRlHLIYUCPlITlQxWXF1FAnQAG917k6tMSlUZddNBUYFmMfKsne7dTCyXwsH1+wtuV9YA22b93n6p1dW2IcUUVfFLHVqV1rnT7JZyYlYpsKkQ/WpIE7ukWae50SD9J0/QIsP1EchviX/AkIyyhHblkmyoju6vWJ6Lw0ii1AIDI7I3kU0U7Biu5a7TalIR/L/e1Ha/vPT/0stIT5CZPk47LoSMgTJB/yBGzuVmrvAYQkAzoG4kGchLCHYUGRWinjlAWVbtJ6iJ2W74L/AD/WGFvvUuvesx0HNAL2BeMA5xRVkXYq8rkwnisUCn0Wq08WYyLHs1BmetJG2gPhkDdge8n7y2fMjzbbOPvySmCyfaqo0IJ7z56iLgiLiVhgPZBPLmDJRCKRaMWNlkrERVCz8XjYyEzaoBh0JzIYDPtq1qKotj7F9NCFaINW2z+h+y/f7FDoxlSCkMosTOmtLJMO18kGoiXSguT6NzXCIqSZJPBHSCQqfeCNSbQU5RHAowANHs92LWsd8/GBxfhB/Fmb4hr/eOI4LNsASQBHGZgCY8akyMkJQfAXLghpIVBCgelFEMInAqI5kykKHksMTN+i6GjP/nWAWtn2s6OfI/+56om+TSRNRXVCKYTzw5jpYALEkk6LjqOoKsKE5UumqabFacICCoE2EsAEWLJn7GrILlq+jPPghejYA2Dm5edQblubFpWa7a9eP0GFMCwKxhRHsd1W9k+eiWvNTjApoF4SE7WUp+vFGklP1+1aLRPwpWdkmEygbvRzjDdkG+O4qZJ7IyFanY+2wELd7SmoHdp7j5/skN9KZVMhSKaqy0am0WjkOR1YIEa6Br0k5NyqnnYmcySe4Ag5HwtoYiLsaSOf4MWBO4F06kR12SYDEAeAC47z9BNQSBdo89fXWtOBlCexooDyYLaYMlbZ+0XkgOqPt8qRXiqw5JAqYDP4STHuJhIToce5gEUD28V9y0Nb1uw0pgWsJcBS4K+O+Pke1Lq5gaeORFEafIe4oigeZpxc+H46mtdmekEsQjQB0olhgbZQL3Ukmg6KSMS4n5AKiAXwK5RTMEfh4ew8m+3pjknxDOoM5IkpOi2WSXPB24kYKJ1hKRZ7alqo1KZBall4MDCR8/kiZCeZ9DQBGrD6QxKn0ecEfJI2AAtctWotG2ygwbwaJbwdB2KqYvp1I7iA9nMQSXPwovCu16sEsgsT6cxGd7g6sEhmHT14EMW6yHQwnyAgdXOBFG3UcAVeBk22ME67TDlSmepousT6S9RM/c3rWWtpKsACo8YdoJEI9cKweHcGQN5F/VKkASIQi3Xp1X4fSomA20a9ABZcc/3TJ8ALFe1l4v4C/Bfjz5u/p2qYj6y7UwGWdB+WTIAl4WOJTCcEWDDeMMtSIBR6Z/zZhDHjWKb228/KmC81zJvIE1H7+dne5gZWN9EG/xyWRmAjwqLFvaMYYElTaEwjJoEoXYEZG7KpMpFQh4QlwbAc7L3CmoSEakbFNP8GEDZYWddNsqSNNhLUuAgxGzUycYE4FOgl0XrRWU11XnTkXVJOh8u0QkdCjKFeuEZOLjcdjfGV6glRBSd3yq/bTC8QdNhXkBxlm3guEkIbrYqJMxLmo8in8x5Cq3CTiXRI6HRgIyHhdiYdijIS8gXSDZ4RmKQ6r35hcFR5t5mRcrHM1+/TgMWmqMOeksc2C4Feolh3B10pm7JRIYznE6JvI0hbMDvGEJOKYOfp608eNx1Wx+KTbOcuFrtda+l+4EcDMSlGfrTao4Ts1urGAEVCgfYomBtjOaCHaN1JBX53fe6qpJcC5oCyX3GCA7uV+vbKyspHL3WqIsu03Sjv4ZYlwJI460ex+DKtIzntXAWhiJV86EeJl3VfOmQRryjBbzHAAmPYsi1htsF601HLr774Mtw4G188gdBL+1LTaX7+VdsvPy/3aeQuOIdORhIEZzeogykfqToTlSWPYkrC82oBpSOhGaDekCSVtpW7n3yFZcJSsD3c3/ul6+BnAcCJecHa3wixGDGpYQkQYuGYN4B9iiFaytPpsNJCKNJ0RsVKJo2OaKqiQnWdhnYQ3JSRwboFbLG2fpcEbj57LDps0wAd33wa5CPQQ0zsgLtC4p0sy8WWxHzL3cUMUQ9sRPGOEGEr5IlV8kY4gu8OJIJOHP8ItvfkuyRU0yXbj5+IWDdAV+A3fgHL9SdGVj76flTx79O6HmjB9+k+UXdf4HyrWShcHeKHBO7b3GnZQDaP+dv2c8SwCTWdtdld21rZWoMKePbZU8pLKkAX3DqmfPyjf3SRpnKX6zQhtDeb8EjblfOG7Nk6/iFnjFS/TPvubdTuwL4e9yNOWvVWp40a7mZ8wy4/XF9Z+XhlZenRxsb2yfLJ9sbByr41+/qV6YjIY9Oxi8Z04Zzgbs+Ac53uWEbPUKF50Z4lklXaVDuQTi/6BDpFcj/ax04tgwwZnuOUiV+OWzz30vtJpiY2MYbplRt+7Q3FqKgO2/qqTud9ds9nxyvoCaxpveLNv05EkurtpLHeFM1m64JvbLeS+qQHOnGau9PvgwSkUevojkifZkWv8J8gwa/Bmmi/+2akv2GkdHRUGoo/qY7EpOrfzeSp4TewGjSUY7ovuFjTzSVjNJuirn/7B/7Ht/OL/PxwOPc4z8+Pjc3zC+NR77lRnucXF0DgPDyOv/zCWBUa8PLPf8IiRzPFpv7Hr7Fp9LB6Cyg5L2H35Nr4jzxfHaqOlGBoXznDPD8II1W/g3PUf6iEj4eGhmDyYbpbIPD56jC/MFft4GcKSA2wYf3t7/j526il9tK2C+jneRiULXzB1wNCoZHyAGYuemVmFDCgjOC5esSP+oocYpB//8P3YlNTVE36/oexmyMxim7LDzghFm5ukX87A1PO80f+oqrH/Gik6qEHPhbu3jCD/B27Lc3PsDX8+hvYcFKNI96YxUYxCk0RFm6MRh/kgymZiiIsTC9VvxUw32NAH5SCzqDXes/D/wNo7t42VvVjmeH5B/nqPZ6fCRrHR/lI2z6WcT4fQiebjiyOxLCAl3e+VTFZybf28BgWjkcaj0b33MhCsHaGZY544mMBm5bw8vAt14eFq/Jf/8oV0s2diVvGrDiWRcTCn8ESejpgWTg+hj6BizwgT5pZGD6HBbUpg0uZt0tTcSyji4BlMY5lvl8vR6XS4UKIpUSTDwbdz2DhuOKu03Rvo5pzNrpKL+jhgyEW6HoPbFa6DAuXSRWb9sDNP33HsOQRS3UefoLG8cUruMvlj6HrDB+kj/NYQKDAb934q3MMC4T+w3yfT8/xfCnsGfg0zD0yGDSPHY4FyC/AUkWtym7n9liO+YUZskuwKvCZxShBDgVxl6uOzdN5BlLRYpizhoPrCMswU3Hqht6NgZ5eqA4uLtJcJX7UH3+wPyGNMh9GBY6F6zgOwc6d08vQcUS9G2EZY3aoHgbJJ/+WHx3xoXwXS3FAniOGeoE/Ch8dhu2lwLjA6QW6GONvg6VaWsQMzz+AWBFl+bFR/nh8cJ5/MBz1HD/2O0LXkEXVe37M5fKHb6m9hHEA5e09fLB4Cyz5wUDG4/XGyODh0dHh4FDfo7gEWWJu8OxAZzreAsvlIKvVWxVm/8vyb+coub4+iAXVAAAAAElFTkSuQmCC" alt=""></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[记一次创业失败]]></title>
      <url>http://pengtianhao.com/2015/12/20/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%88%9B%E4%B8%9A%E5%A4%B1%E8%B4%A5/</url>
      <content type="html"><![CDATA[<blockquote>
<p>失败了，你可能会失望；但如果不去尝试，那么你注定要失败<br>—— 贝弗利·西尔斯</p>
</blockquote>
<p>开始写这篇文章的时候，电脑正压在蓝白条纹的床单上。零点已过，这算是散心旅行的最后一天。</p>
<p>说起失败，人们总是想起美丽到不自然的鲜血，重重倒下后的尘土飞扬以及声嘶力竭的呐喊。但是，事情往往并非如此。就在不久前，我们的留学app项目失败了。</p>
<p>一次无声无息的创业失败，承认起来并没有想象中那么困难。既然是失败，总能从中总结出点什么。然而草草理一下，发现尽是些老生常谈的琐碎，然而只有亲身体会之后，才能体会。</p>
<a id="more"></a>
<h2 id="历程："><a href="#历程：" class="headerlink" title="历程："></a>历程：</h2><p>从今年年初立项，到十月团队解散，大约是半年的时间。期间团队人数升升降降。期间整个商业模式改变过四次，尝试过用子项目养活团队。最终因为重要合伙人离开，项目失败，团队解散。<br>虽然失败的直接原因是技术合伙人离开，但实质上失败的种子在团队组建的那天就已经埋下。</p>
<h2 id="1-人，还是人"><a href="#1-人，还是人" class="headerlink" title="1.人，还是人"></a>1.人，还是人</h2><p><strong>不得不承认，整个团队战斗力并不高。</strong></p>
<p>从最开始的2个人，到最多时候的11个人，看似整个项目有过上升阶段，然而现在回想来却发现，整个项目从开始到失败，几乎没有一刻可以称得上众志成城。我想着并不是因为有谁是坏人，而是在团队从相聚到解散。没有困难带来的煎熬，也没有成功的喜悦，再加上匆忙拼凑带来的不协调感，凝聚力就像一捧水被洒在沙子上，慢慢地被蒸干。</p>
<p>在不合适的时间找到合适的人。在还没有定下产品方向的时候，我们就从上海将我们的技术合伙人请来。虽然被我们的诚意打动，但到来团队面对的就是长达两个月的摸索和扯皮。这位能力够得上任何一线互联网公司offer的合伙人，在百无聊赖长久之后，最终选择离开。</p>
<p>令行禁止，狠不下心。我们尝试过启动一个语言培训O2O项目来保证我们的现金流，并且为此将团队的人数扩大到11人。在付出工资的同时，我们忽略了团建和奖惩制度。我们寄希望于这些『实习生』拿着兼职的钱，却能像合伙人一样做事，然而却发现，然并卵。1*11&lt;11，这大概是一个失败的案例。</p>
<p>步调不统一，行动低效。团队成员之间团队从组建到解散，几个重要合伙人之间对以往经历依旧不了解，谈话只限于项目本身。虽然股份有大小，但是团队大多数时候处于双核心状态，没有人可以一言九鼎，又因为思维方式『太过互补』导致每一件事情的执行都要经过漫长的争论。这也是弊端之一。</p>
<h2 id="2-方向"><a href="#2-方向" class="headerlink" title="2. 方向"></a>2. 方向</h2><p>我们初定下的方向是做留学案例检索平台，但是经过论证之后发现成本极高，且天花板太低，最终放弃。</p>
<p>第二个方向是留学日历，主打关键时间点提醒。在这期间又有一个失败的子项目，在此略过不表<br>最终定下产品名为留学记，主打留学时间点提醒和记录功能。</p>
<p>改变方向并不是坏事，这代表项目又向可能正确的方向进了一步。但是如果每一次改变，都没有基于严谨的调查，拍脑袋做事，就一定会带来严重的后果，然而我们，就犯了这个错误。</p>
<p>第一个方向的确定，是另一个合伙人定下的，他在留学行业看到留学机构和学生之间不透明的痛点。但是当我们正着手去做的时候，解决方案却是想留学机构索要案例。因为这是现在留学案例唯一大批量来源，我们又暂时没有能力向每个独立的学生收集案例。</p>
<p>于是经过第二次拍脑袋之后，决定做留学日历。过程几乎一模一样，当我们实际去做的时候，却发现50%的潜在用户并不需要这项服务，而剩下的50%也不是强需求。于是我们希望能加上计时来满足正在准备语言考试的用户。但是也因为发现需求不足而最终砍掉。</p>
<p>在这期间我们还筹备了一个留学语言培训产品，并且将广告铺向下沙大多数高校。这是一个套着众筹壳卖课的产品，我们本希望通过这款产品打开杭州留学培训市场，但结果是，一共只有十个人报名我们的视听课。我们看到小米饥饿营销卖得不错，就是视图将iPhone用小米的方式出售，却忘了小米卖得好，究其根本，是因为便宜。</p>
<p>凝聚一个团队的可能是情怀，可能是利益，可能是某个人，我们在这些都没有的时候，还失去了方向，最终也只有解散这一条路。</p>
<h2 id="3-态度"><a href="#3-态度" class="headerlink" title="3. 态度"></a>3. 态度</h2><p>除了前两个最致命的原因，作为创始成员的自己，在做事方式上，也有很大的问题。</p>
<p><strong>举得起放不下</strong></p>
<p>有人告诉过我，创业者一定要切断自己的后路。然而切断后路需要极大的勇气和对前方的路百分之一百的信心，遗憾的是，我没有。拉不下面子，只愿意用看似高大上的手段处理事情，是其中之一。在留学语言培训产品推广的过程中，我们舍弃地推，采用公众号的推广形式。按照当时我们的说法，这是因为地推成本更加高昂，然而究其根本，是因为我们不愿『自降身份』去做事。而且在公众号的推文中，也尽可能用更加隐晦的表达方式来凸显逼格，却忘记了，对于团队最重要的事情，是活下来。</p>
<p><strong>投机和侥幸</strong></p>
<p>在项目启动之前，看到火热的创投圈，总希望能够成为那头会飞的猪。以为做产品就是画ppt做axure，却忘记了对产品本身的热爱。浮躁杀死了我们。</p>
<p>创业终究不是装逼，也不是一味的接地气。一切为了产品服务。</p>
<h2 id="4-关于其他"><a href="#4-关于其他" class="headerlink" title="4. 关于其他"></a>4. 关于其他</h2><p><strong>1. 在想到一个解决方案之后，想一下为什么别人不做。</strong></p>
<p><strong>2. 好的体验并不是UI或者UE，能用小钱快速解决的问题就不要纠结太久</strong></p>
<p>暂时脱离创业状态的我，总有一天还会回到这条路上，不为别的，就为做出一个能让『自己』爱上的产品。</p>
]]></content>
    </entry>
    
  
  
</search>
