<!DOCTYPE html>
<html>
    <head>
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.2.6 -->

    <!-- Title -->
    
    <title>
        
            C++小总结 | 
        
        彭天浩的博客
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="彭天浩">
    <meta name="description" content="手持两把锟斤拷,口中高呼烫烫烫">
    <meta name="keywords" content="“彭天浩”">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="彭天浩的博客">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://pengtianhao.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="C++小总结 | 彭天浩的博客">
    <meta property="og:description" content="手持两把锟斤拷,口中高呼烫烫烫">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
    body, html {
        font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    }

    a {
        color: #00838F;
    }

    .mdl-card__media,
    #search-label,
    #search-form-label:after,
    #scheme-Paradox .hot_tags-count,
    #scheme-Paradox .sidebar_archives-count,
    #scheme-Paradox .sidebar-colored .sidebar-header,
    #scheme-Paradox .sidebar-colored .sidebar-badge{
        background-color: #0097A7 !important;
    }

    /* Sidebar User Drop Down Menu Text Color */
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
        color: #0097A7 !important;
    }

    #post_entry-right-info,
    .sidebar-colored .sidebar-nav li:hover > a,
    .sidebar-colored .sidebar-nav li:hover > a i,
    .sidebar-colored .sidebar-nav li > a:hover,
    .sidebar-colored .sidebar-nav li > a:hover i,
    .sidebar-colored .sidebar-nav li > a:focus i,
    .sidebar-colored .sidebar-nav > .open > a,
    .sidebar-colored .sidebar-nav > .open > a:hover,
    .sidebar-colored .sidebar-nav > .open > a:focus,
    #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
        color: #0097A7 !important;
    }

    .toTop {
        background: #757575 !important;
    }

    .material-layout .material-post>.material-nav,
    .material-layout .material-index>.material-nav,
    .material-nav a {
        color: #757575;
    }

    #scheme-Paradox .MD-burger-layer {
        background-color: #757575;
    }

    #scheme-Paradox #post-toc-trigger-btn {
        color: #757575;
    }

    .post-toc a:hover {
        color: #00838F;
        text-decoration: underline;
    }
</style>


<!-- Theme Background Related-->

    <style>
        body{
            background-color: #F5F5F5;
        }

        /* blog_info bottom background */
        #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
            background-color: #fff;
        }
    </style>




<!-- Fade Effect -->

    <style>
        .fade {
            transition: all 800ms linear;
            -webkit-transform: translate3d(0,0,0);
            -moz-transform: translate3d(0,0,0);
            -ms-transform: translate3d(0,0,0);
            -o-transform: translate3d(0,0,0);
            transform: translate3d(0,0,0);
            opacity: 1;
        }

        .fade.out{
            opacity: 0;
        }
    </style>


    <script src="/js/jquery.min.js"></script>

    <link rel="stylesheet" href="/css/highlight/solarized-white.css">

    <!-- UC Browser Compatible-->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write('<link rel="stylesheet" href="/css/uc.css">');
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#const"><span class="post-toc-number">1.</span> <span class="post-toc-text">const</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#指针函数"><span class="post-toc-number">2.</span> <span class="post-toc-text">指针函数</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#函数指针"><span class="post-toc-number">3.</span> <span class="post-toc-text">函数指针</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#自定义数据类型"><span class="post-toc-number">4.</span> <span class="post-toc-text">自定义数据类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#typedef"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">typedef</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#enum"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">enum</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#函数"><span class="post-toc-number">5.</span> <span class="post-toc-text">函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参数传递"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">参数传递</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#值传递-传值"><span class="post-toc-number">5.1.1.</span> <span class="post-toc-text">值传递(传值)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#引用传递-传址"><span class="post-toc-number">5.1.2.</span> <span class="post-toc-text">引用传递(传址)</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#内联函数"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">内联函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#带默认参数值的函数"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">带默认参数值的函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#函数重载"><span class="post-toc-number">5.4.</span> <span class="post-toc-text">函数重载</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#类和对象"><span class="post-toc-number">6.</span> <span class="post-toc-text">类和对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类的组合"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">类的组合</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#const修饰的类成员"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">const修饰的类成员</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#常成员函数"><span class="post-toc-number">6.2.1.</span> <span class="post-toc-text">常成员函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#友元"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">友元</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#友元函数"><span class="post-toc-number">6.3.1.</span> <span class="post-toc-text">友元函数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#友元类"><span class="post-toc-number">6.3.2.</span> <span class="post-toc-text">友元类</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#类型兼容规则"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">类型兼容规则</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#结构体"><span class="post-toc-number">6.5.</span> <span class="post-toc-text">结构体</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#联合体"><span class="post-toc-number">6.6.</span> <span class="post-toc-text">联合体</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#生存周期"><span class="post-toc-number">7.</span> <span class="post-toc-text">生存周期</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#静态生存期"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">静态生存期</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#继承与派生"><span class="post-toc-number">8.</span> <span class="post-toc-text">继承与派生</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#公有继承"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">公有继承</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#私有继承"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">私有继承</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#保护继承"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">保护继承</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#构造函数"><span class="post-toc-number">8.4.</span> <span class="post-toc-text">构造函数</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#多态性"><span class="post-toc-number">9.</span> <span class="post-toc-text">多态性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#运算符重载"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">运算符重载</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#虚函数"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">虚函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#纯虚函数与抽象类"><span class="post-toc-number">9.3.</span> <span class="post-toc-text">纯虚函数与抽象类</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#模版"><span class="post-toc-number">10.</span> <span class="post-toc-text">模版</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#STL"><span class="post-toc-number">11.</span> <span class="post-toc-text">STL</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#泛型程序设计"><span class="post-toc-number">11.1.</span> <span class="post-toc-text">泛型程序设计</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#容器"><span class="post-toc-number">11.2.</span> <span class="post-toc-text">容器</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#顺序容器"><span class="post-toc-number">11.2.1.</span> <span class="post-toc-text">顺序容器</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#迭代器"><span class="post-toc-number">11.3.</span> <span class="post-toc-text">迭代器</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#函数对象"><span class="post-toc-number">11.4.</span> <span class="post-toc-text">函数对象</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#算法"><span class="post-toc-number">11.5.</span> <span class="post-toc-text">算法</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#随机数"><span class="post-toc-number">12.</span> <span class="post-toc-text">随机数</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Tips"><span class="post-toc-number">13.</span> <span class="post-toc-text">Tips</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#判断数组元素个数"><span class="post-toc-number">13.1.</span> <span class="post-toc-text">判断数组元素个数</span></a></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script>
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').css('background-image', 'url(' + '/img/random/material-' + randomNum + '.png' + ')');
</script>

        
    
            <p class="article-headline-p">
                C++小总结
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/head.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>彭天浩</strong>
        <span>6月 23, 2016</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/C-C/">C/C++</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;浏览量
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=C++小总结&url=http://pengtianhao.com//2016/06/23/C++小总结/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=C++小总结&url=http://pengtianhao.com//2016/06/23/C++小总结/index.html&via=彭天浩" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://pengtianhao.com//2016/06/23/C++小总结/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://pengtianhao.com//2016/06/23/C++小总结/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=彭天浩的博客&title=C++小总结&summary=手持两把锟斤拷,口中高呼烫烫烫&pics=http://pengtianhao.com/img/favicon.png&url=http://pengtianhao.com/2016/06/23/C++小总结/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="markdown-Plain mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <blockquote>
<p>来自沈逸云的博客</p>
</blockquote>
<h1 id="const"><a href="#const" class="headerlink" title="const"></a>const</h1><p>定义一个常数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> Max = <span class="number">1000</span>;</div></pre></td></tr></table></figure>
<p>保护被修饰的东西</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> x)</span></span>&#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; x;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="指针函数"><a href="#指针函数" class="headerlink" title="指针函数"></a>指针函数</h1><p>返回一个指针的函数</p>
<a id="more"></a>
<h1 id="函数指针"><a href="#函数指针" class="headerlink" title="函数指针"></a>函数指针</h1><p>指向一个函数的指针 1.指向的函数的返回类型要与声明的函数指针一致 2.指向的函数的参数类型及个数要与声明的函数指针一致</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">func</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> x * x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">double</span> (*pfunc)(<span class="keyword">double</span> x);</div><div class="line">    pfunc = func;</div><div class="line">    (*pfunc)(<span class="number">2</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>只要把函数入口的地址给函数指针就可以用函数指针执行函数了(函数名本来就是一个地址，普通函数的调用既可以 函数名(参数列表) 也可以 (*函数名)(参数列表) 只是后者不太用)。</p>
<p>也可以使用 typedef 将函数指针声明为一个类型，然后接可以像用 int 一样来定义函数指针了</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">func</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> x * x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">double</span> <span class="params">(*PFunc)</span><span class="params">(<span class="keyword">double</span> x)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    PFunc pfunc;</div><div class="line">    pfunc = func;</div><div class="line">    (*pfunc)(<span class="number">2</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>妙用，因为函数指针是指针，可以将其放到指针数组里</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*PFunc)</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">funcA</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">funcB</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> x + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">funcC</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> x + <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> choice;</div><div class="line">    PFunc pfunc[<span class="number">3</span>] = &#123;funcA, funcB, funcC&#125;;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; choice;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; pfunc[choice](choice);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="自定义数据类型"><a href="#自定义数据类型" class="headerlink" title="自定义数据类型"></a>自定义数据类型</h1><h2 id="typedef"><a href="#typedef" class="headerlink" title="typedef"></a>typedef</h2><p>typedef 已有类型名 新类型名</p>
<p>typedef double Area, Volume</p>
<h2 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h2><h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h2><h3 id="值传递-传值"><a href="#值传递-传值" class="headerlink" title="值传递(传值)"></a>值传递(传值)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> t = a;</div><div class="line">    a = b;</div><div class="line">    b = t;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> x = <span class="number">5</span>, y = <span class="number">10</span>;</div><div class="line">    swap(x, y);</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">"  "</span> &lt;&lt; y &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// 5  10</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="引用传递-传址"><a href="#引用传递-传址" class="headerlink" title="引用传递(传址)"></a>引用传递(传址)</h3><p>引用是一种特殊类型的变量，可以被认为是另一种变量的别名 指针：指针是一个变量，只不过这个变量存储的是一个地址，指向内存的一个存储单元；而引用跟原来的变量实质上是同一个东西，只不过是原变量的一个别名而已。如： int a=1;int *p=&a; int a=1;int &amp;b=a;</p>
<ul>
<li>声明一个变量时必须同时初始化，使它指向一个已存在的对象</li>
<li>一旦初始化后就不能改为指向其它对象 引用可以作为形参，此时引用在调用时初始化</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> t = a;</div><div class="line">    a = b;</div><div class="line">    b = t;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> x = <span class="number">5</span>, y = <span class="number">10</span>;</div><div class="line">    swap(x, y);</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">"  "</span> &lt;&lt; y &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// 10  5</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="内联函数"><a href="#内联函数" class="headerlink" title="内联函数"></a>内联函数</h2><p>内联函数不是在调用时发生控制转移，而是在编译时将函数体嵌入到每一个调用处。这样节省了参数传递，控制转移等开销，内联函数要求是比较简单的函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">double</span> <span class="title">calArea</span><span class="params">(<span class="keyword">double</span> radius)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> PI * radius * radius;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="带默认参数值的函数"><a href="#带默认参数值的函数" class="headerlink" title="带默认参数值的函数"></a>带默认参数值的函数</h2><p>函数在定义时可以预先声明默认的形参值。 有默认值的形参必须在形参列表的最后。 在相同的作用域内，不允许在同一个函数的多个声明中对同一个参数的默认值重复定义，即时前后定义的值相同也不行。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x = <span class="number">5</span>, <span class="keyword">int</span> y = <span class="number">6</span>)</span></span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    add();</div><div class="line">    add(<span class="number">6</span>);</div><div class="line">    add(<span class="number">6</span>, <span class="number">7</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x <span class="comment">/* = 5*/</span>, <span class="keyword">int</span> y <span class="comment">/* = 6*/</span>)</span> </span>&#123; <span class="comment">// 函数的定义也属于声明，所以在相同作用域内一个函数在定义之前又有原型声明，默认形参值应在原型声明中给出</span></div><div class="line">    <span class="keyword">return</span> x + y;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h2><p>两个以上的函数，具有相同的函数名，但是形参的类型或者个数不同，编译器根据实参和形参的类型和个数的最佳匹配自动确定调用哪一个函数</p>
<h1 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h1><p>类和对象的关系就相当于基本数据类型和变量的关系，即一般与特殊的关系</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Clock &#123;</div><div class="line"><span class="keyword">public</span>:  <span class="comment">// 类的外部接口，在类外只能访问公有成员</span></div><div class="line">    Clock(<span class="keyword">int</span> newH, <span class="keyword">int</span> newM, <span class="keyword">int</span> newS); <span class="comment">// 构造函数,对象的初始化，构造函数在对象被创建时被自动调用</span></div><div class="line">    Clock() &#123;                            <span class="comment">// 重载构造函数，现在有两种重载，带参数的和无参数的</span></div><div class="line">        hour = <span class="number">0</span>;</div><div class="line">        minute = <span class="number">0</span>;</div><div class="line">        second = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    Clock(Clock &amp;c);                     <span class="comment">// 复制构造函数</span></div><div class="line">    ~Clock();                            <span class="comment">// 析构函数，在对象的生存周期结束时被调用，不能重载不接受参数，用于释放对象开辟的内存</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setTime</span><span class="params">(<span class="keyword">int</span> newH = <span class="number">0</span>, <span class="keyword">int</span> newM = <span class="number">0</span>, <span class="keyword">int</span> newS = <span class="number">0</span>)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">showTime</span><span class="params">()</span></span>;<span class="comment">// 函数的原型声明写在类体中，原型说明了函数的参数表和返回类型。而函数的具体实现写在类定义之外</span></div><div class="line"><span class="keyword">private</span>:  <span class="comment">// 私有成员只能被本类的成员函数访问</span></div><div class="line">    <span class="keyword">int</span> hour, minute, second;</div><div class="line"><span class="keyword">protected</span>:  <span class="comment">// 保护成员的性质和私有成员一样，只是派生时派生类可以访问</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 构造函数</span></div><div class="line">Clock::Clock(<span class="keyword">int</span> newH, <span class="keyword">int</span> newM, <span class="keyword">int</span> newS) &#123;</div><div class="line">    hour = newH;</div><div class="line">    minute = newM;</div><div class="line">    second = newS;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 复制构造函数，调用一个已存在的对象来初始化当前对象</span></div><div class="line">Clock::Clock(Clock &amp;c) &#123;</div><div class="line">    hour = c.hour;</div><div class="line">    minute = c.minute;</div><div class="line">    second = c.second;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 析构函数</span></div><div class="line">Clock::~Clock() &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Clock is destoried"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 与普通函数不同的是，实现类的成员函数要指明类的名称</span></div><div class="line"><span class="keyword">void</span> Clock::setTime( <span class="keyword">int</span> newH, <span class="keyword">int</span> newM, <span class="keyword">int</span> newS ) &#123;</div><div class="line">    hour = newH;</div><div class="line">    minute = newM;</div><div class="line">    second = newS;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 内联函数，函数调用要耗时，如果某一类的函数要频繁调用且长度不长，可以使用内联函数</span></div><div class="line"><span class="comment">// 函数体在编译时会插入到每一个调用它的地方，使用 inline 声明，或者直接在class里写，</span></div><div class="line"><span class="comment">// 但为了简洁，常在外面写并加上inline</span></div><div class="line"><span class="keyword">inline</span> <span class="keyword">void</span> Clock::showTime() &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; hour &lt;&lt; <span class="string">":"</span> &lt;&lt; minute &lt;&lt; <span class="string">":"</span> &lt;&lt; second &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="类的组合"><a href="#类的组合" class="headerlink" title="类的组合"></a>类的组合</h2><p>类的组合描述的是一个类内嵌其他类的对象作为成员的情况，它们之间的关系是一种包含与被包含的关系</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Point &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Point(<span class="keyword">int</span> xx = <span class="number">0</span>, <span class="keyword">int</span> yy = <span class="number">0</span>) &#123; x = xx; y = yy; &#125;</div><div class="line">    Point(Point &amp;p);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> x;</div><div class="line">    <span class="keyword">int</span> y;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Point::Point(Point &amp;p) &#123;</div><div class="line">    x = p.x;</div><div class="line">    y = p.y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Line &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Line(Point xp1, Point xp2);</div><div class="line">    Line(Line &amp;l);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    Point p1, p2;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Line::Line(Point xp1, Point xp2) :p1(xp1), p2(xp2) &#123;&#125;</div><div class="line">Line::Line(Line &amp;l) : p1(l.p1), p2(l.p2) &#123;&#125;</div></pre></td></tr></table></figure>
<h2 id="const修饰的类成员"><a href="#const修饰的类成员" class="headerlink" title="const修饰的类成员"></a>const修饰的类成员</h2><h3 id="常成员函数"><a href="#常成员函数" class="headerlink" title="常成员函数"></a>常成员函数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Point &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Point(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> a) : a(a)&#123; <span class="comment">// 常数据成员只能通过初始化列表来获得初值</span></div><div class="line">        <span class="keyword">this</span>-&gt;x = x;</div><div class="line">        <span class="keyword">this</span>-&gt;y = y;</div><div class="line">    &#125;;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// 常成员函数，常对象只能调用常成员函数，</span></div><div class="line">                        <span class="comment">// 无论是否通过常对象调用常成员函数，在常成员函数调用期间目的对象都被视为常对象，</span></div><div class="line">                        <span class="comment">// 因此常成员函数不能更新目的对象的数据成员，也不能针对目的对象调用该类中的非常成员函数</span></div><div class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">float</span> <span class="title">dist</span><span class="params">(<span class="keyword">const</span> Point &amp;p1, <span class="keyword">const</span> Point &amp;p2)</span></span>; <span class="comment">// 常引用，复制构造函数一般也使用常引用</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> x, y;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">int</span> a; <span class="comment">// 常数据成员,任何函数不能对其赋值，构造函数只能通过初始化列表进行初始化</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">float</span> <span class="title">dist</span><span class="params">(<span class="keyword">const</span> Point &amp;p1, <span class="keyword">const</span> Point &amp;p2)</span> </span>&#123;</div><div class="line">    <span class="keyword">double</span> x = p1.x - p2.x; <span class="comment">// 友元可以访问私有属性</span></div><div class="line">    <span class="keyword">double</span> y = p1.y - p2.y;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;<span class="keyword">float</span>&gt;(<span class="built_in">sqrt</span>(x * x + y * y));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Point::print() &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"print"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Point::print() <span class="keyword">const</span> &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"print const"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</div><div class="line">     <span class="function">Point <span class="title">a</span><span class="params">(<span class="number">2</span>, <span class="number">2</span>, <span class="number">0</span>)</span></span>;</div><div class="line">     <span class="function">Point <span class="title">b</span><span class="params">(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>)</span></span>;</div><div class="line">     <span class="function"><span class="keyword">const</span> Point <span class="title">c</span><span class="params">(<span class="number">5</span>, <span class="number">4</span>, <span class="number">0</span>)</span></span>; <span class="comment">// 常对象，常对象必须被初始化，而且不能被更新</span></div><div class="line">     a.print(); <span class="comment">// print</span></div><div class="line">     c.print(); <span class="comment">// print const</span></div><div class="line">     <span class="built_in">cout</span> &lt;&lt; dist(a, b); <span class="comment">// 1.41421</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="友元"><a href="#友元" class="headerlink" title="友元"></a>友元</h2><p>(1)友元关系不能被继承。 (2)友元关系是单向的，不具有交换性。 (3)友元关系不具有传递性。</p>
<h3 id="友元函数"><a href="#友元函数" class="headerlink" title="友元函数"></a>友元函数</h3><p>友元函数在类中用friend修饰的非成员函数。友元函数可以是一个普通函数也可以是其它类的函数。虽然不是本类的成员函数，但在它的函数体中可以通过对象名访问类的私有和保护对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Point&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">float</span> <span class="title">dist</span><span class="params">(Point &amp;p1, Point &amp;p2)</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> x,y;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">float</span> <span class="title">dist</span><span class="params">(Point &amp;p1, Point &amp;p2)</span> </span>&#123;</div><div class="line">    <span class="keyword">double</span> x = p1.x - p2.x;  <span class="comment">// 通过对象访问私有数据成员</span></div><div class="line">    <span class="keyword">double</span> y = p1.y - p2.y;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;<span class="keyword">float</span>&gt;(<span class="built_in">sqrt</span>(x*x+y*y));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="友元类"><a href="#友元类" class="headerlink" title="友元类"></a>友元类</h3><p>若A类为B类的友元类，则A类的所有成员函数都是B类的友元函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> A &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">friend</span> <span class="keyword">class</span> B;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">class</span> B&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    A a;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> B::<span class="built_in">set</span>(<span class="keyword">int</span> i) &#123;</div><div class="line">    a.x = i;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="类型兼容规则"><a href="#类型兼容规则" class="headerlink" title="类型兼容规则"></a>类型兼容规则</h2><p>类型兼容规则指在需要基类对象的任何地方，都可以使用公有派生类的对象来替代</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Base1 &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base1"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Base2 : <span class="keyword">public</span> Base1 &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base2"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Base3 : <span class="keyword">public</span> Base2 &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base3"</span> &lt;&lt; <span class="built_in">endl</span>; &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(Base1 *ptr)</span> </span>&#123;</div><div class="line">ptr-&gt;display();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    Base1 b1;</div><div class="line">    Base2 b2;</div><div class="line">    Base3 b3;</div><div class="line">    func(&amp;b1);  <span class="comment">// Base1</span></div><div class="line">    func(&amp;b2);  <span class="comment">// Base1</span></div><div class="line">    func(&amp;b2);  <span class="comment">// Base1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><p>为了保持与C的兼容C++也有结构体，结构体与类的唯一区别在于，类中对未指定访问控制属性的成员其访问控制属性位私有类型，在结构体中默认位公有类型</p>
<h2 id="联合体"><a href="#联合体" class="headerlink" title="联合体"></a>联合体</h2><p>全部数据成员共享同一组内存单元</p>
<h1 id="生存周期"><a href="#生存周期" class="headerlink" title="生存周期"></a>生存周期</h1><h2 id="静态生存期"><a href="#静态生存期" class="headerlink" title="静态生存期"></a>静态生存期</h2><p>局部作用域中静态变量的特点，它并不会随着每次函数调用而产生一个副本，也不会随着函数返回而失效</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Point &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Point(<span class="keyword">int</span> x = <span class="number">0</span>, <span class="keyword">int</span> y = <span class="number">0</span>) : x(x), y(y) &#123;</div><div class="line">        count++;</div><div class="line">    &#125;</div><div class="line">    Point(Point &amp;p) &#123;</div><div class="line">        x = p.x;</div><div class="line">        y = p.y;</div><div class="line">        count++;</div><div class="line">    &#125;</div><div class="line">    ~Point() &#123; count--; &#125;</div><div class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">(Point p)</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> x, y;</div><div class="line">    <span class="keyword">static</span> <span class="keyword">int</span> count; <span class="comment">// 静态数据成员声明，用于记录Point的个数，所有对象共享相同的静态属性</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">int</span> Point::count = <span class="number">0</span>; <span class="comment">// 静态数据成员定义和初始化，使用类名限定</span></div><div class="line"></div><div class="line"><span class="keyword">void</span> Point::out(Point p) &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; count; <span class="comment">// 静态函数成员能直接访问静态属性</span></div><div class="line">    <span class="built_in">cout</span> &lt;&lt; p.x;    <span class="comment">// 但静态函数成员必须通过对象名访问非静态成员</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="继承与派生"><a href="#继承与派生" class="headerlink" title="继承与派生"></a>继承与派生</h1><p>类的继承时新的类从已有类那里得到已有的特性，从另一个角度看，从已有类产生新类的过程是类的派生 原有的类称为基类或父类，产生的新类称为派生类或子类 继承方式有三种，默认是私有继承</p>
<h2 id="公有继承"><a href="#公有继承" class="headerlink" title="公有继承"></a>公有继承</h2><p>基类的公有成员和保护成员的访问属性在派生类中不变，而基类的私有成员不可直接访问</p>
<h2 id="私有继承"><a href="#私有继承" class="headerlink" title="私有继承"></a>私有继承</h2><p>基类中的公有成员和保护成员都以私有成员身份出现在派生类中，而基类的私有成员在派生类中不可直接访问</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Point &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initPoint</span><span class="params">(<span class="keyword">float</span> x = <span class="number">0</span>, <span class="keyword">float</span> y = <span class="number">0</span>)</span> </span>&#123;<span class="keyword">this</span>-&gt;x = x; <span class="keyword">this</span>-&gt;y = y;&#125;</div><div class="line">    <span class="function"><span class="keyword">float</span> <span class="title">getX</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> x;&#125;</div><div class="line">    <span class="function"><span class="keyword">float</span> <span class="title">getY</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> y;&#125;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">float</span> x, y;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Rectangle: <span class="keyword">private</span> Point &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">initRectangle</span><span class="params">(<span class="keyword">float</span> x,  <span class="keyword">float</span> y, <span class="keyword">float</span> w, <span class="keyword">float</span> h)</span> </span>&#123;</div><div class="line">        initPoint(x, y);  <span class="comment">// 调用基类公有成员函数</span></div><div class="line">        <span class="keyword">this</span>-&gt;w = w;</div><div class="line">        <span class="keyword">this</span>-&gt;h = h;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">float</span> <span class="title">getX</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> Point::getX();&#125;   <span class="comment">// 由于私有继承，基类的公有成员变成了派生类的私有成员，外部无法访问，所以重写</span></div><div class="line">    <span class="function"><span class="keyword">float</span> <span class="title">getY</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;<span class="keyword">return</span> Point::getY();&#125;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">float</span> w, h;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="保护继承"><a href="#保护继承" class="headerlink" title="保护继承"></a>保护继承</h2><p>基类中的公有成员和保护成员都以保护成员身份出现在派生类中，而基类的私有成员在派生类中不可直接访问</p>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><p>构造函数不能被继承，子类只能调用父类的构造函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Base1 &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Base1(<span class="keyword">int</span> i) &#123;<span class="built_in">cout</span> &lt;&lt; <span class="string">"Base1  "</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Base2 &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Base2(<span class="keyword">int</span> i) &#123;<span class="built_in">cout</span> &lt;&lt; <span class="string">"Base2  "</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Base3 : <span class="keyword">public</span> Base2, <span class="keyword">public</span> Base1 &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Base3(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> k) : Base1(i), Base2(j) &#123; <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base3  "</span> &lt;&lt; k &lt;&lt; <span class="built_in">endl</span>; &#125;  <span class="comment">// 调用父类的构造函数</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="function">Base3 <span class="title">obj</span><span class="params">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Base2 2</span></div><div class="line"><span class="comment">// Base1 1</span></div><div class="line"><span class="comment">// Base3 3</span></div><div class="line"><span class="comment">// 基类构造函数调用的顺序是按照派生类定义时的顺序，先Base2再Base1最后Base3</span></div></pre></td></tr></table></figure>
<h1 id="多态性"><a href="#多态性" class="headerlink" title="多态性"></a>多态性</h1><h2 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Complex &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Complex(<span class="keyword">double</span> r = <span class="number">0.0</span>, <span class="keyword">double</span> i = <span class="number">0.0</span>): real(r), imag(i)&#123;&#125;</div><div class="line">    Complex <span class="keyword">operator</span>+ (<span class="keyword">const</span> Complex &amp;c2) <span class="keyword">const</span>;</div><div class="line">    Complex <span class="keyword">operator</span>- (<span class="keyword">const</span> Complex &amp;c2) <span class="keyword">const</span>;</div><div class="line">    Complex&amp; <span class="keyword">operator</span>++ ();  <span class="comment">// 前置单目运算符</span></div><div class="line">    Complex <span class="keyword">operator</span>++ (<span class="keyword">int</span>);  <span class="comment">// 后置单目运算符</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">double</span> real;</div><div class="line">    <span class="keyword">double</span> imag;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Complex Complex::<span class="keyword">operator</span>+( <span class="keyword">const</span> Complex &amp;c2 ) <span class="keyword">const</span> &#123;</div><div class="line">    <span class="keyword">return</span> Complex(real + c2.real, imag + c2.imag);</div><div class="line">&#125;</div><div class="line"></div><div class="line">Complex Complex::<span class="keyword">operator</span>-( <span class="keyword">const</span> Complex &amp;c2 ) <span class="keyword">const</span> &#123;</div><div class="line">    <span class="keyword">return</span> Complex(real - c2.real, imag - c2.imag);</div><div class="line">&#125;</div><div class="line"></div><div class="line">Complex&amp; Complex::<span class="keyword">operator</span>++() &#123;</div><div class="line">    imag++;</div><div class="line">    <span class="keyword">return</span> *<span class="keyword">this</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Complex Complex::<span class="keyword">operator</span>++( <span class="keyword">int</span> ) &#123;</div><div class="line">    Complex old = *<span class="keyword">this</span>;</div><div class="line">    ++(*<span class="keyword">this</span>);</div><div class="line">    <span class="keyword">return</span> old;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="虚函数"><a href="#虚函数" class="headerlink" title="虚函数"></a>虚函数</h2><p>虚函数是动态绑定的基础。虚函数必须是非静态函数 运行过程中的多态需要满足3个条件</p>
<ol>
<li>满足赋值兼容规则</li>
<li>声明虚函数</li>
<li>由成员函数来调用或者通过指针、引用来访问虚函数</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Base1 &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">displayv</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">displaynv</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Base1::displayv() <span class="keyword">const</span> &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Bsae1 virtual"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Base1::displaynv() <span class="keyword">const</span> &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base1 not virtual"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Base2: <span class="keyword">public</span> Base1&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">displayv</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">displaynv</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Base2::displayv() <span class="keyword">const</span> &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base2 virtual"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">void</span> Base2::displaynv() <span class="keyword">const</span> &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Base2 not virtual"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(Base1 *ptr)</span> </span>&#123;</div><div class="line">    ptr-&gt;displayv();</div><div class="line">    ptr-&gt;displaynv();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    Base1 b1;</div><div class="line">    Base2 b2;</div><div class="line">    func(&amp;b1);</div><div class="line">    func(&amp;b2);</div><div class="line">&#125;</div><div class="line"><span class="comment">// Base1 virtual</span></div><div class="line"><span class="comment">// Base1 not virtual</span></div><div class="line"><span class="comment">// Base2 virtual</span></div><div class="line"><span class="comment">// base1 not virtual</span></div></pre></td></tr></table></figure>
<p>Base1,Base2属于同一个类族且通过公有派生而来，满足赋值兼容规则，display声明为虚函数，程序中使用对象指针来访问成员函数。通过基类类型的指针能访问到正在指向的对象的成员</p>
<h2 id="纯虚函数与抽象类"><a href="#纯虚函数与抽象类" class="headerlink" title="纯虚函数与抽象类"></a>纯虚函数与抽象类</h2><p>纯虚函数是在基类中声明的虚函数，没有定义具体的操作内容 抽象类是带有纯虚函数的类。抽象类不能实例化</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Base1 &#123;  <span class="comment">// 抽象类</span></div><div class="line">  <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">()</span> <span class="keyword">const</span> </span>= <span class="number">0</span>;  <span class="comment">// 纯虚函数</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h1 id="模版"><a href="#模版" class="headerlink" title="模版"></a>模版</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;  <span class="comment">// 函数模版</span></div><div class="line"><span class="function">T <span class="title">abs</span><span class="params">(T x)</span> </span>&#123;</div><div class="line">  <span class="keyword">return</span> x &lt; <span class="number">0</span> ? -x : x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;  <span class="comment">// 类模版</span></div><div class="line"><span class="keyword">class</span> Store &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  Store();</div><div class="line">  <span class="function">T &amp;<span class="title">getElem</span><span class="params">()</span></span>;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">putElem</span><span class="params">(<span class="keyword">const</span> T &amp;x)</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">  T item;</div><div class="line">  <span class="keyword">bool</span> haveValue;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div><div class="line">Store&lt;T&gt;::Store(): haveValue(<span class="literal">false</span>) &#123;&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div><div class="line">T &amp;Store&lt;T&gt;::getElem() &#123;</div><div class="line">  <span class="keyword">if</span> (!haveValue) &#123;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"No item present"</span> &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="built_in">exit</span>(<span class="number">1</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> item;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div><div class="line"><span class="keyword">void</span> Store&lt;T&gt;::putElem(<span class="keyword">const</span> T &amp;x) &#123;</div><div class="line">  haveValue = <span class="literal">true</span>;</div><div class="line">  item = x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> Student &#123;</div><div class="line">    <span class="keyword">int</span> id;</div><div class="line">    <span class="keyword">float</span> gpa;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> n1 = <span class="number">-5</span>;</div><div class="line">    <span class="keyword">double</span> n2 = <span class="number">-5.1</span>;</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">abs</span>(n1) &lt;&lt; <span class="built_in">endl</span>;  <span class="comment">// 编译器从实参类型推导出函数模版的类型参数</span></div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">abs</span>(n2) &lt;&lt; <span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    Student stu = &#123; <span class="number">1000</span>, <span class="number">23</span> &#125;;</div><div class="line">    Store&lt;Student&gt; s1;  <span class="comment">// 定义Store&lt;Student&gt;类对象，数据类型为Student结构体</span></div><div class="line">    s1.putElem(stu);</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"id = "</span> &lt;&lt; s1.getElem().gpa &lt;&lt; <span class="built_in">endl</span>;</div><div class="line"></div><div class="line">    Store&lt;<span class="keyword">double</span>&gt; s2;  <span class="comment">// 定义Store&lt;double&gt;类对象，数据类型为double</span></div><div class="line">    s2.putElem(<span class="number">2.0</span>);</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"value = "</span> &lt;&lt; s2.getElem() &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h1><h2 id="泛型程序设计"><a href="#泛型程序设计" class="headerlink" title="泛型程序设计"></a>泛型程序设计</h2><p>就是编写不依赖于具体数据类型的程序</p>
<h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><h3 id="顺序容器"><a href="#顺序容器" class="headerlink" title="顺序容器"></a>顺序容器</h3><p>s.erase(p1)<br>s.erase(p1, p2)<br>s.push_back(t)<br>s.pop_back()<br>s.push_front(t)<br>s.pop_front()</p>
<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p>迭代器是范化的指针，STL算法利用迭代器对存储在容器中的元素序列进行遍历</p>
<h2 id="函数对象"><a href="#函数对象" class="headerlink" title="函数对象"></a>函数对象</h2><h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><h1 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h1><p>C++中不能使用 random()。C++中常使用 rand()函数来生成随机数，但严格意义上生成的是伪随机数。 rand()不能指定随机数的范围，生成的数在 0 到 RAND_MAX 之间。可以自己写能指定生成范围的随机函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">random</span><span class="params">(<span class="keyword">double</span> start, <span class="keyword">double</span> end)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> start + (end - start) * rand() / (RAND_MAX + <span class="number">1.0</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h1><h2 id="判断数组元素个数"><a href="#判断数组元素个数" class="headerlink" title="判断数组元素个数"></a>判断数组元素个数</h2><p>静态数组</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> s[] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;</div><div class="line"></div><div class="line"><span class="keyword">int</span> len = <span class="keyword">sizeof</span>(s) / <span class="keyword">sizeof</span>(s[<span class="number">0</span>]);</div><div class="line"></div><div class="line"><span class="comment">//or</span></div><div class="line"><span class="keyword">int</span> *sbeg = begin(s);</div><div class="line"><span class="keyword">int</span> *send = end(s);</div><div class="line"><span class="keyword">auto</span> len = send - sbeg;</div></pre></td></tr></table></figure>
<p>动态数组没有办法判断 因为 int s[] = { 1, 2, 3 }声明的静态数组存放在栈空间，s 指向的是整个数组的空间，所以可以用 sizeof(s) / sizeof(s[0])来判断元素个数。而 int *s = new int[10]数组的内容放在堆空间，s 只指向首地址，只有 4 字节，无法获取整个数组的大小。 通过栈空间和堆空间也不难理解为什么函数中声明的静态数组无法返回，动态数组可以返回，因为栈空间里的内容会被自动释放，堆空间需要 delete 才会释放。</p>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #0097A7 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #0097A7 !important;
    }
    #ds-reset .ds-highlight {
        color: #0097A7 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread"
        data-thread-key=""
        data-url="http://pengtianhao.com/2016/06/23/C++小总结/"
        data-title="C++小总结">
    </div>
    <!-- 多说评论框 end -->
</div>





                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2016/06/23/汇编小总结/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2016/04/14/包子行走隐私政策/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/head.jpg" alt="彭天浩's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        pengtianhao48@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:pengtianhao48@gmail.com" target="_blank" title="Email Me">
                        <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    <li id="sidebar-first-li">
        <a href="/" target="_self">
            <i class="material-icons sidebar-material-icons">home</i>
            主页
        </a>
    </li>

    <!-- I'm Feeling Lucky -->
    <!--
    <li class="dropdown">
        <a href="" target="_self">
            <i class="material-icons sidebar-material-icons">explore</i>
             sidebar.imlucky
        </a>
    </li>
    -->

    <!-- Archives  -->
    <li class="dropdown">
        <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
            <i class="material-icons sidebar-material-icons">inbox</i>
             归档
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li>
            <a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">四月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">三月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/01/">一月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2015/12/">十二月 2015<span class="sidebar_archives-count">2</span></a>
        </ul>
    </li>

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/MacOS/">MacOS<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS/">iOS<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/创业/">创业<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/杂烩/">杂烩<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/科技文章/">科技文章<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/英语/">英语<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算机基础/">计算机基础<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/categories/转载/">转载<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/随感/">随感<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
    

    <!-- Divider -->
    <li class="divider"></li>


    <!-- Pages  -->
  	
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
  	

    <!-- Article Numebr  -->
    <li>
        <a href="/archives">
            文章总数
            <span class="sidebar-badge">24</span>
        </a>
    </li>
</ul>


        <!-- Sidebar Divider -->
        <div class="sidebar-divider"></div>

        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Theme Material -->
<a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        主题 - Material
        <span class="sidebar-badge badge-circle">i</span>
    </div>
</a>

<!-- Help & Support -->
<!--
<a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
    sidebar.help
    <span class="mdl-button__ripple-container">
      <span class="mdl-ripple"></span>
    </span>
  </div>
</a>
-->

<!-- Feedback -->
<!--
<a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.feedback
                    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>
-->

<!-- Abount Theme -->
<!--
<a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.about_theme
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>-->

    </div>

    <!-- Sidebar Sponsor -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-twitter.png);">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/tim.peng.378" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-facebook.png);">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/pthtc" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/peng-tian-hao-23/activities" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-zhihu.png);">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;彭天浩的博客
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->
<script src="/js/highlight.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();

    $('#nprogress .bar').css({
        'background': '#FF4081'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #FF4081, 0 0 15px #FF4081'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#FF4081',
        'border-left-color': '#FF4081'
    });

    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    <script src="/js/smoothscroll.js"></script>





    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
        var duoshuoQuery = {
            short_name: 'pengtianhao'
        };
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';
            ds.async = true;
            ds.src = 'https://static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0]
             || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共 js 代码 end -->





<!-- Swiftye -->


<!-- Local Search-->

    <script>
    var searchFunc = function(path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: 'xml',
            success: function( xmlResponse ) {
                // get the contents from search data
                var datas = $( 'entry', xmlResponse ).map(function() {
                    return {
                        title: $( 'title', this ).text(),
                        content: $('content',this).text(),
                        url: $( 'url' , this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function() {
                    var str='<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function(data) {
                        var isMatch = true;
                        var content_index = [];
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                        var data_url = data.url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if(data_title != '' && data_content != '') {
                            keywords.forEach(function(keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if( index_title < 0 && index_content < 0 ) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += '<li><a href="'+ data_url +'" class="search-result-title" target="_blank">'+ data_title;
                            var content = data.content.trim().replace(/<[^>]+>/g, '');
                            if (first_occur >= 0) {
                                // cut out characters
                                var start = first_occur - 6;
                                var end = first_occur + 6;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 10;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, 'gi');
                                    match_content = match_content.replace(regS, '<em class="search-keyword">'+keyword+'</em>');
                                })
                                str += '<p class="search-result">' + match_content +'...</p>' +'</a>';
                            }
                        }
                    });
                    $resultContent.innerHTML = str;
                });
            }
        });
    }
</script>


    <script>
        var inputArea = document.querySelector('#search');
        var getSearchFile = function() {
            var path = 'search.xml';
            searchFunc(path, 'search', 'local-search-result');
        }

        if(inputArea) {
            inputArea.onfocus = function() {
                getSearchFile();
            }
        }
    </script>


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
